---
title: Preparare un'app esistente per HoloLens 2
description: Queste informazioni sono destinate agli sviluppatori che hanno un'app esistente in HoloLens (prima generazione) e/o una versione precedente di MRTK e vogliono eseguire la conversione a MRTK versione 2 e HoloLens 2.
author: grbury
ms.author: grbury
ms.date: 07/29/2020
ms.topic: article
ms.localizationpriority: high
keywords: Windows Mixed Reality, testare, MRTK, MRTK versione 2, HoloLens 2
ms.openlocfilehash: a6d6c4ad2b9ec0de2663536f2299f31f7d79571a
ms.sourcegitcommit: ef0bf03833eda826ed0b884859b4573775112aba
ms.translationtype: HT
ms.contentlocale: it-IT
ms.lasthandoff: 07/31/2020
ms.locfileid: "87476993"
---
# <a name="get-your-existing-app-ready-for-hololens-2"></a><span data-ttu-id="65f39-104">Preparare un'app esistente per HoloLens 2</span><span class="sxs-lookup"><span data-stu-id="65f39-104">Get your existing app ready for HoloLens 2</span></span>

## <a name="overview"></a><span data-ttu-id="65f39-105">Panoramica</span><span class="sxs-lookup"><span data-stu-id="65f39-105">Overview</span></span>

<span data-ttu-id="65f39-106">Questa guida è progettata appositamente per aiutare gli sviluppatori con un'applicazione Unity per HoloLens (prima generazione) a convertirla per il dispositivo HoloLens 2.</span><span class="sxs-lookup"><span data-stu-id="65f39-106">This guide is tailored to help developers with an existing Unity application for HoloLens (1st gen) port their application for the HoloLens 2 device.</span></span> <span data-ttu-id="65f39-107">Per la conversione di un'applicazione Unity da HoloLens (prima generazione) a HoloLens 2, è necessario completare quattro passaggi.</span><span class="sxs-lookup"><span data-stu-id="65f39-107">There are four key steps to porting a HoloLens (1st gen) Unity application to HoloLens 2.</span></span> 

<span data-ttu-id="65f39-108">Le sezioni seguenti forniscono informazioni dettagliate per ogni fase:</span><span class="sxs-lookup"><span data-stu-id="65f39-108">The sections below detail information for each stage:</span></span>

| <span data-ttu-id="65f39-109">Passaggio 1</span><span class="sxs-lookup"><span data-stu-id="65f39-109">Step 1</span></span> | <span data-ttu-id="65f39-110">Passaggio 2</span><span class="sxs-lookup"><span data-stu-id="65f39-110">Step 2</span></span> | <span data-ttu-id="65f39-111">Passaggio 3</span><span class="sxs-lookup"><span data-stu-id="65f39-111">Step 3</span></span> | <span data-ttu-id="65f39-112">Passaggio 4</span><span class="sxs-lookup"><span data-stu-id="65f39-112">Step 4</span></span> |
|----------|-------------------|-------------------|-------------------|
| ![Logo di Visual Studio](images/visualstudio_logo.png) | ![Logo di Unity](images/final_unity_logo.png)| ![Icona di Unity](images/hololens2_icon.jpg) | ![Logo di MRTK](images/final_mrtk-small_logo.png) |
| <span data-ttu-id="65f39-117">Scaricare gli strumenti più recenti</span><span class="sxs-lookup"><span data-stu-id="65f39-117">Download latest tools</span></span> | <span data-ttu-id="65f39-118">Aggiornare un progetto Unity</span><span class="sxs-lookup"><span data-stu-id="65f39-118">Update Unity Project</span></span> | <span data-ttu-id="65f39-119">Eseguire la compilazione per ARM</span><span class="sxs-lookup"><span data-stu-id="65f39-119">Compile for ARM</span></span> | <span data-ttu-id="65f39-120">Eseguire la migrazione a MRTK v2</span><span class="sxs-lookup"><span data-stu-id="65f39-120">Migrate to MRTK v2</span></span>

<span data-ttu-id="65f39-121">Prerequisiti:</span><span class="sxs-lookup"><span data-stu-id="65f39-121">Prerequisites:</span></span>

<span data-ttu-id="65f39-122">Prima di iniziare il processo di conversione, è **consigliabile** usare il controllo del codice sorgente per salvare uno snapshot dello stato originale dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="65f39-122">It's **highly recommended** that you use source control to save a snapshot your applications original state before starting the porting process.</span></span> <span data-ttu-id="65f39-123">Inoltre, è consigliabile *salvare* gli stati dei checkpoint in vari momenti durante il processo.</span><span class="sxs-lookup"><span data-stu-id="65f39-123">Additionally, we recommend *saving* checkpoint states at various times during the process.</span></span> <span data-ttu-id="65f39-124">Può anche essere utile avere un'altra istanza Unity dell'applicazione originale per eseguire il confronto affiancato durante il processo di conversione.</span><span class="sxs-lookup"><span data-stu-id="65f39-124">It can also be helpful to have another Unity instance of the original application to compare side-by-side during the porting process.</span></span> 

> [!NOTE]
> <span data-ttu-id="65f39-125">Prima della conversione, assicurati che siano installati gli strumenti più recenti per lo sviluppo con Windows Mixed Reality.</span><span class="sxs-lookup"><span data-stu-id="65f39-125">Before porting, ensure you have the latest tools installed for Windows Mixed Reality development.</span></span> <span data-ttu-id="65f39-126">Per la maggior parte degli attuali sviluppatori HoloLens, questo passaggio comporta l'aggiornamento all'ultima versione di Visual Studio 2019 e l'installazione dell'istanza appropriata di Windows SDK.</span><span class="sxs-lookup"><span data-stu-id="65f39-126">For most existing HoloLens developers, this involves updating to the latest version of Visual Studio 2019 and installing the appropriate Windows SDK.</span></span> <span data-ttu-id="65f39-127">Di seguito verranno analizzate in dettaglio diverse versioni di Unity e Mixed Reality Toolkit (MRTK) versione 2.</span><span class="sxs-lookup"><span data-stu-id="65f39-127">The content that follows dives further into different Unity versions and the Mixed Reality Toolkit (MRTK) Version 2.</span></span>
>
> <span data-ttu-id="65f39-128">Per altre informazioni, vedi [Installare gli strumenti](install-the-tools.md).</span><span class="sxs-lookup"><span data-stu-id="65f39-128">For more information, please see [Install the tools](install-the-tools.md).</span></span>

## <a name="migrate-project-to-the-latest-version-of-unity"></a><span data-ttu-id="65f39-129">Eseguire la migrazione del progetto all'ultima versione di Unity</span><span class="sxs-lookup"><span data-stu-id="65f39-129">Migrate project to the latest version of Unity</span></span>

<span data-ttu-id="65f39-130">Se si usa [MRTK v2](https://github.com/microsoft/MixedRealityToolkit-Unity), [Unity 2019 LTS](https://unity3d.com/unity/qa/lts-releases) è il percorso di supporto a lungo termine ottimale senza modifiche di rilievo in Unity o in MRTK.</span><span class="sxs-lookup"><span data-stu-id="65f39-130">If you're using [MRTK v2](https://github.com/microsoft/MixedRealityToolkit-Unity), [Unity 2019 LTS](https://unity3d.com/unity/qa/lts-releases) is the best long-term support path with no breaking changes in Unity or in MRTK.</span></span> <span data-ttu-id="65f39-131">È necessario valutare tutte le [dipendenze da plug-in](https://docs.unity3d.com/Manual/Plugins.html) attualmente esistenti nel progetto e stabilire se è possibile creare le DLL per ARM64.</span><span class="sxs-lookup"><span data-stu-id="65f39-131">You should assess any [plugin dependencies](https://docs.unity3d.com/Manual/Plugins.html) that currently exist in your project, and determine whether or not these DLLs can be built for ARM64.</span></span> <span data-ttu-id="65f39-132">Se non è possibile compilare un plug-in con dipendenza rigida per ARM64, potrebbe essere necessario continuare a compilare l'app per ARM.</span><span class="sxs-lookup"><span data-stu-id="65f39-132">If a hard dependency plugin cannot be built for ARM64, you may need to continue building your app for ARM.</span></span>

<!-- MRTK v2 always guarantees support for Unity 2018 LTS, but does not necessarily guarantee support for every iteration of Unity 2019.x.

To help clarify additional differences between [Unity 2018 LTS](https://unity3d.com/unity/qa/lts-releases) and Unity 2019.x, the following table outlines the trade-offs between the two versions. The primary difference between the two is the ability to compile for ARM64 in Unity 2019.

| Unity 2018 LTS | Unity 2019.x |
|----------|-------------------|
| ARM32 build support | ARM32 and ARM64 build support |
| Stable LTS build release | Beta stability |
| [.NET Scripting back-end](https://docs.unity3d.com/2018.4/Documentation/Manual/windowsstore-dotnet.html) *deprecated* | [.NET Scripting back-end](https://docs.unity3d.com/2018.4/Documentation/Manual/windowsstore-dotnet.html) *removed* |
| UNET Networking *deprecated* | UNET Networking *deprecated* |

-->

## <a name="update-sceneproject-settings-in-unity"></a><span data-ttu-id="65f39-133">Aggiornare le impostazioni di scena o progetto in Unity</span><span class="sxs-lookup"><span data-stu-id="65f39-133">Update scene/project settings in Unity</span></span>

<span data-ttu-id="65f39-134">Dopo l'aggiornamento a [Unity 2019 LTS](https://unity3d.com/unity/qa/lts-releases), è consigliabile aggiornare specifiche impostazioni di Unity per ottenere risultati ottimali nel dispositivo.</span><span class="sxs-lookup"><span data-stu-id="65f39-134">After updating to [Unity 2019 LTS](https://unity3d.com/unity/qa/lts-releases), it's recommended that you update particular settings in Unity for optimal results on the device.</span></span> <span data-ttu-id="65f39-135">Queste impostazioni sono descritte in dettaglio nella sezione [Impostazioni consigliate per Unity](Recommended-settings-for-Unity.md).</span><span class="sxs-lookup"><span data-stu-id="65f39-135">These settings are outlined in detail under [recommended settings for Unity](Recommended-settings-for-Unity.md).</span></span>

<span data-ttu-id="65f39-136">È opportuno ripetere che il [back-end di scripting .NET](https://docs.unity3d.com/Manual/windowsstore-dotnet.html) è stato deprecato in Unity 2018 e *rimosso* in Unity 2019.</span><span class="sxs-lookup"><span data-stu-id="65f39-136">It should be reiterated that the [.NET scripting back-end](https://docs.unity3d.com/Manual/windowsstore-dotnet.html) is being deprecated in Unity 2018 and *removed* in Unity 2019.</span></span> <span data-ttu-id="65f39-137">Per gli sviluppatori è consigliabile passare a [IL2CPP](https://docs.unity3d.com/Manual/IL2CPP.html) per il loro progetto.</span><span class="sxs-lookup"><span data-stu-id="65f39-137">Developers should strongly consider switching their project to [IL2CPP](https://docs.unity3d.com/Manual/IL2CPP.html).</span></span>

> [!NOTE]
> <span data-ttu-id="65f39-138">Il back-end di scripting IL2CPP può comportare tempi di compilazione da Unity a Visual Studio più lunghi, quindi gli sviluppatori devono configurare i computer di sviluppo in modo da [ottimizzare i tempi di compilazione di IL2CPP](https://docs.unity3d.com/Manual/IL2CPP-OptimizingBuildTimes.html).</span><span class="sxs-lookup"><span data-stu-id="65f39-138">IL2CPP scripting back-end can cause longer build times from Unity to Visual Studio, and developers should set up their developer machine for [optimizing IL2CPP build times](https://docs.unity3d.com/Manual/IL2CPP-OptimizingBuildTimes.html).</span></span>
> <span data-ttu-id="65f39-139">Inoltre, potrebbe essere utile configurare un [server di cache](https://docs.unity3d.com/Manual/CacheServer.html), soprattutto per i progetti Unity con una grande quantità di asset (esclusi i file di script) o con asset e scene che cambiano continuamente.</span><span class="sxs-lookup"><span data-stu-id="65f39-139">It might also be beneficial to set up a [cache server](https://docs.unity3d.com/Manual/CacheServer.html), especially for Unity projects with a large amount of assets (excluding script files) or constantly changing scenes and assets.</span></span> <span data-ttu-id="65f39-140">All'apertura di un progetto, Unity archivia gli asset validi in un formato della cache interna nel computer di sviluppo.</span><span class="sxs-lookup"><span data-stu-id="65f39-140">When opening a project, Unity stores qualifying assets into an internal cache format on the developer machine.</span></span> <span data-ttu-id="65f39-141">Gli elementi devono essere reimportati e rielaborati in caso di modifica.</span><span class="sxs-lookup"><span data-stu-id="65f39-141">Items must be re-imported and re-processed when modified.</span></span> <span data-ttu-id="65f39-142">Questo processo può essere eseguito una volta sola, salvato in un server di cache e quindi condiviso con altri sviluppatori in modo da risparmiare tempo, evitando a ciascuno sviluppatore di elaborare la reimportazione di nuove modifiche in locale.</span><span class="sxs-lookup"><span data-stu-id="65f39-142">This process can be done once and saved in a cache server and consequently shared with other developers to save time, as opposed to every developer processing the re-import of new changes locally.</span></span>

<span data-ttu-id="65f39-143">Dopo aver gestito tutte le modifiche di rilievo derivanti dal passaggio alla versione aggiornata di Unity, è necessario creare e testare le applicazioni correnti in HoloLens (prima generazione).</span><span class="sxs-lookup"><span data-stu-id="65f39-143">After addressing any breaking changes from moving to the updated Unity version, you should build and test your current applications on HoloLens (1st gen).</span></span> <span data-ttu-id="65f39-144">In questa fase è anche opportuno creare e salvare un commit per il controllo del codice sorgente.</span><span class="sxs-lookup"><span data-stu-id="65f39-144">This is a good time to create and save a commit into source control.</span></span>

## <a name="compile-dependenciesplugins-for-arm-processor"></a><span data-ttu-id="65f39-145">Compilare dipendenze/plug-in per il processore ARM</span><span class="sxs-lookup"><span data-stu-id="65f39-145">Compile dependencies/plugins for ARM processor</span></span>

<span data-ttu-id="65f39-146">HoloLens (prima generazione) esegue le applicazioni su un processore x86, mentre HoloLens 2 si basa su un processore ARM.</span><span class="sxs-lookup"><span data-stu-id="65f39-146">HoloLens (1st gen) executes applications on an x86 processor while the HoloLens 2 uses an ARM processor.</span></span> <span data-ttu-id="65f39-147">Di conseguenza, le applicazioni HoloLens esistenti devono essere convertite per supportare ARM.</span><span class="sxs-lookup"><span data-stu-id="65f39-147">Therefore, existing HoloLens applications need to be ported over to support ARM.</span></span> <span data-ttu-id="65f39-148">Come indicato in precedenza, Unity 2018 LST supporta la compilazione per app ARM32, mentre Unity 2019.x supporta la compilazione per app ARM32 e ARM64.</span><span class="sxs-lookup"><span data-stu-id="65f39-148">As noted earlier, Unity 2018 LTS supports compiling ARM32 apps while Unity 2019.x supports compiling ARM32 and ARM64 apps.</span></span> <span data-ttu-id="65f39-149">Lo sviluppo per le applicazioni ARM64 è preferibile in quanto esiste una differenza sostanziale nelle prestazioni.</span><span class="sxs-lookup"><span data-stu-id="65f39-149">Developing for ARM64 applications is preferred, as there is a material difference in performance.</span></span> <span data-ttu-id="65f39-150">Tuttavia, in questo modo è necessario creare tutte le [dipendenze da plug-in](https://docs.unity3d.com/Manual/Plugins.html) anche per ARM64.</span><span class="sxs-lookup"><span data-stu-id="65f39-150">However, this requires all [plugin dependencies](https://docs.unity3d.com/Manual/Plugins.html) to also be built for ARM64.</span></span>

<span data-ttu-id="65f39-151">Esamina tutte le dipendenze da DLL dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="65f39-151">Review all DLL dependencies in your application.</span></span> <span data-ttu-id="65f39-152">Se una dipendenza non è più necessaria, è consigliabile rimuoverla dal progetto.</span><span class="sxs-lookup"><span data-stu-id="65f39-152">It is advisable to remove any dependency that is no longer needed from your project.</span></span> <span data-ttu-id="65f39-153">Per i plug-in rimanenti che sono necessari, inserisci i rispettivi file binari ARM32 o ARM64 nel progetto Unity.</span><span class="sxs-lookup"><span data-stu-id="65f39-153">For remaining plugins that are required, ingest the respective ARM32 or ARM64 binaries into your Unity project.</span></span>

<span data-ttu-id="65f39-154">Dopo aver inserito le DLL pertinenti, crea una soluzione Visual Studio da Unity e quindi compila AppX per ARM in Visual Studio per verificare che l'applicazione possa essere creata per processori ARM.</span><span class="sxs-lookup"><span data-stu-id="65f39-154">After ingesting the relevant DLLs, build a Visual Studio solution from Unity and then compile an AppX for ARM in Visual Studio to test that your application can be built for ARM processors.</span></span> <span data-ttu-id="65f39-155">È consigliabile salvare l'applicazione come commit nella soluzione di controllo del codice sorgente.</span><span class="sxs-lookup"><span data-stu-id="65f39-155">It is advised to save the application as a commit in your source control solution.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="65f39-156">Le applicazioni che usano MRTK v1 possono essere eseguite in HoloLens 2 dopo aver impostato la destinazione di compilazione su ARM, presupponendo che tutti gli altri requisiti siano soddisfatti,</span><span class="sxs-lookup"><span data-stu-id="65f39-156">Application's using MRTK v1 can be run on HoloLens 2 after changing the build target to ARM, assuming that all other requirements are met.</span></span> <span data-ttu-id="65f39-157">inclusa la presenza di versioni ARM di tutti i plug-in.</span><span class="sxs-lookup"><span data-stu-id="65f39-157">This includes making sure you have ARM versions of all your plugins.</span></span> <span data-ttu-id="65f39-158">L'app, tuttavia, non potrà accedere alle funzioni specifiche di HoloLens 2, ad esempio il tracciamento della mano e il tracciamento oculare articolati.</span><span class="sxs-lookup"><span data-stu-id="65f39-158">However, your app won't have access to HoloLens 2 specific functions like articulated hand and eye tracking.</span></span> <span data-ttu-id="65f39-159">MRTK v1 e MRTK v2 hanno spazi dei nomi diversi che consentono di mantenere entrambe le versioni nello stesso progetto, meccanismo utile per la transizione da una versione all'altra.</span><span class="sxs-lookup"><span data-stu-id="65f39-159">MRTK v1 and MRTK v2 have different namespaces that allow both versions to be in the same project, which is useful for transitioning from one to the other.</span></span>

## <a name="update-to-mrtk-version-2"></a><span data-ttu-id="65f39-160">Eseguire l'aggiornamento a MRTK versione 2</span><span class="sxs-lookup"><span data-stu-id="65f39-160">Update to MRTK version 2</span></span>

<span data-ttu-id="65f39-161">[MRTK versione 2](https://github.com/microsoft/MixedRealityToolkit-Unity) è il nuovo toolkit che controlla Unity e che supporta sia HoloLens (prima generazione) che HoloLens 2.</span><span class="sxs-lookup"><span data-stu-id="65f39-161">[MRTK Version 2](https://github.com/microsoft/MixedRealityToolkit-Unity) is the new toolkit on top of Unity that supports both HoloLens (1st gen) and HoloLens 2.</span></span> <span data-ttu-id="65f39-162">In questo toolkit sono state aggiunte tutte le nuove funzionalità di HoloLens 2, ad esempio le interazioni con le mani e il tracciamento oculare.</span><span class="sxs-lookup"><span data-stu-id="65f39-162">It is also where all the new HoloLens 2 capabilities have been added, such as hand interactions and eye tracking.</span></span>

<span data-ttu-id="65f39-163">Per altre informazioni sull'uso di MRTK versione 2, vedere le risorse seguenti:</span><span class="sxs-lookup"><span data-stu-id="65f39-163">Check out the following resources for more information on using MRTK version 2:</span></span>

- [<span data-ttu-id="65f39-164">Pagina di destinazione di MRTK</span><span class="sxs-lookup"><span data-stu-id="65f39-164">MRTK Landing Page</span></span>](https://microsoft.github.io/MixedRealityToolkit-Unity/README.html)
- [<span data-ttu-id="65f39-165">Introduzione a MRTK</span><span class="sxs-lookup"><span data-stu-id="65f39-165">Getting started with MRTK</span></span>](https://microsoft.github.io/MixedRealityToolkit-Unity/Documentation/GettingStartedWithTheMRTK.html)
- [<span data-ttu-id="65f39-166">Interazioni con le mani in MRTK</span><span class="sxs-lookup"><span data-stu-id="65f39-166">MRTK Hands</span></span>](https://microsoft.github.io/MixedRealityToolkit-Unity/Documentation/Input/HandTracking.html)
- [<span data-ttu-id="65f39-167">Tracciamento oculare in MRTK</span><span class="sxs-lookup"><span data-stu-id="65f39-167">MRTK Eye Tracking</span></span>](https://microsoft.github.io/MixedRealityToolkit-Unity/Documentation/EyeTracking/EyeTracking_Main.html)

### <a name="prepare-for-the-migration"></a><span data-ttu-id="65f39-168">Prepararsi per la migrazione</span><span class="sxs-lookup"><span data-stu-id="65f39-168">Prepare for the migration</span></span>

<span data-ttu-id="65f39-169">Prima dell'inserimento di nuovi [file \*.unitypackage per MRTK v2](https://github.com/Microsoft/MixedRealityToolkit-Unity/releases), è consigliabile eseguire un inventario di **1) tutto il codice personalizzato che si integra con MRTK v1** e di **2) tutto il codice personalizzato per le interazioni di input o i componenti dell'esperienza utente**.</span><span class="sxs-lookup"><span data-stu-id="65f39-169">Before ingesting the new [\*.unitypackage files for MRTK v2](https://github.com/Microsoft/MixedRealityToolkit-Unity/releases), it is recommended to take an inventory of **1) any custom-built code that integrates with MRTK v1** and **2) any custom-built code for input interactions or UX components**.</span></span> <span data-ttu-id="65f39-170">L'impegno maggiore per uno sviluppatore di realtà mista che inserisce il toolkit MRTK v2 è relativo all'input e alle interazioni.</span><span class="sxs-lookup"><span data-stu-id="65f39-170">The most common and prevalent conflict for a mixed reality developer ingesting MRTK v2 involves input and interactions.</span></span> <span data-ttu-id="65f39-171">È consigliabile pertanto leggere e comprendere il [modello di input di MRTK v2](https://microsoft.github.io/MixedRealityToolkit-Unity/Documentation/Input/Overview.html).</span><span class="sxs-lookup"><span data-stu-id="65f39-171">It is advised to begin reading and understanding the [MRTK v2 input model](https://microsoft.github.io/MixedRealityToolkit-Unity/Documentation/Input/Overview.html).</span></span>

<span data-ttu-id="65f39-172">Infine, il nuovo toolkit [MRTK v2](https://github.com/microsoft/MixedRealityToolkit-Unity) è passato da un modello di script e di oggetti di gestione in scena a un'architettura di provider di servizi e configurazione.</span><span class="sxs-lookup"><span data-stu-id="65f39-172">Finally, the new [MRTK v2](https://github.com/microsoft/MixedRealityToolkit-Unity) has transitioned from a model of scripts and in-scene manager objects to a configuration and services provider architecture.</span></span> <span data-ttu-id="65f39-173">Ne deriva un modello di architettura e gerarchia di scene più chiaro, ma anche l'esigenza di una curva di apprendimento per comprendere i nuovi profili di configurazione.</span><span class="sxs-lookup"><span data-stu-id="65f39-173">This results in a cleaner scene hierarchy and architecture model, but requires a learning curve for understanding the new configuration profiles.</span></span> <span data-ttu-id="65f39-174">Leggi pertanto [Guida alla configurazione di Mixed Reality Toolkit](https://microsoft.github.io/MixedRealityToolkit-Unity/Documentation/MixedRealityConfigurationGuide.html) per acquisire familiarità con le impostazioni e i profili importanti per soddisfare i requisiti dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="65f39-174">Thus, please read the [Mixed Reality Toolkit Configuration Guide](https://microsoft.github.io/MixedRealityToolkit-Unity/Documentation/MixedRealityConfigurationGuide.html) to start becoming familiar with the important settings and profiles to adjust to the needs of your application.</span></span>

### <a name="perform-the-migration"></a><span data-ttu-id="65f39-175">Eseguire la migrazione</span><span class="sxs-lookup"><span data-stu-id="65f39-175">Perform the migration</span></span>

<span data-ttu-id="65f39-176">Dopo l'importazione di [MRTK v2](https://github.com/microsoft/MixedRealityToolkit-Unity), il progetto Unity conterrà probabilmente molti errori relativi al compilatore.</span><span class="sxs-lookup"><span data-stu-id="65f39-176">After importing [MRTK v2](https://github.com/microsoft/MixedRealityToolkit-Unity), your Unity project most likely has many compiler-related errors.</span></span> <span data-ttu-id="65f39-177">Si tratta in genere di errori dovuti alla struttura dei nuovi spazi dei nomi e ai nomi dei nuovi componenti.</span><span class="sxs-lookup"><span data-stu-id="65f39-177">These are commonly due to the new namespace structure and new component names.</span></span> <span data-ttu-id="65f39-178">Per risolvere questi errori, inserisci negli script i nuovi spazi dei nomi e componenti.</span><span class="sxs-lookup"><span data-stu-id="65f39-178">Proceed to resolve these errors by modifying your scripts to the new namespaces and components.</span></span>

<span data-ttu-id="65f39-179">Per informazioni sulle differenze di API specifiche tra HTK/MRTK e MRTK v2, vedi la guida di conversione nella [wiki di MRTK versione 2](https://microsoft.github.io/MixedRealityToolkit-Unity/Documentation/HTKToMRTKPortingGuide.html).</span><span class="sxs-lookup"><span data-stu-id="65f39-179">For information on the specific API differences between HTK/MRTK and MRTK v2, see the porting guide on the [MRTK Version 2 wiki](https://microsoft.github.io/MixedRealityToolkit-Unity/Documentation/HTKToMRTKPortingGuide.html).</span></span>

### <a name="best-practices"></a><span data-ttu-id="65f39-180">Procedure consigliate</span><span class="sxs-lookup"><span data-stu-id="65f39-180">Best practices</span></span>

- <span data-ttu-id="65f39-181">Prediligi l'uso dello [shader MRTK Standard](https://microsoft.github.io/MixedRealityToolkit-Unity/Documentation/README_MRTKStandardShader.html).</span><span class="sxs-lookup"><span data-stu-id="65f39-181">Prefer use of the [MRTK standard shader](https://microsoft.github.io/MixedRealityToolkit-Unity/Documentation/README_MRTKStandardShader.html).</span></span>
- <span data-ttu-id="65f39-182">Lavora su un tipo di modifica sostanziale per volta (ad esempio: da IFocusable a [IMixedRealityFocusHandler](https://microsoft.github.io/MixedRealityToolkit-Unity/api/Microsoft.MixedReality.Toolkit.Input.IMixedRealityFocusHandler.html)).</span><span class="sxs-lookup"><span data-stu-id="65f39-182">Work on one breaking change type at a time (ex: IFocusable to [IMixedRealityFocusHandler](https://microsoft.github.io/MixedRealityToolkit-Unity/api/Microsoft.MixedReality.Toolkit.Input.IMixedRealityFocusHandler.html)).</span></span>
- <span data-ttu-id="65f39-183">Esegui il test dopo ogni modifica e usa il controllo del codice sorgente.</span><span class="sxs-lookup"><span data-stu-id="65f39-183">Test after every change and use source control.</span></span>
- <span data-ttu-id="65f39-184">Quando possibile, usare l'esperienza utente MRTK predefinita (pulsanti, slate e così via).</span><span class="sxs-lookup"><span data-stu-id="65f39-184">Use default MRTK UX (buttons, slates, etc.), when possible.</span></span>
- <span data-ttu-id="65f39-185">Evita di modificare direttamente i file MRTK e crea invece wrapper intorno ai componenti MRTK.</span><span class="sxs-lookup"><span data-stu-id="65f39-185">Refrain from modifying MRTK files directly; create wrappers around MRTK components.</span></span>
    - <span data-ttu-id="65f39-186">Questa azione semplifica inserimenti e aggiornamenti MRTK futuri.</span><span class="sxs-lookup"><span data-stu-id="65f39-186">This action eases future MRTK ingestions and updates.</span></span>
- <span data-ttu-id="65f39-187">Esamina ed esplora le scene di esempio fornite in MRTK (soprattutto *HandInteractionExamples.scene*).</span><span class="sxs-lookup"><span data-stu-id="65f39-187">Review and explore sample scenes provided in the MRTK, especially *HandInteractionExamples.scene*.</span></span>
- <span data-ttu-id="65f39-188">Ricrea l'interfaccia utente basata su aree di disegno con quadrilateri, collisori e testo TextMeshPro.</span><span class="sxs-lookup"><span data-stu-id="65f39-188">Rebuild canvas-based UI with quads, colliders, and TextMeshPro text.</span></span>
- <span data-ttu-id="65f39-189">Abilita la [condivisione dei buffer di intensità](camera-in-unity.md#sharing-your-depth-buffers-with-windows) o [imposta il punto di messa a fuoco](focus-point-in-unity.md); usa un buffer di intensità di 16 bit per prestazioni migliori.</span><span class="sxs-lookup"><span data-stu-id="65f39-189">Enable [Depth Buffer Sharing](camera-in-unity.md#sharing-your-depth-buffers-with-windows) or [set focus point](focus-point-in-unity.md); prefer to use a 16-bit depth buffer for better performance.</span></span> <span data-ttu-id="65f39-190">Quando esegui il rendering del colore, assicurati di farlo anche per la profondità.</span><span class="sxs-lookup"><span data-stu-id="65f39-190">Ensure when rendering color, to also render depth.</span></span> <span data-ttu-id="65f39-191">Unity in genere non scrive la profondità per oggetti gioco trasparenti e di testo.</span><span class="sxs-lookup"><span data-stu-id="65f39-191">Unity generally does not write depth for transparent and text gameobjects.</span></span> 
- <span data-ttu-id="65f39-192">Imposta il percorso di rendering con istanze a singolo passaggio.</span><span class="sxs-lookup"><span data-stu-id="65f39-192">Set Single Pass Instanced Rendering Path.</span></span>
- <span data-ttu-id="65f39-193">Usa il [profilo di configurazione di HoloLens 2 per MRTK](https://microsoft.github.io/MixedRealityToolkit-Unity/Documentation/Profiles/Profiles.html#hololens-2-profile).</span><span class="sxs-lookup"><span data-stu-id="65f39-193">Utilize the [HoloLens 2 configuration profile for MRTK](https://microsoft.github.io/MixedRealityToolkit-Unity/Documentation/Profiles/Profiles.html#hololens-2-profile)</span></span>

### <a name="testing-your-application"></a><span data-ttu-id="65f39-194">Test dell'applicazione</span><span class="sxs-lookup"><span data-stu-id="65f39-194">Testing your application</span></span>

<span data-ttu-id="65f39-195">In MRTK versione 2 puoi simulare le interazioni con le mani disponibili direttamente in Unity e sviluppare con le nuove API per le interazioni con le mani e il tracciamento oculare.</span><span class="sxs-lookup"><span data-stu-id="65f39-195">In MRTK Version 2, you can simulate hand interactions directly in Unity as well as develop with the new APIs for hand interactions and eye tracking.</span></span> <span data-ttu-id="65f39-196">Il dispositivo HoloLens 2 è necessario per creare un'esperienza utente soddisfacente.</span><span class="sxs-lookup"><span data-stu-id="65f39-196">The HoloLens 2 device is required to create a satisfying user experience.</span></span> <span data-ttu-id="65f39-197">È consigliabile iniziare a studiare la documentazione e gli strumenti per acquisire una maggiore familiarità.</span><span class="sxs-lookup"><span data-stu-id="65f39-197">You are encouraged to start studying the documentation and tools for greater understanding.</span></span> <span data-ttu-id="65f39-198">[MRTK v2](https://github.com/microsoft/MixedRealityToolkit-Unity) supporta lo sviluppo in HoloLens (prima generazione) e i modelli di input tradizionali, come la selezione tramite simulazione del tocco, possono essere testati in questa generazione di dispositivi.</span><span class="sxs-lookup"><span data-stu-id="65f39-198">[MRTK v2](https://github.com/microsoft/MixedRealityToolkit-Unity) supports development on HoloLens (1st gen) and traditional input models, such as select via air-tap can be tested on HoloLens (1st gen).</span></span> 

## <a name="updating-your-interaction-model-for-hololens-2"></a><span data-ttu-id="65f39-199">Aggiornamento del modello di interazione per HoloLens 2</span><span class="sxs-lookup"><span data-stu-id="65f39-199">Updating your interaction model for HoloLens 2</span></span>

<span data-ttu-id="65f39-200">Dopo aver convertito e preparato l'applicazione per HoloLens 2, puoi iniziare a prendere in considerazione l'aggiornamento del modello di interazione del posizionamento degli ologrammi.</span><span class="sxs-lookup"><span data-stu-id="65f39-200">Once your application is ported and prepped for HoloLens 2, you're ready to consider updating your interaction model and hologram design placements.</span></span>
<span data-ttu-id="65f39-201">In HoloLens (prima generazione) è probabile che l'applicazione abbia un modello di interazione basato sullo sguardo fisso e il commit, con ologrammi relativamente lontani per rientrare nel campo di visualizzazione.</span><span class="sxs-lookup"><span data-stu-id="65f39-201">In HoloLens (1st gen), your application likely has a gaze and commit interaction model with holograms relatively far away to fit into the field of view.</span></span>

<span data-ttu-id="65f39-202">Passaggi per aggiornare la progettazione dell'applicazione in modo ottimale per HoloLens 2:</span><span class="sxs-lookup"><span data-stu-id="65f39-202">Steps to update your application design to be best suited for HoloLens 2:</span></span>
1.  <span data-ttu-id="65f39-203">Componenti MRTK: per le operazioni preliminari, se hai aggiunto [MRTK v2](https://github.com/microsoft/MixedRealityToolkit-Unity), sono disponibili diversi componenti/script progettati e ottimizzati per HoloLens 2.</span><span class="sxs-lookup"><span data-stu-id="65f39-203">MRTK components: Per the pre-work, if you added [MRTK v2](https://github.com/microsoft/MixedRealityToolkit-Unity), there are various components/scripts to leverage that have been designed and optimized for HoloLens 2.</span></span>

2.  <span data-ttu-id="65f39-204">Modello di interazione: valuta l'opportunità di aggiornare il modello di interazione.</span><span class="sxs-lookup"><span data-stu-id="65f39-204">Interaction model: Consider updating your interaction model.</span></span> <span data-ttu-id="65f39-205">Per la maggior parte degli scenari, è consigliabile passare da sguardo fisso e commit alle mani.</span><span class="sxs-lookup"><span data-stu-id="65f39-205">For most scenarios, we recommend switching from gaze and commit to hands.</span></span> <span data-ttu-id="65f39-206">Con gli ologrammi che in genere non sono raggiungibili stendendo le braccia, il passaggio all'uso delle mani consente di sfruttare raggi di puntamento e movimenti di cattura per l'interazione da lontano.</span><span class="sxs-lookup"><span data-stu-id="65f39-206">With your holograms typically being out of arms-reach, switching to hands results in far interaction pointing rays and grab gestures.</span></span>

3.  <span data-ttu-id="65f39-207">Posizionamento dell'ologramma: dopo il passaggio a un modello di interazione con le mani, valuta la possibilità di avvicinare alcuni ologrammi per interagire direttamente usando movimenti di cattura per l'interazione da vicino con le mani.</span><span class="sxs-lookup"><span data-stu-id="65f39-207">Hologram placement: After switching to a hands interaction model, consider moving some holograms closer to directly interact with them, by using near-interaction grab gestures with your hands.</span></span> <span data-ttu-id="65f39-208">I tipi di ologrammi consigliati per avvicinarsi e afferrare o interagire direttamente sono menu, controlli e pulsanti di destinazione di dimensioni ridotte e ologrammi più piccoli che rientrano nel campo visivo di HoloLens 2 quando si afferra e si esamina l'ologramma.</span><span class="sxs-lookup"><span data-stu-id="65f39-208">The types of holograms recommended to move closer to directly grab or interact are small target menus, controls, buttons, and smaller holograms that fit within the HoloLens 2 field of view when grabbing and inspecting the hologram.</span></span>
<br>
<span data-ttu-id="65f39-209">Ogni applicazione e ogni scenario hanno caratteristiche diverse e si proseguirà con il perfezionamento e la pubblicazione di indicazioni di progettazione in base al feedback e alle nuove informazioni.</span><span class="sxs-lookup"><span data-stu-id="65f39-209">Every application and scenario are different, and we’ll continue to refine and post design guidance based on feedback and continued learnings.</span></span>


## <a name="additional-caveats-and-learnings-about-moving-applications-from-x86-to-arm"></a><span data-ttu-id="65f39-210">Avvertenze e informazioni aggiuntive sullo spostamento di applicazioni da x86 ad ARM</span><span class="sxs-lookup"><span data-stu-id="65f39-210">Additional caveats and learnings about moving applications from x86 to ARM</span></span>

- <span data-ttu-id="65f39-211">Le applicazioni Unity lineari sono semplici perché è possibile creare un bundle di applicazioni ARM o distribuirle direttamente nel dispositivo per l'esecuzione del bundle.</span><span class="sxs-lookup"><span data-stu-id="65f39-211">Straight-forward Unity applications are simple because you can build an ARM application bundle or deploy directly to the device for the bundle to run.</span></span> <span data-ttu-id="65f39-212">Alcuni plug-in nativi di Unity possono presentare specifici problemi di sviluppo.</span><span class="sxs-lookup"><span data-stu-id="65f39-212">Some Unity native plugins can present certain development challenges.</span></span> <span data-ttu-id="65f39-213">Per questo motivo, è necessario aggiornare tutti i plug-in nativi di Unity a Visual Studio 2019 e quindi rieseguire la compilazione per ARM.</span><span class="sxs-lookup"><span data-stu-id="65f39-213">Because of this, you must upgrade all Unity native plugins to Visual Studio 2019 and then rebuild for ARM.</span></span>

- <span data-ttu-id="65f39-214">Per un'applicazione è stato usato il plug-in AudioKinetic Wwise di Unity e tale versione di Unity non include un plug-in ARM UWP, quindi è stato necessario un notevole sforzo per rielaborare le funzionalità audio nell'applicazione in questione per l'esecuzione in ARM.</span><span class="sxs-lookup"><span data-stu-id="65f39-214">One application used the Unity AudioKinetic Wwise plugin and that version of Unity did not have a UWP ARM plugin, which caused a considerable effort to rework sound capabilities into the application in question to run on ARM.</span></span> <span data-ttu-id="65f39-215">Assicurati che tutti i plug-in necessari per i tuoi piani di sviluppo siano installati e disponibili in Unity.</span><span class="sxs-lookup"><span data-stu-id="65f39-215">Ensure that all required plugins for your development plans are installed and available in Unity.</span></span>

- <span data-ttu-id="65f39-216">In alcuni casi, tra i plug-in richiesti dall'applicazione potrebbe non esistere un plug-in ARM/UWP, il che impedisce la possibilità di convertirla ed eseguirla in HoloLens 2.</span><span class="sxs-lookup"><span data-stu-id="65f39-216">In some cases, a UWP/ARM plugin might not exist for application-required plugins, which blocks the ability to port the application and run it on HoloLens 2.</span></span> <span data-ttu-id="65f39-217">Contatta il provider di plug-in per risolvere il problema e fornire il supporto per ARM.</span><span class="sxs-lookup"><span data-stu-id="65f39-217">Contact your plugin provider to resolve the issue and provide support for ARM.</span></span>

- <span data-ttu-id="65f39-218">I valori minfloat (e varianti come min16float, minint e così via) negli shader possono avere un comportamento diverso in HoloLens 2 rispetto a HoloLens (prima generazione).</span><span class="sxs-lookup"><span data-stu-id="65f39-218">The minfloat (and variants such as min16float, minint, etc.…) in shaders might behave differently on HoloLens 2 than on HoloLens (1st gen).</span></span> <span data-ttu-id="65f39-219">In particolare, garantiscono che venga usato almeno il numero specificato di bit.</span><span class="sxs-lookup"><span data-stu-id="65f39-219">Specifically, these guarantee that at least the specified number of bits will be used.</span></span> <span data-ttu-id="65f39-220">Nelle GPU Intel/Nvidia vengono considerati in larga misura come 32 bit.</span><span class="sxs-lookup"><span data-stu-id="65f39-220">On Intel/Nvidia GPUs, these are largely treated as 32 bits.</span></span> <span data-ttu-id="65f39-221">In ARM il numero di bit specificato viene effettivamente rispettato.</span><span class="sxs-lookup"><span data-stu-id="65f39-221">On ARM, the number of bits specified is actually adhered to.</span></span> <span data-ttu-id="65f39-222">Ciò significa che in pratica questi numeri possono avere una portata o una precisione minore in HoloLens 2 rispetto a quanto accade in HoloLens (prima generazione).</span><span class="sxs-lookup"><span data-stu-id="65f39-222">That means in practice, these numbers might have less precision or range on HoloLens 2 than they did on HoloLens (1st gen).</span></span>

- <span data-ttu-id="65f39-223">Le istruzioni _asm non sembrano funzionare in ARM, pertanto il codice con istruzioni _asm deve essere riscritto.</span><span class="sxs-lookup"><span data-stu-id="65f39-223">The _asm instructions don’t appear to work on ARM, meaning any code using _asm instructions must be rewritten.</span></span>

- <span data-ttu-id="65f39-224">Il set di istruzioni SIMD non è supportato in ARM perché varie intestazioni, come xmmintrin.h, emmintrin.h, tmmintrin.h e immintrin.h, non sono disponibili in ARM.</span><span class="sxs-lookup"><span data-stu-id="65f39-224">The SIMD instruction set is not supported on ARM because various headers, such as xmmintrin.h, emmintrin.h, tmmintrin.h, and immintrin.h, are not available on ARM.</span></span>

- <span data-ttu-id="65f39-225">Il compilatore dello shader in ARM viene eseguito durante la prima chiamata di disegno dopo il caricamento dello shader o dopo che è cambiato qualcosa su cui si basa lo shader, non in fase di caricamento dello shader.</span><span class="sxs-lookup"><span data-stu-id="65f39-225">The shader compiler on ARM runs during the first draw call after the shader has been loaded or something the shader relies on has changed, not at shader load time.</span></span> <span data-ttu-id="65f39-226">L'impatto sulla frequenza dei fotogrammi può essere notevole, a seconda del numero di shader da compilare.</span><span class="sxs-lookup"><span data-stu-id="65f39-226">The impact on framerate can be noticeable, depending on how many shaders need to be compiled.</span></span> <span data-ttu-id="65f39-227">Questo comporta diverse implicazioni perché gli shader devono essere gestiti, inclusi in pacchetti o aggiornati in modo diverso in HoloLens 2 rispetto a HoloLens (prima generazione).</span><span class="sxs-lookup"><span data-stu-id="65f39-227">This has various implications for how shaders should be handled, packaged, updated differently on HoloLens 2 vs HoloLens (1st gen).</span></span>

## <a name="see-also"></a><span data-ttu-id="65f39-228">Vedere anche</span><span class="sxs-lookup"><span data-stu-id="65f39-228">See also</span></span>
* [<span data-ttu-id="65f39-229">Installare gli strumenti</span><span class="sxs-lookup"><span data-stu-id="65f39-229">Install the tools</span></span>](install-the-tools.md)
* [<span data-ttu-id="65f39-230">Guida introduttiva a MRTK versione 2</span><span class="sxs-lookup"><span data-stu-id="65f39-230">Getting started with MRTK version 2</span></span>](https://microsoft.github.io/MixedRealityToolkit-Unity/Documentation/GettingStartedWithTheMRTK.html)
* [<span data-ttu-id="65f39-231">Aggiornamento dalle API HTK alle API MRTK</span><span class="sxs-lookup"><span data-stu-id="65f39-231">HTK APIs to MRTK APIs</span></span>](https://microsoft.github.io/MixedRealityToolkit-Unity/Documentation/HTKToMRTKPortingGuide.html)
* [<span data-ttu-id="65f39-232">Impostazioni consigliate per Unity</span><span class="sxs-lookup"><span data-stu-id="65f39-232">Recommended settings for Unity</span></span>](recommended-settings-for-unity.md)
* [<span data-ttu-id="65f39-233">Informazioni sulle prestazioni per la realtà mista</span><span class="sxs-lookup"><span data-stu-id="65f39-233">Understanding performance for Mixed Reality</span></span>](understanding-performance-for-mixed-reality.md)


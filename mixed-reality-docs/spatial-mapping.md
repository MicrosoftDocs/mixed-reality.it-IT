---
title: Mapping spaziale
description: Mapping spaziale fornisce una rappresentazione dettagliata delle superfici reali nell'ambiente che circonda il HoloLens.
author: mattzmsft
ms.author: mazeller
ms.date: 03/21/2018
ms.topic: article
keywords: mapping spaziale, HoloLens, realtà mista, la ricostruzione della superficie, mesh, sr
ms.openlocfilehash: 31abeca624512f1d5e721dbe879ca2243cf41345
ms.sourcegitcommit: 384b0087899cd835a3a965f75c6f6c607c9edd1b
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 04/12/2019
ms.locfileid: "59605040"
---
# <a name="spatial-mapping"></a><span data-ttu-id="ffd97-104">Mapping spaziale</span><span class="sxs-lookup"><span data-stu-id="ffd97-104">Spatial mapping</span></span>

<span data-ttu-id="ffd97-105">Mapping spaziale fornisce una rappresentazione dettagliata delle superfici reali nell'ambiente che circonda HoloLens, permettendo agli sviluppatori di creare un'esperienza di realtà mista convincente.</span><span class="sxs-lookup"><span data-stu-id="ffd97-105">Spatial mapping provides a detailed representation of real-world surfaces in the environment around the HoloLens, allowing developers to create a convincing mixed reality experience.</span></span> <span data-ttu-id="ffd97-106">Unendo il mondo reale con il mondo virtuale, un'applicazione può rendere vntana sembra reale.</span><span class="sxs-lookup"><span data-stu-id="ffd97-106">By merging the real world with the virtual world, an application can make holograms seem real.</span></span> <span data-ttu-id="ffd97-107">Le applicazioni più naturalmente allineare anche le aspettative degli utenti, fornendo le interazioni e comportamenti reali familiari.</span><span class="sxs-lookup"><span data-stu-id="ffd97-107">Applications can also more naturally align with user expectations by providing familiar real-world behaviors and interactions.</span></span>

<br>

>[!VIDEO https://www.youtube.com/embed/zff2aQ1RaVo]

## <a name="device-support"></a><span data-ttu-id="ffd97-108">Supporto di dispositivi</span><span class="sxs-lookup"><span data-stu-id="ffd97-108">Device support</span></span>

<table>
<tr>
<th><span data-ttu-id="ffd97-109">Funzionalità</span><span class="sxs-lookup"><span data-stu-id="ffd97-109">Feature</span></span></th><th style="width:150px"> <span data-ttu-id="ffd97-110"><a href="hololens-hardware-details.md">HoloLens (dal 1 ° generazione)</a></span><span class="sxs-lookup"><span data-stu-id="ffd97-110"><a href="hololens-hardware-details.md">HoloLens (1st gen)</a></span></span></th><th style="width:150px"><span data-ttu-id="ffd97-111">HoloLens 2</span><span class="sxs-lookup"><span data-stu-id="ffd97-111">HoloLens 2</span></span></th><th style="width:150px"> <span data-ttu-id="ffd97-112"><a href="immersive-headset-hardware-details.md">Auricolari coinvolgenti</a></span><span class="sxs-lookup"><span data-stu-id="ffd97-112"><a href="immersive-headset-hardware-details.md">Immersive headsets</a></span></span></th>
</tr><tr>
<td> <span data-ttu-id="ffd97-113">Mapping spaziale</span><span class="sxs-lookup"><span data-stu-id="ffd97-113">Spatial mapping</span></span></td><td style="text-align: center;"> <span data-ttu-id="ffd97-114">✔️</span><span class="sxs-lookup"><span data-stu-id="ffd97-114">✔️</span></span></td><td style="text-align: center;"> <span data-ttu-id="ffd97-115">✔️</span><span class="sxs-lookup"><span data-stu-id="ffd97-115">✔️</span></span></td><td style="text-align: center;"></td>
</tr>
</table>



## <a name="conceptual-overview"></a><span data-ttu-id="ffd97-116">Panoramica concettuale</span><span class="sxs-lookup"><span data-stu-id="ffd97-116">Conceptual overview</span></span>

<span data-ttu-id="ffd97-117">![Superfici mesh che coprono una chat room](images/SurfaceReconstruction.jpg)</span><span class="sxs-lookup"><span data-stu-id="ffd97-117">![Mesh surfaces covering a room](images/SurfaceReconstruction.jpg)</span></span><br>
<span data-ttu-id="ffd97-118">*Un esempio di una rete mesh di mapping spaziale che coprono una chat room*</span><span class="sxs-lookup"><span data-stu-id="ffd97-118">*An example of a spatial mapping mesh covering a room*</span></span>

<span data-ttu-id="ffd97-119">I due tipi di oggetto principale usati per il mapping spaziale sono 'Observer di superficie spaziale' e la "superficie spaziale".</span><span class="sxs-lookup"><span data-stu-id="ffd97-119">The two primary object types used for spatial mapping are the 'Spatial Surface Observer' and the 'Spatial Surface'.</span></span>

<span data-ttu-id="ffd97-120">L'applicazione fornisce all'osservatore superficie spaziale con uno o più volumi di delimitazione, per definire le aree di spazio in cui l'applicazione desidera ricevere i dati di mapping spaziale.</span><span class="sxs-lookup"><span data-stu-id="ffd97-120">The application provides the Spatial Surface Observer with one or more bounding volumes, to define the regions of space in which the application wishes to receive spatial mapping data.</span></span> <span data-ttu-id="ffd97-121">Per ognuno di questi volumi, mapping spaziale fornirà l'applicazione con un set di dispositivi Surface spaziale.</span><span class="sxs-lookup"><span data-stu-id="ffd97-121">For each of these volumes, spatial mapping will provide the application with a set of Spatial Surfaces.</span></span>

<span data-ttu-id="ffd97-122">Questi volumi sia fermo (in una posizione fissa rispetto al mondo reale) o può essere collegate a HoloLens (si sposta, ma non ruotano, con la HoloLens durante lo spostamento tramite l'ambiente).</span><span class="sxs-lookup"><span data-stu-id="ffd97-122">These volumes may be stationary (in a fixed location with respect to the real world) or they may be attached to the HoloLens (they move, but do not rotate, with the HoloLens as it moves through the environment).</span></span> <span data-ttu-id="ffd97-123">Ogni area spaziale descrive superfici reali in un volume dello spazio, rappresentato come una mesh triangolare collegata in un mondo di blocco small [sistema di coordinate spaziale](coordinate-systems.md).</span><span class="sxs-lookup"><span data-stu-id="ffd97-123">Each spatial surface describes real-world surfaces in a small volume of space, represented as a triangle mesh attached to a world-locked [spatial coordinate system](coordinate-systems.md).</span></span>

<span data-ttu-id="ffd97-124">Quando si verificano modifiche all'ambiente, verranno visualizzato spaziali superfici di HoloLens consente di raccogliere nuovi dati sull'ambiente, non vengono più visualizzati e modificare.</span><span class="sxs-lookup"><span data-stu-id="ffd97-124">As the HoloLens gathers new data about the environment, and as changes to the environment occur, spatial surfaces will appear, disappear and change.</span></span>

## <a name="common-usage-scenarios"></a><span data-ttu-id="ffd97-125">Scenari di utilizzo comuni</span><span class="sxs-lookup"><span data-stu-id="ffd97-125">Common usage scenarios</span></span>

![Illustrazioni di scenari di utilizzo comuni di Mapping spaziale: Posizionamento, relative all'occlusione, fisica e l'esplorazione](images/sm-concepts-1000px.png)

### <a name="placement"></a><span data-ttu-id="ffd97-127">Posizionamento</span><span class="sxs-lookup"><span data-stu-id="ffd97-127">Placement</span></span>

<span data-ttu-id="ffd97-128">Mapping spaziale fornisce le applicazioni con la possibilità di presentare naturale e familiare forme di interazione per l'utente. Ciò che potrebbe essere più naturale che verso il basso l'inserimento del telefono sulla scrivania?</span><span class="sxs-lookup"><span data-stu-id="ffd97-128">Spatial mapping provides applications with the opportunity to present natural and familiar forms of interaction to the user; what could be more natural than placing your phone down on the desk?</span></span>

<span data-ttu-id="ffd97-129">Vincolare il posizionamento dei vntana (o più in generale, qualsiasi selezione di percorsi spaziale) si trovi su superfici fornisce un mapping naturale tra 3D (punto nello spazio) a 2D (un punto nell'area).</span><span class="sxs-lookup"><span data-stu-id="ffd97-129">Constraining the placement of holograms (or more generally, any selection of spatial locations) to lie on surfaces provides a natural mapping from 3D (point in space) to 2D (point on surface).</span></span> <span data-ttu-id="ffd97-130">In questo modo si riduce la quantità di informazioni l'utente deve fornire all'applicazione e pertanto le interazioni utente più veloce, semplifica e rende più preciso.</span><span class="sxs-lookup"><span data-stu-id="ffd97-130">This reduces the amount of information the user needs to provide to the application and thus makes the user's interactions faster, easier and more precise.</span></span> <span data-ttu-id="ffd97-131">Ciò vale soprattutto perché 'distanza' non è un elemento viene usata per eseguire fisicamente comunicare ad altri utenti o ai computer.</span><span class="sxs-lookup"><span data-stu-id="ffd97-131">This is particularly true because 'distance away' is not something that we are used to physically communicating to other people or to computers.</span></span> <span data-ttu-id="ffd97-132">Quando si posiziona il puntatore con il dito, si specifica una direzione, ma non una distanza.</span><span class="sxs-lookup"><span data-stu-id="ffd97-132">When we point with our finger, we are specifying a direction but not a distance.</span></span>

<span data-ttu-id="ffd97-133">Un'importante precisazione qui è che, quando un'applicazione deduce distanza dalla direzione (ad esempio eseguendo un raycast lungo la direzione sguardo dell'utente per trovare più vicini superficie spaziale), questa deve restituire i risultati che l'utente è in grado di stimare in modo affidabile.</span><span class="sxs-lookup"><span data-stu-id="ffd97-133">An important caveat here is that when an application infers distance from direction (for example by performing a raycast along the user's gaze direction to find the nearest spatial surface), this must yield results that the user is able to reliably predict.</span></span> <span data-ttu-id="ffd97-134">In caso contrario, l'utente perderà il senso di controllo e ciò può risultare frustrante.</span><span class="sxs-lookup"><span data-stu-id="ffd97-134">Otherwise, the user will lose their sense of control and this can quickly become frustrating.</span></span> <span data-ttu-id="ffd97-135">Un metodo che può essere utile consiste nell'eseguire più raycasts anziché di uno.</span><span class="sxs-lookup"><span data-stu-id="ffd97-135">One method that helps with this is to perform multiple raycasts instead of just one.</span></span> <span data-ttu-id="ffd97-136">I risultati aggregati devono essere più fluida e più prevedibile, meno soggetti a influenzare dai risultati temporanei 'outlier' (come può essere causato da raggi che attraversa aree libere di piccole dimensioni o hanno raggiunto piccole parti di geometria di cui l'utente non riconosce).</span><span class="sxs-lookup"><span data-stu-id="ffd97-136">The aggregate results should be smoother and more predictable, less susceptible to influence from transient 'outlier' results (as can be caused by rays passing through tiny holes or hitting small bits of geometry that the user is not aware of).</span></span> <span data-ttu-id="ffd97-137">Aggregazione o livellamento può essere eseguita anche nel tempo; è ad esempio possibile limitare la velocità massima in corrispondenza del quale ologramma può variare in termini di distanza dall'utente.</span><span class="sxs-lookup"><span data-stu-id="ffd97-137">Aggregation or smoothing can also be performed over time; for example you can limit the maximum speed at which a hologram can vary in distance from the user.</span></span> <span data-ttu-id="ffd97-138">Semplicemente limitando il valore della distanza minima e massima può risultare utili, in modo che l'ologrammi lo spostamento non improvvisamente entra la distanza da subito o in modo anomalo in volto dell'utente.</span><span class="sxs-lookup"><span data-stu-id="ffd97-138">Simply limiting the minimum and maximum distance value can also help, so the hologram being moved does not suddenly fly away into the distance or come crashing back into the user's face.</span></span>

<span data-ttu-id="ffd97-139">Applicazioni possono anche usare la forma e la direzione delle superfici al posizionamento ologrammi Guida.</span><span class="sxs-lookup"><span data-stu-id="ffd97-139">Applications can also use the shape and direction of surfaces to guide hologram placement.</span></span> <span data-ttu-id="ffd97-140">Presidenti holographic non dovrebbero penetrare attraverso le pareti e devono rimanere flush con la parte intera nemmeno quando risulta leggermente irregolare.</span><span class="sxs-lookup"><span data-stu-id="ffd97-140">A holographic chair should not penetrate through walls and should sit flush with the floor even if it is slightly uneven.</span></span> <span data-ttu-id="ffd97-141">Questo tipo di funzionalità sarebbe probabilmente si basano sull'uso di collisioni fisica anziché semplicemente raycasts, problemi simili, tuttavia verranno applicate.</span><span class="sxs-lookup"><span data-stu-id="ffd97-141">This kind of functionality would likely rely upon the use of physics collisions rather than just raycasts, however similar concerns will apply.</span></span> <span data-ttu-id="ffd97-142">Se l'ologrammi inseriti ha molti poligoni piccoli che attaccato, come le gambe su un chair, può avere senso per espandere la rappresentazione fisica di tali poligoni in modo più larghi e più uniforme, in modo che siano più in grado di far scorrere su superfici spaziali senza l'acquisizione.</span><span class="sxs-lookup"><span data-stu-id="ffd97-142">If the hologram being placed has many small polygons that stick out, like the legs on a chair, it may make sense to expand the physics representation of those polygons to something wider and smoother so that they are more able to slide over spatial surfaces without snagging.</span></span>

<span data-ttu-id="ffd97-143">Input dell'utente può essere semplificato da subito interamente estremo, e superfici spaziale possono essere utilizzate per eseguire il posizionamento di ologramma completamente automatico.</span><span class="sxs-lookup"><span data-stu-id="ffd97-143">At its extreme, user input can be simplified away entirely and spatial surfaces can be used to perform entirely automatic hologram placement.</span></span> <span data-ttu-id="ffd97-144">Ad esempio, l'applicazione è stato possibile posizionare un cambio di luce holographic in un punto sulla bacheca per l'utente prema.</span><span class="sxs-lookup"><span data-stu-id="ffd97-144">For example, the application could place a holographic light-switch somewhere on the wall for the user to press.</span></span> <span data-ttu-id="ffd97-145">La stessa avvertenza sulla prevedibilità si applica a doppio qui; Se l'utente si aspetta controllo sul posizionamento ologrammi, ma l'applicazione non sempre si impono vntana in cui si aspettano (se il cambio di luce appare in un punto che l'utente non riesce a raggiungere), si tratterà frustrante.</span><span class="sxs-lookup"><span data-stu-id="ffd97-145">The same caveat about predictability applies doubly here; if the user expects control over hologram placement, but the application does not always place holograms where they expect (if the light-switch appears somewhere that the user cannot reach), then this will be a frustrating experience.</span></span> <span data-ttu-id="ffd97-146">Può effettivamente essere peggio eseguire la selezione host automatica che richiede la correzione utente parte del tempo, rispetto al solo richiedere all'utente di eseguire sempre il posizionamento stessi; perché è la selezione host automatica ha esito positivo *previsto*, aspetto correzione manuale di un carico di lavoro.</span><span class="sxs-lookup"><span data-stu-id="ffd97-146">It can actually be worse to perform automatic placement that requires user correction some of the time, than to just require the user to always perform placement themselves; because successful automatic placement is *expected*, manual correction feels like a burden!</span></span>

<span data-ttu-id="ffd97-147">Si noti inoltre che la capacità di un'applicazione di usare le superfici spaziali per selezione host dipende molto dell'applicazione [scansione esperienza](spatial-mapping-design.md#the-environment-scanning-experience).</span><span class="sxs-lookup"><span data-stu-id="ffd97-147">Note also that the ability of an application to use spatial surfaces for placement depends heavily on the application's [scanning experience](spatial-mapping-design.md#the-environment-scanning-experience).</span></span> <span data-ttu-id="ffd97-148">Se un'area non è stata analizzata, quindi non è utilizzabile per la selezione host.</span><span class="sxs-lookup"><span data-stu-id="ffd97-148">If a surface has not been scanned, then it cannot be used for placement.</span></span> <span data-ttu-id="ffd97-149">È compito dell'applicazione per chiarire all'utente, in modo che possa essere aiutare nuove superfici di scansione o selezionare un nuovo percorso.</span><span class="sxs-lookup"><span data-stu-id="ffd97-149">It is up to the application to make this clear to the user, so that they can either help scan new surfaces or select a new location.</span></span>

<span data-ttu-id="ffd97-150">Feedback visivo all'utente è di fondamentale importanza durante la selezione host.</span><span class="sxs-lookup"><span data-stu-id="ffd97-150">Visual feedback to the user is of paramount importance during placement.</span></span> <span data-ttu-id="ffd97-151">L'utente dovrà comprendere dove viene eseguita in relazione l'area più vicina con l'ologrammi [messa a terra effetti](spatial-mapping.md#visualization).</span><span class="sxs-lookup"><span data-stu-id="ffd97-151">The user needs to know where the hologram is in relation to the nearest surface with [grounding effects](spatial-mapping.md#visualization).</span></span> <span data-ttu-id="ffd97-152">È necessario comprendere perché lo spostamento dei loro ologrammi da vincolare (ad esempio, a causa di un conflitto con un altro nelle vicinanze area).</span><span class="sxs-lookup"><span data-stu-id="ffd97-152">They should understand why the movement of their hologram is being constrained (for example, due to collision with another nearby surface).</span></span> <span data-ttu-id="ffd97-153">Se è possibile posizionare ologramma nel percorso corrente, quindi feedback visivo dovrebbe chiarire perché non.</span><span class="sxs-lookup"><span data-stu-id="ffd97-153">If they cannot place a hologram in the current location, then visual feedback should make it clear why not.</span></span> <span data-ttu-id="ffd97-154">Ad esempio, se l'utente sta tentando di posizionare un divano holographic bloccata a metà alla presa a muro, quindi le parti di divano dietro la parete devono pulsate in un colore pecora.</span><span class="sxs-lookup"><span data-stu-id="ffd97-154">For example, if the user is trying to place a holographic couch stuck half-way into the wall, then the portions of the couch that are behind the wall should pulsate in an angry color.</span></span> <span data-ttu-id="ffd97-155">O viceversa, se l'applicazione non è possibile trovare una superficie spaziale in una posizione in cui l'utente può visualizzare un'area del mondo reale, quindi l'applicazione dovrebbe chiarire questo.</span><span class="sxs-lookup"><span data-stu-id="ffd97-155">Or conversely, if the application cannot find a spatial surface in a location where the user can see a real-world surface, then the application should make this clear.</span></span> <span data-ttu-id="ffd97-156">L'assenza di un effetto di messa a terra in quest'area ovvia potrebbe raggiungere questo scopo.</span><span class="sxs-lookup"><span data-stu-id="ffd97-156">The obvious absence of a grounding effect in this area may achieve this purpose.</span></span>

### <a name="occlusion"></a><span data-ttu-id="ffd97-157">Occlusione</span><span class="sxs-lookup"><span data-stu-id="ffd97-157">Occlusion</span></span>

<span data-ttu-id="ffd97-158">Uno degli usi principali delle superfici di mapping spaziale è semplicemente vntana nasconde i colori.</span><span class="sxs-lookup"><span data-stu-id="ffd97-158">One of the primary uses of spatial mapping surfaces is simply to occlude holograms.</span></span> <span data-ttu-id="ffd97-159">Questo comportamento semplice ha un impatto notevole sul realismo percepito del vntana, contribuendo a creare un senso visceral che effettivamente allo stesso spazio fisico dell'utente.</span><span class="sxs-lookup"><span data-stu-id="ffd97-159">This simple behavior has a huge impact on the perceived realism of holograms, helping to create a visceral sense that really inhabit the same physical space as the user.</span></span>

<span data-ttu-id="ffd97-160">Relative all'occlusione fornisce anche informazioni per l'utente. Quando ologramma sembra essere bloccati da un'area del mondo reale, questo fornisce altre indicazioni visive per quanto riguarda la posizione di tale ologrammi nel mondo.</span><span class="sxs-lookup"><span data-stu-id="ffd97-160">Occlusion also provides information to the user; when a hologram appears to be occluded by a real-world surface, this provides additional visual feedback as to the spatial location of that hologram in the world.</span></span> <span data-ttu-id="ffd97-161">Viceversa, relative all'occlusione può anche utili *nascondere* informazioni da parte dell'utente; vntana occluding dietro walls può ridurre il disordine visual in un modo molto intuitivo.</span><span class="sxs-lookup"><span data-stu-id="ffd97-161">Conversely, occlusion can also usefully *hide* information from the user; occluding holograms behind walls can reduce visual clutter in an intuitive way.</span></span> <span data-ttu-id="ffd97-162">Per nascondere o visualizzare ologramma, l'utente deve semplicemente spostare propria testa.</span><span class="sxs-lookup"><span data-stu-id="ffd97-162">To hide or reveal a hologram, the user merely has to move their head.</span></span>

<span data-ttu-id="ffd97-163">È anche utilizzabile occlusione preparare gli obiettivi per un'interfaccia utente naturale in base alle interazioni fisiche familiarità; Se ologramma viene bloccato da un'area è perché tale area è in tinta unita, pertanto, l'utente dovrebbe aspettarsi che saranno l'ologrammi *entri in conflitto* con quello della superficie di attacco e non è sufficiente passare attraverso di esso.</span><span class="sxs-lookup"><span data-stu-id="ffd97-163">Occlusion can also be used to prime expectations for a natural user interface based upon familiar physical interactions; if a hologram is occluded by a surface it is because that surface is solid, so the user should expect that the hologram will *collide* with that surface and not simply pass through it.</span></span>

<span data-ttu-id="ffd97-164">In alcuni casi, non è opportuna relative all'occlusione di vntana.</span><span class="sxs-lookup"><span data-stu-id="ffd97-164">Sometimes, occlusion of holograms is undesirable.</span></span> <span data-ttu-id="ffd97-165">Se un utente deve essere in grado di interagire con un ologrammi, devono essere in grado di vederlo - anche se è protetto da un'area del mondo reale.</span><span class="sxs-lookup"><span data-stu-id="ffd97-165">If a user needs to be able to interact with a hologram, then they need to be able to see it - even if it is behind a real-world surface.</span></span> <span data-ttu-id="ffd97-166">In questi casi, è in genere opportuno eseguire il rendering di questo tipo ologramma in modo diverso quando si viene bloccato (ad esempio, riducendo la luminosità).</span><span class="sxs-lookup"><span data-stu-id="ffd97-166">In such cases, it usually makes sense to render such a hologram differently when it is occluded (for example, by reducing its brightness).</span></span> <span data-ttu-id="ffd97-167">In questo modo, l'utente sarà in grado di individuare visivamente l'ologrammi, ma si continuerà a essere consapevoli che è protetto da un elemento.</span><span class="sxs-lookup"><span data-stu-id="ffd97-167">This way, the user will be able to visually locate the hologram, but they will still be aware that it is behind something.</span></span>

### <a name="physics"></a><span data-ttu-id="ffd97-168">Fisica</span><span class="sxs-lookup"><span data-stu-id="ffd97-168">Physics</span></span>

<span data-ttu-id="ffd97-169">L'utilizzo della simulazione fisica è un altro modo in cui mapping spaziale può essere utilizzato per potenziare la *presenza* di vntana nello spazio fisico dell'utente.</span><span class="sxs-lookup"><span data-stu-id="ffd97-169">The use of physics simulation is another way in which spatial mapping can be used to reinforce the *presence* of holograms in the user's physical space.</span></span> <span data-ttu-id="ffd97-170">Quando la palla holographic elastica esegue il roll realisticamente off mia scrivania, bounces tra la parte intera e non viene più visualizzata sotto il divano, potrebbe essere difficile per me ritiene che non è disponibile.</span><span class="sxs-lookup"><span data-stu-id="ffd97-170">When my holographic rubber ball rolls realistically off my desk, bounces across the floor and disappears under the couch, it might be hard for me to believe that it's not really there.</span></span>

<span data-ttu-id="ffd97-171">Simulazione di effetti fisici fornisce inoltre la possibilità che un'applicazione può utilizzare interazioni naturali e familiare basato sulla fisica.</span><span class="sxs-lookup"><span data-stu-id="ffd97-171">Physics simulation also provides the opportunity for an application to use natural and familiar physics-based interactions.</span></span> <span data-ttu-id="ffd97-172">Lo spostamento di una parte di arredi holographic intorno sul pavimento probabilmente risulterà più semplice per l'utente se i mobili risponde come se erano scorrevole tra la parte intera con l'inerzia appropriato e problemi.</span><span class="sxs-lookup"><span data-stu-id="ffd97-172">Moving a piece of holographic furniture around on the floor will likely be easier for the user if the furniture responds as if it were sliding across the floor with the appropriate inertia and friction.</span></span>

<span data-ttu-id="ffd97-173">Per generare comportamenti fisici realistici, probabilmente sarà necessario eseguire alcune [mesh elaborazione](spatial-mapping.md#mesh-processing) , ad esempio la compilazione aree libere di rimozione mobile psicosi e anti-aliasing approssimativo superfici.</span><span class="sxs-lookup"><span data-stu-id="ffd97-173">In order to generate realistic physical behaviors, you will likely need to perform some [mesh processing](spatial-mapping.md#mesh-processing) such as filling holes, removing floating hallucinations and smoothing rough surfaces.</span></span>

<span data-ttu-id="ffd97-174">Sarà anche necessario prendere in considerazione la modalità dell'applicazione [scansione esperienza](spatial-mapping-design.md#the-environment-scanning-experience) influenza la simulazione di fisica.</span><span class="sxs-lookup"><span data-stu-id="ffd97-174">You will also need to consider how your application's [scanning experience](spatial-mapping-design.md#the-environment-scanning-experience) influences its physics simulation.</span></span> <span data-ttu-id="ffd97-175">In primo luogo, mancante superfici non entri in conflitto con un valore specifico. cosa accade quando la palla elastica esegue il roll verso il basso i corridoi e oltre la fine del mondo noto?</span><span class="sxs-lookup"><span data-stu-id="ffd97-175">Firstly, missing surfaces won't collide with anything; what happens when the rubber ball rolls off down the corridor and off the end of the known world?</span></span> <span data-ttu-id="ffd97-176">In secondo luogo, è necessario decidere se si continuerà a rispondere alle modifiche nell'ambiente nel corso del tempo.</span><span class="sxs-lookup"><span data-stu-id="ffd97-176">Secondly, you need to decide whether you will continue to respond to changes in the environment over time.</span></span> <span data-ttu-id="ffd97-177">In alcuni casi, si dovranno rispondere più rapidamente possibile; ad esempio se l'utente Usa le porte e mobili come mobile pareti o barricate nella difesa contro un tempest delle frecce di Roman in ingresso.</span><span class="sxs-lookup"><span data-stu-id="ffd97-177">In some cases, you will want to respond as quickly as possible; say if the user is using doors and furniture as movable barricades in defense against a tempest of incoming Roman arrows.</span></span> <span data-ttu-id="ffd97-178">In altri casi, tuttavia, è possibile ignorare i nuovi aggiornamenti; guidare l'auto sportiva holographic tutto il tavolo del piano improvvisamente non può essere pertanto divertente se decide il cane posizionata al centro della traccia.</span><span class="sxs-lookup"><span data-stu-id="ffd97-178">In other cases though, you may want to ignore new updates; driving your holographic sports car around the racetrack on your floor may suddenly not be so fun if your dog decides to sit in the middle of the track.</span></span>

### <a name="navigation"></a><span data-ttu-id="ffd97-179">Navigazione</span><span class="sxs-lookup"><span data-stu-id="ffd97-179">Navigation</span></span>

<span data-ttu-id="ffd97-180">Applicazioni possono usare dati di mapping spaziale concedere holographic caratteri (o gli agenti) la possibilità di esplorare il mondo reale in modo identico a una persona reale.</span><span class="sxs-lookup"><span data-stu-id="ffd97-180">Applications can use spatial mapping data to grant holographic characters (or agents) the ability to navigate the real world in the same way a real person would.</span></span> <span data-ttu-id="ffd97-181">Ciò consente di consolidare la presenza di caratteri holographic da limitandoli allo stesso set di comportamenti familiari e naturali a quelle dell'utente e gli amici.</span><span class="sxs-lookup"><span data-stu-id="ffd97-181">This can help reinforce the presence of holographic characters by restricting them to the same set of natural, familiar behaviors as those of the user and their friends.</span></span>

<span data-ttu-id="ffd97-182">Funzionalità di navigazione può essere utile anche agli utenti.</span><span class="sxs-lookup"><span data-stu-id="ffd97-182">Navigation capabilities could be useful to users as well.</span></span> <span data-ttu-id="ffd97-183">Dopo aver compilata una mappa di navigazione in una determinata area, può essere condivisa per fornire indicazioni holographic per nuovi utenti familiari con tale posizione.</span><span class="sxs-lookup"><span data-stu-id="ffd97-183">Once a navigation map has been built in a given area, it could be shared to provide holographic directions for new users unfamiliar with that location.</span></span> <span data-ttu-id="ffd97-184">Questa mappa può essere progettata per garantire la tua pedonale '' il flusso di traffico in modo uniforme o per evitare incidenti nelle posizioni pericolose, come siti di costruzione.</span><span class="sxs-lookup"><span data-stu-id="ffd97-184">This map could be designed to help keep pedestrian 'traffic' flowing smoothly, or to avoid accidents in dangerous locations like construction sites.</span></span>

<span data-ttu-id="ffd97-185">I principali problemi tecnici coinvolti nell'implementazione della funzionalità di navigazione sarà affidabile rilevamento delle superfici è percorribile (esseri umani non walk sulle tabelle!) e normale adattamento alle modifiche nell'ambiente (gli esseri umani non illustrati porte chiuse!).</span><span class="sxs-lookup"><span data-stu-id="ffd97-185">The key technical challenges involved in implementing navigation functionality will be reliable detection of walkable surfaces (humans don't walk on tables!) and graceful adaptation to changes in the environment (humans don't walk through closed doors!).</span></span> <span data-ttu-id="ffd97-186">Mesh può richiedere alcune [elaborazione](spatial-mapping.md#mesh-processing) prima che sia utilizzabile per la navigazione da un carattere virtuale e la pianificazione percorso.</span><span class="sxs-lookup"><span data-stu-id="ffd97-186">The mesh may require some [processing](spatial-mapping.md#mesh-processing) before it is usable for path-planning and navigation by a virtual character.</span></span> <span data-ttu-id="ffd97-187">Anti-aliasing della rete e la rimozione psicosi può contribuire a evitare caratteri diventando bloccate.</span><span class="sxs-lookup"><span data-stu-id="ffd97-187">Smoothing the mesh and removing hallucinations may help avoid characters becoming stuck.</span></span> <span data-ttu-id="ffd97-188">È anche possibile semplifica drasticamente la mesh per velocizzare la pianificazione percorso del carattere e i calcoli di navigazione.</span><span class="sxs-lookup"><span data-stu-id="ffd97-188">You may also wish to drastically simplify the mesh in order to speed up your character's path-planning and navigation calculations.</span></span> <span data-ttu-id="ffd97-189">Questi problemi hanno ricevuto una grande quantità di attenzione allo sviluppo di tecnologia televisione e molti della documentazione di ricerca disponibili in questi argomenti.</span><span class="sxs-lookup"><span data-stu-id="ffd97-189">These challenges have received a great deal of attention in the development of videogame technology, and there is a wealth of available research literature on these topics.</span></span>

<span data-ttu-id="ffd97-190">Si noti che la funzionalità NavMesh incorporata in Unity non è utilizzabile con le superfici di mapping spaziale.</span><span class="sxs-lookup"><span data-stu-id="ffd97-190">Note that the built-in NavMesh functionality in Unity cannot be used with spatial mapping surfaces.</span></span> <span data-ttu-id="ffd97-191">Infatti, le superfici di mapping spaziale non sono noti fino all'applicazione viene avviata, mentre i file di dati NavMesh devono essere generati dagli asset di origine anticipatamente.</span><span class="sxs-lookup"><span data-stu-id="ffd97-191">This is because spatial mapping surfaces are not known until the application starts, whereas NavMesh data files need to be generated from source assets ahead of time.</span></span> <span data-ttu-id="ffd97-192">Si noti anche che, al sistema di mapping spaziale non fornirà [informazioni su superfici molto lontano](spatial-mapping-design.md#the-environment-scanning-experience) dalla posizione corrente dell'utente.</span><span class="sxs-lookup"><span data-stu-id="ffd97-192">Also note that, the spatial mapping system will not provide [information about surfaces very far away](spatial-mapping-design.md#the-environment-scanning-experience) from the user's current location.</span></span> <span data-ttu-id="ffd97-193">In modo che l'applicazione deve 'ricordare' superfici di se stessa se deve generare una mappa di un'area di dimensioni molto grande.</span><span class="sxs-lookup"><span data-stu-id="ffd97-193">So the application must 'remember' surfaces itself if it is to build a map of a very large area.</span></span>

### <a name="visualization"></a><span data-ttu-id="ffd97-194">Visualizzazione</span><span class="sxs-lookup"><span data-stu-id="ffd97-194">Visualization</span></span>

<span data-ttu-id="ffd97-195">La maggior parte dei casi è opportuno che le superfici spaziale sia invisibile; Per ridurre al minimo confusioni a livello visivo e lasciare il real world parlino da soli.</span><span class="sxs-lookup"><span data-stu-id="ffd97-195">Most of the time it is appropriate for spatial surfaces to be invisible; to minimize visual clutter and let the real world speak for itself.</span></span> <span data-ttu-id="ffd97-196">Tuttavia, talvolta è utile visualizzare le superfici di mapping spaziale direttamente, nonostante il fatto che le relative controparti reali siano già visibili.</span><span class="sxs-lookup"><span data-stu-id="ffd97-196">However, sometimes it is useful to visualize spatial mapping surfaces directly, despite the fact that their real-world counterparts are already visible.</span></span>

<span data-ttu-id="ffd97-197">Ad esempio, quando l'utente sta tentando di posizionare ologramma su una superficie (inserimento di un file CAB holographic su una parete, ad esempio) può essere utile per 'zero' l'ologrammi eseguendo il cast di un'ombreggiatura nell'area.</span><span class="sxs-lookup"><span data-stu-id="ffd97-197">For example, when the user is trying to place a hologram onto a surface (placing a holographic cabinet on the wall, say) it can be useful to 'ground' the hologram by casting a shadow onto the surface.</span></span> <span data-ttu-id="ffd97-198">Ciò offre all'utente un molto senso più chiara la prossimità fisica esatta tra l'ologrammi e l'area.</span><span class="sxs-lookup"><span data-stu-id="ffd97-198">This gives the user a much clearer sense of the exact physical proximity between the hologram and the surface.</span></span> <span data-ttu-id="ffd97-199">Questo è un esempio dell'esercitazione più generale di visivamente 'anteprima' una modifica prima che l'utente esegue il commit a esso.</span><span class="sxs-lookup"><span data-stu-id="ffd97-199">This is also an example of the more general practice of visually 'previewing' a change before the user commits to it.</span></span>

<span data-ttu-id="ffd97-200">Visualizzando le superfici, l'applicazione può condividere con l'utente la comprensione dell'ambiente.</span><span class="sxs-lookup"><span data-stu-id="ffd97-200">By visualizing surfaces, the application can share with the user its understanding of the environment.</span></span> <span data-ttu-id="ffd97-201">Ad esempio, un gioco da tavolo holographic è stato possibile visualizzare le superfici orizzontale che lo ha identificato come "tabelle", in modo che l'utente sappia dove dovrebbe passano per interagire.</span><span class="sxs-lookup"><span data-stu-id="ffd97-201">For example, a holographic board game could visualize the horizontal surfaces that it has identified as 'tables', so the user knows where they should go to interact.</span></span>

<span data-ttu-id="ffd97-202">Le superfici di visualizzazione può essere utile per mostrare l'utente nelle vicinanze spazi che sono nascosti dalla visualizzazione.</span><span class="sxs-lookup"><span data-stu-id="ffd97-202">Visualizing surfaces can be a useful way to show the user nearby spaces that are hidden from view.</span></span> <span data-ttu-id="ffd97-203">Questo è stato possibile fornire un modo semplice per consentire all'utente di accedere ai loro cucina (e tutti i relativi contenuti vntana) da loro salotto.</span><span class="sxs-lookup"><span data-stu-id="ffd97-203">This could provide a simple way to give the user access to their kitchen (and all of its contained holograms) from their living room.</span></span>

<span data-ttu-id="ffd97-204">La mesh superficie fornita da mapping spaziale non può essere particolarmente 'clean'.</span><span class="sxs-lookup"><span data-stu-id="ffd97-204">The surface meshes provided by spatial mapping may not be particularly 'clean'.</span></span> <span data-ttu-id="ffd97-205">Pertanto è importante per visualizzarle nel modo appropriato.</span><span class="sxs-lookup"><span data-stu-id="ffd97-205">Thus it is important to visualize them appropriately.</span></span> <span data-ttu-id="ffd97-206">Calcoli di illuminazione tradizionale mettere in evidenza gli errori nelle normali alla superficie in maniera distrazione, mentre 'clean' trame proiettate nell'area può essere utile per conferirgli un aspetto più ordinato.</span><span class="sxs-lookup"><span data-stu-id="ffd97-206">Traditional lighting calculations may highlight errors in surface normals in a visually distracting manner, whilst 'clean' textures projected onto the surface may help to give it a tidier appearance.</span></span> <span data-ttu-id="ffd97-207">È anche possibile eseguire [mesh elaborazione](spatial-mapping.md#mesh-processing) per migliorare le proprietà di rete, prima del rendering di aree.</span><span class="sxs-lookup"><span data-stu-id="ffd97-207">It is also possible to perform [mesh processing](spatial-mapping.md#mesh-processing) to improve mesh properties, before the surfaces are rendered.</span></span>

## <a name="using-the-surface-observer"></a><span data-ttu-id="ffd97-208">Usando l'osservatore Surface</span><span class="sxs-lookup"><span data-stu-id="ffd97-208">Using The Surface Observer</span></span>

<span data-ttu-id="ffd97-209">Il punto di partenza per il mapping spaziale è l'osservatore della superficie.</span><span class="sxs-lookup"><span data-stu-id="ffd97-209">The starting point for spatial mapping is the surface observer.</span></span> <span data-ttu-id="ffd97-210">Flusso del programma è come segue:</span><span class="sxs-lookup"><span data-stu-id="ffd97-210">Program flow is as follows:</span></span>
* <span data-ttu-id="ffd97-211">Creare un oggetto osservatore surface</span><span class="sxs-lookup"><span data-stu-id="ffd97-211">Create a surface observer object</span></span>
   * <span data-ttu-id="ffd97-212">Specificare uno o più volumi spaziali, per definire le aree di interesse in cui l'applicazione desidera ricevere i dati di mapping spaziale.</span><span class="sxs-lookup"><span data-stu-id="ffd97-212">Provide one or more spatial volumes, to define the regions of interest in which the application wishes to receive spatial mapping data.</span></span> <span data-ttu-id="ffd97-213">Un volume spaziale è semplicemente una forma che definisce un'area di spazio, ad esempio una finestra o una sfera.</span><span class="sxs-lookup"><span data-stu-id="ffd97-213">A spatial volume is simply a shape defining a region of space, such as a sphere or a box.</span></span>
   * <span data-ttu-id="ffd97-214">Usare un volume spaziale con un sistema di coordinate world-bloccato al spaziale per identificare un'area predefinita del mondo fisico.</span><span class="sxs-lookup"><span data-stu-id="ffd97-214">Use a spatial volume with a world-locked spatial coordinate system to identify a fixed region of the physical world.</span></span>
   * <span data-ttu-id="ffd97-215">Usare un volume spaziale, aggiornato a ogni fotogramma con un bloccato corpo spaziale sistema di coordinate, per identificare un'area di spazio che consente di spostare (ma non ruota) con l'utente.</span><span class="sxs-lookup"><span data-stu-id="ffd97-215">Use a spatial volume, updated each frame with a body-locked spatial coordinate system, to identify a region of space that moves (but does not rotate) with the user.</span></span>
   * <span data-ttu-id="ffd97-216">Questi volumi spaziali possono essere modificati successivamente in qualsiasi momento, come lo stato dell'applicazione o le modifiche dell'utente.</span><span class="sxs-lookup"><span data-stu-id="ffd97-216">These spatial volumes may be changed later at any time, as the status of the application or the user changes.</span></span>
* <span data-ttu-id="ffd97-217">Usare il polling o notifica per recuperare informazioni su superfici spaziali</span><span class="sxs-lookup"><span data-stu-id="ffd97-217">Use polling or notification to retrieve information about spatial surfaces</span></span>
   * <span data-ttu-id="ffd97-218">Si potrebbe 'esegue il polling' l'osservatore superficie per lo stato di superficie spaziale in qualsiasi momento.</span><span class="sxs-lookup"><span data-stu-id="ffd97-218">You may 'poll' the surface observer for spatial surface status at any time.</span></span> <span data-ttu-id="ffd97-219">In alternativa, è possibile registrarsi per ' superfici "evento di modifica dell'osservatore superficie, che invierà una notifica all'applicazione quando sono state modificate le superfici spaziale.</span><span class="sxs-lookup"><span data-stu-id="ffd97-219">Alternatively, you may register for the surface observer's 'surfaces changed' event, which will notify the application when spatial surfaces have changed.</span></span>
   * <span data-ttu-id="ffd97-220">Per un volume dinamico spaziale, ad esempio del cono di visualizzazione, o un volume bloccato corpo, le applicazioni dovranno il polling delle modifiche ogni fotogramma, impostare l'area di interesse e quindi ottenuto il set corrente di superfici spaziale.</span><span class="sxs-lookup"><span data-stu-id="ffd97-220">For a dynamic spatial volume, such as the view frustum, or a body-locked volume, applications will need to poll for changes each frame by setting the region of interest and then obtaining the current set of spatial surfaces.</span></span>
   * <span data-ttu-id="ffd97-221">Per un volume statico, ad esempio un cubo bloccato mondo che coprono una singola stanza, le applicazioni possono registrare per l'evento "superfici modificato" ricevere una notifica quando le superfici spaziale all'interno di tale volume sia stato modificato.</span><span class="sxs-lookup"><span data-stu-id="ffd97-221">For a static volume, such as a world-locked cube covering a single room, applications may register for the 'surfaces changed' event to be notified when spatial surfaces inside that volume may have changed.</span></span>
* <span data-ttu-id="ffd97-222">Processo di replica delle modifiche</span><span class="sxs-lookup"><span data-stu-id="ffd97-222">Process surfaces changes</span></span>
   * <span data-ttu-id="ffd97-223">Scorrere il set specificato di dispositivi Surface spaziale.</span><span class="sxs-lookup"><span data-stu-id="ffd97-223">Iterate the provided set of spatial surfaces.</span></span>
   * <span data-ttu-id="ffd97-224">Classificare spaziali superfici di aggiunta, modificata o rimossa.</span><span class="sxs-lookup"><span data-stu-id="ffd97-224">Classify spatial surfaces as added, changed or removed.</span></span>
   * <span data-ttu-id="ffd97-225">Per ogni area spaziale aggiunti o modificati, se appropriato, inviare una richiesta asincrona per ricevere mesh aggiornato che rappresenta lo stato corrente dell'area al livello desiderato di dettaglio.</span><span class="sxs-lookup"><span data-stu-id="ffd97-225">For each added or changed spatial surface, if appropriate submit an asynchronous request to receive updated mesh representing the surface's current state at the desired level of detail.</span></span>
* <span data-ttu-id="ffd97-226">Elaborare la richiesta asincrona mesh (ulteriori dettagli nelle sezioni seguenti).</span><span class="sxs-lookup"><span data-stu-id="ffd97-226">Process the asynchronous mesh request (more details in following sections).</span></span>

## <a name="mesh-caching"></a><span data-ttu-id="ffd97-227">La memorizzazione nella cache della rete</span><span class="sxs-lookup"><span data-stu-id="ffd97-227">Mesh Caching</span></span>

<span data-ttu-id="ffd97-228">Le superfici spaziali sono rappresentate da triangolari ad alta densità.</span><span class="sxs-lookup"><span data-stu-id="ffd97-228">Spatial surfaces are represented by dense triangle meshes.</span></span> <span data-ttu-id="ffd97-229">L'archiviazione, il rendering e l'elaborazione di queste trame possono uso intensivo di risorse di calcolo e archiviazione.</span><span class="sxs-lookup"><span data-stu-id="ffd97-229">Storing, rendering and processing these meshes can consume significant computational and storage resources.</span></span> <span data-ttu-id="ffd97-230">Di conseguenza, ogni applicazione deve adottare una rete mesh di memorizzazione nella cache lo schema appropriato alle proprie esigenze, per ridurre al minimo le risorse usate per l'elaborazione di rete e archiviazione.</span><span class="sxs-lookup"><span data-stu-id="ffd97-230">As such, each application should adopt a mesh caching scheme appropriate to its needs, in order to minimize the resources used for mesh processing and storage.</span></span> <span data-ttu-id="ffd97-231">Questo schema è necessario determinare quali trame per mantenere e quali eliminare, nonché la modalità di aggiornamento della rete per ogni area spaziale.</span><span class="sxs-lookup"><span data-stu-id="ffd97-231">This scheme should determine which meshes to retain and which to discard, as well as when to update the mesh for each spatial surface.</span></span>

<span data-ttu-id="ffd97-232">Numerose le considerazioni illustrate sono direttamente viene informato del modo in cui l'applicazione dovrebbe raggiungere il mesh di memorizzazione nella cache.</span><span class="sxs-lookup"><span data-stu-id="ffd97-232">Many of the considerations discussed there will directly inform how your application should approach mesh caching.</span></span> <span data-ttu-id="ffd97-233">È necessario considerare come l'utente si sposta tramite l'ambiente, quali aree sono necessarie, quando sarà possibile osservare diverse superfici e quando le modifiche nell'ambiente devono essere acquisite.</span><span class="sxs-lookup"><span data-stu-id="ffd97-233">You should consider how the user moves through the environment, which surfaces are needed, when different surfaces will be observed and when changes in the environment should be captured.</span></span>

<span data-ttu-id="ffd97-234">Durante l'interpretazione l'evento 'superfici modificato' fornito da observer surface, la trama di base per la logica di memorizzazione nella cache è come segue:</span><span class="sxs-lookup"><span data-stu-id="ffd97-234">When interpreting the 'surfaces changed' event provided by the surface observer, the basic mesh caching logic is as follows:</span></span>
* <span data-ttu-id="ffd97-235">Se l'applicazione viene rilevato un ID di superficie spaziale non ha mai visto prima, deve trattarlo come una nuova superficie spaziale.</span><span class="sxs-lookup"><span data-stu-id="ffd97-235">If the application sees a spatial surface ID that it has not seen before, it should treat this as a new spatial surface.</span></span>
* <span data-ttu-id="ffd97-236">Se l'applicazione non vede una superficie spaziale con un ID noto, ma con una nuova ora di aggiornamento, deve trattarlo come una superficie spaziale aggiornata.</span><span class="sxs-lookup"><span data-stu-id="ffd97-236">If the application sees a spatial surface with a known ID but with a new update time, it should treat this as an updated spatial surface.</span></span>
* <span data-ttu-id="ffd97-237">Se l'applicazione non è più visibile un'area spaziale con un ID noto, deve trattarlo come una superficie spaziale rimossa.</span><span class="sxs-lookup"><span data-stu-id="ffd97-237">If the application no longer sees a spatial surface with a known ID, it should treat this as a removed spatial surface.</span></span>

<span data-ttu-id="ffd97-238">In questo caso, ogni applicazione quindi apportare le seguenti opzioni:</span><span class="sxs-lookup"><span data-stu-id="ffd97-238">It is up to each application to then make the following choices:</span></span>
* <span data-ttu-id="ffd97-239">Per nuove superfici spaziali, devono essere richieste mesh?</span><span class="sxs-lookup"><span data-stu-id="ffd97-239">For new spatial surfaces, should mesh be requested?</span></span>
   * <span data-ttu-id="ffd97-240">In genere mesh devono essere richieste immediatamente per nuove superfici di spaziale, che possono fornire informazioni utili all'utente.</span><span class="sxs-lookup"><span data-stu-id="ffd97-240">Generally mesh should be requested immediately for new spatial surfaces, which may provide useful new information to the user.</span></span>
   * <span data-ttu-id="ffd97-241">Tuttavia, nuove superfici spaziali quasi e davanti all'utente devono avere la priorità e il mesh devono essere richieste prima di tutto.</span><span class="sxs-lookup"><span data-stu-id="ffd97-241">However, new spatial surfaces near and in front of the user should be given priority and their mesh should be requested first.</span></span>
   * <span data-ttu-id="ffd97-242">Se la nuova trama non è necessaria, se ad esempio l'applicazione ha in modo permanente o temporaneo 'bloccato' relativo modello di ambiente, quindi dovrebbe non essere richieste.</span><span class="sxs-lookup"><span data-stu-id="ffd97-242">If the new mesh is not needed, if for example the application has permanently or temporarily 'frozen' its model of the environment, then it should not be requested.</span></span>
* <span data-ttu-id="ffd97-243">Per le superfici spaziali aggiornate, devono essere richieste mesh?</span><span class="sxs-lookup"><span data-stu-id="ffd97-243">For updated spatial surfaces, should mesh be requested?</span></span>
   * <span data-ttu-id="ffd97-244">Superfici spaziali aggiornate quasi e davanti all'utente devono avere la priorità e il mesh devono essere richieste prima di tutto.</span><span class="sxs-lookup"><span data-stu-id="ffd97-244">Updated spatial surfaces near and in front of the user should be given priority and their mesh should be requested first.</span></span>
   * <span data-ttu-id="ffd97-245">Potrebbe anche essere opportuno dare a priorità più alta a nuove superfici rispetto all'aggiornamento superfici, soprattutto durante l'esperienza di analisi.</span><span class="sxs-lookup"><span data-stu-id="ffd97-245">It may also be appropriate to give higher priority to new surfaces than to updated surfaces, especially during the scanning experience.</span></span>
   * <span data-ttu-id="ffd97-246">Per limitare i costi di elaborazione, le applicazioni potrebbero voler limitare la frequenza con cui elaborano gli aggiornamenti alle superfici spaziale.</span><span class="sxs-lookup"><span data-stu-id="ffd97-246">To limit processing costs, applications may wish to throttle the rate at which they process updates to spatial surfaces.</span></span>
   * <span data-ttu-id="ffd97-247">È possibile dedurre che le modifiche apportate a una superficie spaziale sono minori, ad esempio se i limiti dell'area di sono troppo piccoli, nel qual caso l'aggiornamento potrebbe non essere abbastanza importante da processo.</span><span class="sxs-lookup"><span data-stu-id="ffd97-247">It may be possible to infer that changes to a spatial surface are minor, for example if the bounds of the surface are small, in which case the update may not be important enough to process.</span></span>
   * <span data-ttu-id="ffd97-248">Gli aggiornamenti alle superfici spaziale all'esterno dell'area di interesse dell'utente corrente possono essere ignorati, anche se in questo caso, potrebbe risultare più efficiente per modificare i volumi di delimitazione spaziali in uso dall'area osservatore.</span><span class="sxs-lookup"><span data-stu-id="ffd97-248">Updates to spatial surfaces outside the current region of interest of the user may be ignored entirely, though in this case it may be more efficient to modify the spatial bounding volumes in use by the surface observer.</span></span>
* <span data-ttu-id="ffd97-249">Per le superfici spaziali rimosse, devono essere eliminati mesh?</span><span class="sxs-lookup"><span data-stu-id="ffd97-249">For removed spatial surfaces, should mesh be discarded?</span></span>
   * <span data-ttu-id="ffd97-250">In genere mesh devono essere eliminati immediatamente per superfici spaziali rimosse, in modo che rimanga corretto relative all'occlusione di ologramma.</span><span class="sxs-lookup"><span data-stu-id="ffd97-250">Generally mesh should be discarded immediately for removed spatial surfaces, so that hologram occlusion remains correct.</span></span>
   * <span data-ttu-id="ffd97-251">Tuttavia, se l'applicazione ha motivo di ritenere che una superficie spaziale verrà visualizzato nuovamente a breve (ad esempio in base alla progettazione dell'esperienza utente), quindi potrebbe essere più efficiente per il mantenimento di to annullare il mesh e ricrearlo in un secondo momento.</span><span class="sxs-lookup"><span data-stu-id="ffd97-251">However, if the application has reason to believe that a spatial surface will reappear shortly (perhaps based upon the design of the user experience), then it may be more efficient to retain it than to discard its mesh and recreate it again later.</span></span>
   * <span data-ttu-id="ffd97-252">Se l'applicazione sta compilando un modello di ambiente dell'utente su larga scala quindi potrebbe non vogliono eliminare tutte le reti mesh affatto.</span><span class="sxs-lookup"><span data-stu-id="ffd97-252">If the application is building a large-scale model of the user's environment then it may not wish to discard any meshes at all.</span></span> <span data-ttu-id="ffd97-253">Dovranno comunque limitare dell'utilizzo delle risorse, tuttavia, probabilmente per le reti mesh di spooling su disco come superfici spaziale non vengono più visualizzati.</span><span class="sxs-lookup"><span data-stu-id="ffd97-253">It will still need to limit resource usage though, possibly by spooling meshes to disk as spatial surfaces disappear.</span></span>
   * <span data-ttu-id="ffd97-254">Si noti che alcuni eventi rari relativamente durante la generazione di superficie spaziale possono causare superfici spaziali da sostituire con nuove superfici spaziale in una posizione analoga ma con ID diversi.</span><span class="sxs-lookup"><span data-stu-id="ffd97-254">Note that some relatively rare events during spatial surface generation can cause spatial surfaces to be replaced by new spatial surfaces in a similar location but with different IDs.</span></span> <span data-ttu-id="ffd97-255">Di conseguenza, le applicazioni che non si desidera rimuovere un'area rimossa necessario prestare non end backup con più elevata overlapped spaziali superficie mesh che coprono lo stesso percorso.</span><span class="sxs-lookup"><span data-stu-id="ffd97-255">Consequently, applications that choose not to discard a removed surface should take care not to end up with multiple highly-overlapped spatial surface meshes covering the same location.</span></span>
* <span data-ttu-id="ffd97-256">Mesh devono essere eliminati per eventuali altre superfici spaziale?</span><span class="sxs-lookup"><span data-stu-id="ffd97-256">Should mesh be discarded for any other spatial surfaces?</span></span>
   * <span data-ttu-id="ffd97-257">Anche se una superficie spaziale non esiste, se non è più utile per l'esperienza dell'utente, quindi deve essere rimossa.</span><span class="sxs-lookup"><span data-stu-id="ffd97-257">Even while a spatial surface exists, if it is no longer useful to the user's experience then it should be discarded.</span></span> <span data-ttu-id="ffd97-258">Ad esempio, se l'applicazione 'sostituisce' chat room su altro lato di incoraggiare con uno spazio virtuale alternativo quindi le superfici spaziali in tale spazio non è più importante.</span><span class="sxs-lookup"><span data-stu-id="ffd97-258">For example, if the application 'replaces' the room on the other side of a doorway with an alternate virtual space then the spatial surfaces in that room no longer matter.</span></span>

<span data-ttu-id="ffd97-259">Ecco un'esempio mesh strategia di memorizzazione, tramite isteresi spaziali e temporale:</span><span class="sxs-lookup"><span data-stu-id="ffd97-259">Here is an example mesh caching strategy, using spatial and temporal hysteresis:</span></span>
* <span data-ttu-id="ffd97-260">Si consideri un'applicazione possa usare un volume spaziale a forma di cono di interesse che segue sguardo dell'utente in quanto Guardatevi intorno e spostano.</span><span class="sxs-lookup"><span data-stu-id="ffd97-260">Consider an application that wishes to use a frustum-shaped spatial volume of interest that follows the user's gaze as they look around and walk around.</span></span>
* <span data-ttu-id="ffd97-261">Una superficie spaziale può interrompersi temporaneamente da questo volume semplicemente perché l'utente cerca dalla superficie o passaggi più avanzato rispetto... solo per eseguire ricerche indietro oppure si avvicina nuovamente un momento in cui in un secondo momento.</span><span class="sxs-lookup"><span data-stu-id="ffd97-261">A spatial surface may disappear temporarily from this volume simply because the user looks away from the surface or steps further away from it... only to look back or moves closer again a moment later.</span></span> <span data-ttu-id="ffd97-262">In questo caso, eliminando e ricreando il mesh per questa area rappresenta a numerose elaborazioni ridondanti.</span><span class="sxs-lookup"><span data-stu-id="ffd97-262">In this case, discarding and re-creating the mesh for this surface represents a lot of redundant processing.</span></span>
* <span data-ttu-id="ffd97-263">Per ridurre il numero di modifiche elaborato, l'applicazione usa due osservatori di superficie spaziali, uno contenute all'interno di altra.</span><span class="sxs-lookup"><span data-stu-id="ffd97-263">To reduce the number of changes processed, the application uses two spatial surface observers, one contained within the other.</span></span> <span data-ttu-id="ffd97-264">Volume di maggiori dimensioni è sferico e segue l'utente 'in modo differito'; Sposta solo quando necessario, per verificare che il suo centro non superi 2,0 metri dell'utente.</span><span class="sxs-lookup"><span data-stu-id="ffd97-264">The larger volume is spherical and follows the user 'lazily'; it only moves when necessary to ensure that its centre is within 2.0 metres of the user.</span></span>
* <span data-ttu-id="ffd97-265">Mesh superficie spaziale nuove e aggiornate vengono sempre elaborate dalla più piccola osservatore surface interna, ma le reti mesh vengono memorizzati nella cache fino a quando non vengono escluse dall'osservatore superficie outer più grande.</span><span class="sxs-lookup"><span data-stu-id="ffd97-265">New and updated spatial surface meshes are always processed from the smaller inner surface observer, but meshes are cached until they disappear from the larger outer surface observer.</span></span> <span data-ttu-id="ffd97-266">In questo modo l'applicazione per evitare l'elaborazione di molte modifiche ridondante a causa di spostamenti di utente locale.</span><span class="sxs-lookup"><span data-stu-id="ffd97-266">This allows the application to avoid processing many redundant changes due to local user movement.</span></span>
* <span data-ttu-id="ffd97-267">Poiché una superficie spaziale anche scompaiano temporaneamente a causa di una perdita di rilevamento, l'applicazione può posticipare il scartata superfici spaziali rimosse durante la perdita di rilevamento.</span><span class="sxs-lookup"><span data-stu-id="ffd97-267">Since a spatial surface may also disappear temporarily due to tracking loss, the application also defers discarding removed spatial surfaces during tracking loss.</span></span>
* <span data-ttu-id="ffd97-268">In genere, un'applicazione deve valutare il compromesso tra l'elaborazione degli aggiornamenti ridotto e una maggiore quantità di memoria per determinare la strategia di memorizzazione ideale.</span><span class="sxs-lookup"><span data-stu-id="ffd97-268">In general, an application should evaluate the tradeoff between reduced update processing and increased memory usage to determine its ideal caching strategy.</span></span>

## <a name="rendering"></a><span data-ttu-id="ffd97-269">Per il rendering</span><span class="sxs-lookup"><span data-stu-id="ffd97-269">Rendering</span></span>

<span data-ttu-id="ffd97-270">Esistono tre modi principali in cui le reti mesh di mapping spaziale tendono a essere utilizzato per il rendering:</span><span class="sxs-lookup"><span data-stu-id="ffd97-270">There are three primary ways in which spatial mapping meshes tend to be used for rendering:</span></span>
* <span data-ttu-id="ffd97-271">Per la visualizzazione di surface</span><span class="sxs-lookup"><span data-stu-id="ffd97-271">For surface visualization</span></span>
   * <span data-ttu-id="ffd97-272">Spesso è utile visualizzare le superfici spaziali direttamente.</span><span class="sxs-lookup"><span data-stu-id="ffd97-272">It is often useful to visualize spatial surfaces directly.</span></span> <span data-ttu-id="ffd97-273">Ad esempio, cast 'shadows' dagli oggetti su superfici spaziali possono fornire indicazioni visive utili all'utente mentre si inseriscono vntana su superfici.</span><span class="sxs-lookup"><span data-stu-id="ffd97-273">For example, casting 'shadows' from objects onto spatial surfaces can provide helpful visual feedback to the user while they are placing holograms on surfaces.</span></span>
   * <span data-ttu-id="ffd97-274">Un aspetto da tenere presente è che mesh spaziali sono diverse per il tipo di trame che potrebbe creare un artista 3D.</span><span class="sxs-lookup"><span data-stu-id="ffd97-274">One thing to bear in mind is that spatial meshes are different to the kind of meshes that a 3D artist might create.</span></span> <span data-ttu-id="ffd97-275">La topologia di triangolo non sarà come 'clean' come topologia creati dall'uomo e dalla ne risentiranno la mesh [diversi errori](spatial-mapping-design.md#what-influences-spatial-mapping-quality).</span><span class="sxs-lookup"><span data-stu-id="ffd97-275">The triangle topology will not be as 'clean' as human-created topology, and the mesh will suffer from [various errors](spatial-mapping-design.md#what-influences-spatial-mapping-quality).</span></span>
   * <span data-ttu-id="ffd97-276">Per creare un piacevole estetici visual, pertanto è consigliabile eseguire alcune [mesh elaborazione](spatial-mapping.md#mesh-processing), ad esempio in aree libere di riempimento o smooth normali alla superficie.</span><span class="sxs-lookup"><span data-stu-id="ffd97-276">In order to create a pleasing visual aesthetic, you may thus want to perform some [mesh processing](spatial-mapping.md#mesh-processing), for example to fill holes or smooth surface normals.</span></span> <span data-ttu-id="ffd97-277">È anche possibile usare uno shader a trame progettato artista progetto nella mesh anziché direttamente visualizzazione topologia a maglia e normali.</span><span class="sxs-lookup"><span data-stu-id="ffd97-277">You may also wish to use a shader to project artist-designed textures onto your mesh instead of directly visualizing mesh topology and normals.</span></span>
* <span data-ttu-id="ffd97-278">Per occluding vntana dietro aree del mondo reale</span><span class="sxs-lookup"><span data-stu-id="ffd97-278">For occluding holograms behind real-world surfaces</span></span>
   * <span data-ttu-id="ffd97-279">Superfici spaziali possono eseguire il rendering in un passaggio di profondità della sola che interessa solo il [buffer profondità](https://msdn.microsoft.com/library/windows/desktop/bb219616(v=vs.85).aspx) e non influiscono sulle destinazioni di rendering di colore.</span><span class="sxs-lookup"><span data-stu-id="ffd97-279">Spatial surfaces can be rendered in a depth-only pass which only affects the [depth buffer](https://msdn.microsoft.com/library/windows/desktop/bb219616(v=vs.85).aspx) and does not affect color render targets.</span></span>
   * <span data-ttu-id="ffd97-280">Si prepara il buffer di profondità per nasconde i colori vntana successivamente eseguito il rendering dietro superfici spaziale.</span><span class="sxs-lookup"><span data-stu-id="ffd97-280">This primes the depth buffer to occlude subsequently-rendered holograms behind spatial surfaces.</span></span> <span data-ttu-id="ffd97-281">Accurata relative all'occlusione di vntana migliora il senso che vntana esiste effettivamente all'interno di uno spazio fisico dell'utente.</span><span class="sxs-lookup"><span data-stu-id="ffd97-281">Accurate occlusion of holograms enhances the sense that holograms really exist within the user's physical space.</span></span>
   * <span data-ttu-id="ffd97-282">Per abilitare il rendering solo profondità, aggiornare lo stato di blend per impostare il [RenderTargetWriteMask](https://msdn.microsoft.com/library/windows/desktop/hh404492(v=vs.85).aspx) su zero per il colore di tutte le destinazioni di rendering.</span><span class="sxs-lookup"><span data-stu-id="ffd97-282">To enable depth-only rendering, update your blend state to set the [RenderTargetWriteMask](https://msdn.microsoft.com/library/windows/desktop/hh404492(v=vs.85).aspx) to zero for all color render targets.</span></span>
* <span data-ttu-id="ffd97-283">Per la modifica dell'aspetto del vntana bloccati per superfici del mondo reale</span><span class="sxs-lookup"><span data-stu-id="ffd97-283">For modifying the appearance of holograms occluded by real-world surfaces</span></span>
   * <span data-ttu-id="ffd97-284">In genere viene eseguito il rendering della geometria è nascosta quando si viene bloccato.</span><span class="sxs-lookup"><span data-stu-id="ffd97-284">Normally rendered geometry is hidden when it is occluded.</span></span> <span data-ttu-id="ffd97-285">Questo risultato viene ottenuto impostando la funzione di profondità nel [stato stencil profondità](https://msdn.microsoft.com/library/windows/desktop/ff476110(v=vs.85).aspx) a "minore di o uguale", in modo che la geometria siano visibili solo in cui è **più da vicino** alla fotocamera rispetto a tutti precedentemente eseguito il rendering geometria.</span><span class="sxs-lookup"><span data-stu-id="ffd97-285">This is achieved by setting the depth function in your [depth-stencil state](https://msdn.microsoft.com/library/windows/desktop/ff476110(v=vs.85).aspx) to "less than or equal", which causes geometry to be visible only where it is **closer** to the camera than all previously rendered geometry.</span></span>
   * <span data-ttu-id="ffd97-286">Tuttavia, può essere utile per mantenere determinati geometry visibile anche quando si viene bloccato e per modificarne l'aspetto quando bloccati allo scopo di fornire un feedback visivo all'utente.</span><span class="sxs-lookup"><span data-stu-id="ffd97-286">However, it may be useful to keep certain geometry visible even when it is occluded, and to modify its appearance when occluded as a way of providing visual feedback to the user.</span></span> <span data-ttu-id="ffd97-287">Ad esempio, in questo modo l'applicazione mostrare la posizione di un oggetto mentre chiaramente che l'utente è protetto da un'area del mondo reale.</span><span class="sxs-lookup"><span data-stu-id="ffd97-287">For example, this allows the application to show the user the location of an object whilst making it clear that is behind a real-world surface.</span></span>
   * <span data-ttu-id="ffd97-288">A tale scopo, eseguire il rendering della geometria una seconda volta con un diverso dello shader che crea l'aspetto desiderato 'occluded'.</span><span class="sxs-lookup"><span data-stu-id="ffd97-288">To achieve this, render the geometry a second time with a different shader that creates the desired 'occluded' appearance.</span></span> <span data-ttu-id="ffd97-289">Prima di eseguire il rendering della geometria per la seconda volta, apportare due modifiche per il [stato stencil profondità](https://msdn.microsoft.com/library/windows/desktop/ff476110(v=vs.85).aspx).</span><span class="sxs-lookup"><span data-stu-id="ffd97-289">Before rendering the geometry for the second time, make two changes to your [depth-stencil state](https://msdn.microsoft.com/library/windows/desktop/ff476110(v=vs.85).aspx).</span></span> <span data-ttu-id="ffd97-290">Innanzitutto, impostare la funzione di profondità "maggiore o uguale a" in modo che la geometria saranno visibili solo in cui è **ulteriormente** dalla fotocamera rispetto a tutte le geometrie precedentemente sottoposti a rendering.</span><span class="sxs-lookup"><span data-stu-id="ffd97-290">First, set the depth function to "greater than or equal" so that the geometry will be visible only where it is **further** from the camera than all previously rendered geometry.</span></span> <span data-ttu-id="ffd97-291">In secondo luogo, impostare il DepthWriteMask a zero, in modo che il buffer di profondità non verrà modificato (il buffer di profondità continueranno a rappresentare la profondità della geometria **più vicina** alla fotocamera).</span><span class="sxs-lookup"><span data-stu-id="ffd97-291">Second, set the DepthWriteMask to zero, so that the depth buffer will not be modified (the depth buffer should continue to represent the depth of the geometry **closest** to the camera).</span></span>

<span data-ttu-id="ffd97-292">[Prestazioni](understanding-performance-for-mixed-reality.md) costituiscono un aspetto importante per il rendering mesh del mapping spaziale.</span><span class="sxs-lookup"><span data-stu-id="ffd97-292">[Performance](understanding-performance-for-mixed-reality.md) is an important concern when rendering spatial mapping meshes.</span></span> <span data-ttu-id="ffd97-293">Ecco alcune tecniche di prestazioni di rendering specifiche di rendering mesh del mapping spaziale:</span><span class="sxs-lookup"><span data-stu-id="ffd97-293">Here are some rendering performance techniques specific to rendering spatial mapping meshes:</span></span>
* <span data-ttu-id="ffd97-294">Regolare la densità triangolo</span><span class="sxs-lookup"><span data-stu-id="ffd97-294">Adjust triangle density</span></span>
   * <span data-ttu-id="ffd97-295">Quando si richiedente superficie spaziale trame dall'osservatore surface, richiedere la densità più bassa di triangolari che è sufficiente per le proprie esigenze.</span><span class="sxs-lookup"><span data-stu-id="ffd97-295">When requesting spatial surface meshes from your surface observer, request the lowest density of triangle meshes that will suffice for your needs.</span></span>
   * <span data-ttu-id="ffd97-296">Si può avere senso per variare la densità triangolo in base all'area per area, in base alla distanza della superficie da parte dell'utente e alla sua importanza per l'esperienza dell'utente.</span><span class="sxs-lookup"><span data-stu-id="ffd97-296">It may make sense to vary triangle density on a surface by surface basis, depending on the surface's distance from the user, and its relevance to the user experience.</span></span>
   * <span data-ttu-id="ffd97-297">Riducendo i conteggi di triangolo ridurrà utilizzo della memoria e i costi di elaborazione del vertice sulla GPU, anche se non verranno influenzati, i costi di elaborazione dei pixel.</span><span class="sxs-lookup"><span data-stu-id="ffd97-297">Reducing triangle counts will reduce memory usage and vertex processing costs on the GPU, though it will not affect pixel processing costs.</span></span>
* <span data-ttu-id="ffd97-298">Eseguire il culling cono</span><span class="sxs-lookup"><span data-stu-id="ffd97-298">Perform frustum culling</span></span>
   * <span data-ttu-id="ffd97-299">Eliminazione selettiva di cono Ignora oggetti disegno che non sono visibili perché si trovano all'esterno del cono di visualizzazione corrente.</span><span class="sxs-lookup"><span data-stu-id="ffd97-299">Frustum culling skips drawing objects that cannot be seen because they are outside the current display frustum.</span></span> <span data-ttu-id="ffd97-300">In questo modo si riduce i costi di elaborazione di CPU e GPU.</span><span class="sxs-lookup"><span data-stu-id="ffd97-300">This reduces both CPU and GPU processing costs.</span></span>
   * <span data-ttu-id="ffd97-301">Poiché il culling viene eseguito in base al mesh e superfici spaziali possono avere dimensioni elevate, suddividere ogni trama della superficie spaziale in blocchi più piccoli può comportare più efficiente della faccia posteriore (in quanto il rendering vengono eseguiti un numero inferiore di triangoli fuori schermo).</span><span class="sxs-lookup"><span data-stu-id="ffd97-301">Since culling is performed on a per-mesh basis and spatial surfaces can be large, breaking each spatial surface mesh into smaller chunks may result in more efficient culling (in that fewer offscreen triangles are rendered).</span></span> <span data-ttu-id="ffd97-302">C'è un compromesso tuttavia; i più trame che è necessario, altre chiamate di disegno è necessario apportare, che possono aumentare i costi della CPU.</span><span class="sxs-lookup"><span data-stu-id="ffd97-302">There is a tradeoff, however; the more meshes you have, the more draw calls you must make, which can increase CPU costs.</span></span> <span data-ttu-id="ffd97-303">In un caso estremo, di cono della faccia posteriore calcoli stessi anche avere una notevole costo della CPU.</span><span class="sxs-lookup"><span data-stu-id="ffd97-303">In an extreme case, the frustum culling calculations themselves could even have a measurable CPU cost.</span></span>
* <span data-ttu-id="ffd97-304">Modificare l'ordine di rendering</span><span class="sxs-lookup"><span data-stu-id="ffd97-304">Adjust rendering order</span></span>
   * <span data-ttu-id="ffd97-305">Le superfici spaziali tendono a essere di grandi dimensioni, in quanto rappresentano l'intero ambiente dell'utente che li racchiudono.</span><span class="sxs-lookup"><span data-stu-id="ffd97-305">Spatial surfaces tend to be large, because they represent the user's entire environment surrounding them.</span></span> <span data-ttu-id="ffd97-306">Pixel elaborazione i costi nella GPU in questo modo può essere alto, in particolare nei casi in cui è presente più di un livello di geometria visibile (incluso superfici spaziali e altri vntana).</span><span class="sxs-lookup"><span data-stu-id="ffd97-306">Pixel processing costs on the GPU can thus be high, especially in cases where there is more than one layer of visible geometry (including both spatial surfaces and other holograms).</span></span> <span data-ttu-id="ffd97-307">In questo caso, il livello più vicino all'utente verrà essere occluding ulteriormente i livelli, in modo che qualsiasi momento GPU impiegato per il rendering di tali livelli più distante risulta sprecata.</span><span class="sxs-lookup"><span data-stu-id="ffd97-307">In this case, the layer nearest to the user will be occluding any layers further away, so any GPU time spent rendering those more distant layers is wasted.</span></span>
   * <span data-ttu-id="ffd97-308">Per ridurre il lavoro ridondante nella GPU, consente di eseguire il rendering di superfici opache in ordine da primo a ultimo (quelli più da vicino in primo luogo, più distante quelli last).</span><span class="sxs-lookup"><span data-stu-id="ffd97-308">To reduce this redundant work on the GPU, it helps to render opaque surfaces in front-to-back order (closer ones first, more distant ones last).</span></span> <span data-ttu-id="ffd97-309">Per "opaco" si intendono per il quale il DepthWriteMask è impostato su uno in superfici il [stato stencil profondità](https://msdn.microsoft.com/library/windows/desktop/ff476110(v=vs.85).aspx).</span><span class="sxs-lookup"><span data-stu-id="ffd97-309">By 'opaque' we mean surfaces for which the DepthWriteMask is set to one in your [depth-stencil state](https://msdn.microsoft.com/library/windows/desktop/ff476110(v=vs.85).aspx).</span></span> <span data-ttu-id="ffd97-310">Quando viene eseguito il rendering le superfici più vicina, essi verranno preparare il buffer di profondità in modo che più distante superfici vengono ignorate in modo efficiente dall'elaboratore di pixel nella GPU.</span><span class="sxs-lookup"><span data-stu-id="ffd97-310">When the nearest surfaces are rendered, they will prime the depth buffer so that more distant surfaces are efficiently skipped by the pixel processor on the GPU.</span></span>

## <a name="mesh-processing"></a><span data-ttu-id="ffd97-311">Elaborazione di rete</span><span class="sxs-lookup"><span data-stu-id="ffd97-311">Mesh Processing</span></span>

<span data-ttu-id="ffd97-312">Un'applicazione può essere necessario eseguire [varie operazioni](spatial-mapping.md#mesh-processing) nel mesh superficie spaziale in base alle proprie esigenze.</span><span class="sxs-lookup"><span data-stu-id="ffd97-312">An application may want to perform [various operations](spatial-mapping.md#mesh-processing) on spatial surface meshes to suit its needs.</span></span> <span data-ttu-id="ffd97-313">I dati di indici e vertici forniti con ogni trama della superficie spaziale usano lo stesso layout familiari come la [buffer vertici e indici](https://msdn.microsoft.com/library/windows/desktop/bb147325%28v=vs.85%29.aspx) che vengono utilizzati per il rendering mesh in tutti i rendering moderne API.</span><span class="sxs-lookup"><span data-stu-id="ffd97-313">The index and vertex data provided with each spatial surface mesh uses the same familiar layout as the [vertex and index buffers](https://msdn.microsoft.com/library/windows/desktop/bb147325%28v=vs.85%29.aspx) that are used for rendering triangle meshes in all modern rendering APIs.</span></span> <span data-ttu-id="ffd97-314">Tuttavia, un aspetto chiave da tenere presente è che triangoli mapping spaziale abbiano una **front-in senso orario ordine dei vertici**.</span><span class="sxs-lookup"><span data-stu-id="ffd97-314">However, one key fact to be aware of is that spatial mapping triangles have a **front-clockwise winding order**.</span></span> <span data-ttu-id="ffd97-315">Ogni triangolo è rappresentata da tre indici di vertici nel buffer di indice della mesh e tali indici identificherà i vertici del triangolo in un **in senso orario** ordine, quando viene visualizzato il triangolo dalle **front** lato.</span><span class="sxs-lookup"><span data-stu-id="ffd97-315">Each triangle is represented by three vertex indices in the mesh's index buffer and these indices will identify the triangle's vertices in a **clockwise** order, when the triangle is viewed from the **front** side.</span></span> <span data-ttu-id="ffd97-316">Inizio lato (o esterna) delle maglie superficie spaziale corrispondente come previsto al lato anteriore (visibile) delle superfici reali.</span><span class="sxs-lookup"><span data-stu-id="ffd97-316">The front side (or outside) of spatial surface meshes corresponds as you would expect to the front (visible) side of real world surfaces.</span></span>

<span data-ttu-id="ffd97-317">Le applicazioni devono solo eseguire mesh semplificazione se la densità triangolo minimo fornita dall'osservatore surface è ancora sufficientemente generico, questo lavoro è un'operazione costoso e già in corso dal runtime per generare i vari forniti livelli di dettaglio.</span><span class="sxs-lookup"><span data-stu-id="ffd97-317">Applications should only perform mesh simplification if the coarsest triangle density provided by the surface observer is still insufficiently coarse - this work is computationally expensive and already being performed by the runtime to generate the various provided levels of detail.</span></span>

<span data-ttu-id="ffd97-318">Poiché ogni osservatore area può fornire più superfici spaziale non connesse, alcune applicazioni può essere utile ritagliare questi spaziali nell'area trame su ogni altra, quindi chiusura lampo li insieme.</span><span class="sxs-lookup"><span data-stu-id="ffd97-318">Because each surface observer can provide multiple unconnected spatial surfaces, some applications may wish to clip these spatial surface meshes against each other, then zipper them together.</span></span> <span data-ttu-id="ffd97-319">In generale, è necessario, come nelle vicinanze mesh superficie spaziale spesso si sovrappongono leggermente il passaggio di ritaglio.</span><span class="sxs-lookup"><span data-stu-id="ffd97-319">In general, the clipping step is required, as nearby spatial surface meshes often overlap slightly.</span></span>

## <a name="raycasting-and-collision"></a><span data-ttu-id="ffd97-320">Raycasting e dei conflitti</span><span class="sxs-lookup"><span data-stu-id="ffd97-320">Raycasting and Collision</span></span>

<span data-ttu-id="ffd97-321">Affinché una fisica API (ad esempio [Havok](http://www.havok.com/)) per fornire un'applicazione con funzionalità raycasting e dei conflitti per superfici spaziale, l'applicazione deve fornire superficie spaziale trame per le API di fisica.</span><span class="sxs-lookup"><span data-stu-id="ffd97-321">In order for a physics API (such as [Havok](http://www.havok.com/)) to provide an application with raycasting and collision functionality for spatial surfaces, the application must provide spatial surface meshes to the physics API.</span></span> <span data-ttu-id="ffd97-322">Mesh usata spesso per fisica hanno le proprietà seguenti:</span><span class="sxs-lookup"><span data-stu-id="ffd97-322">Meshes used for physics often have the following properties:</span></span>
* <span data-ttu-id="ffd97-323">Contengono solo un numero limitato di triangoli.</span><span class="sxs-lookup"><span data-stu-id="ffd97-323">They contain only small numbers of triangles.</span></span> <span data-ttu-id="ffd97-324">Operazioni di fisica sono molto più complesse rispetto alle operazioni di rendering.</span><span class="sxs-lookup"><span data-stu-id="ffd97-324">Physics operations are more computationally intensive than rendering operations.</span></span>
* <span data-ttu-id="ffd97-325">Sono 'd'acqua-severi'.</span><span class="sxs-lookup"><span data-stu-id="ffd97-325">They are 'water-tight'.</span></span> <span data-ttu-id="ffd97-326">Superfici deve essere solido non devono contenere piccole aree vuote; anche i buchi troppo piccoli per essere visibile possono causare problemi.</span><span class="sxs-lookup"><span data-stu-id="ffd97-326">Surfaces intended to be solid should not have small holes in them; even holes too small to be visible can cause problems.</span></span>
* <span data-ttu-id="ffd97-327">Vengono convertite in saraceno convesso.</span><span class="sxs-lookup"><span data-stu-id="ffd97-327">They are converted into convex hulls.</span></span> <span data-ttu-id="ffd97-328">Saraceno convesso è pochi i poligoni e è liberi di difetti e sono calcolo molto più efficienti per l'elaborazione di trame grezza.</span><span class="sxs-lookup"><span data-stu-id="ffd97-328">Convex hulls have few polygons and are free of holes, and they are much more computationally efficient to process than raw triangle meshes.</span></span>

<span data-ttu-id="ffd97-329">Quando raycasts verrà eseguito su superfici spaziali, tenere presente che queste superfici spesso sono complesse, risulti troppo affollate forme complete dei dettagli disordinati little - soli come il personale tecnico.</span><span class="sxs-lookup"><span data-stu-id="ffd97-329">When performing raycasts against spatial surfaces, bear in mind that these surfaces are often complex, cluttered shapes full of messy little details - just like your desk!</span></span> <span data-ttu-id="ffd97-330">Ciò significa che un singolo raycast spesso non è sufficiente per fornire informazioni sufficienti per valutare la forma della superficie, nonché la forma dello spazio vuoto accanto al telefono.</span><span class="sxs-lookup"><span data-stu-id="ffd97-330">This means that a single raycast is often insufficient to give you enough information about the shape of the surface and the shape of the empty space near it.</span></span> <span data-ttu-id="ffd97-331">È pertanto in genere una buona idea per eseguire molti raycasts all'interno di una piccola area e per usare i risultati aggregati per derivare una comprensione più affidabile della superficie.</span><span class="sxs-lookup"><span data-stu-id="ffd97-331">It is thus usually a good idea to perform many raycasts within a small area and to use the aggregate results to derive a more reliable understanding of the surface.</span></span> <span data-ttu-id="ffd97-332">Ad esempio, usando la media di 10 raycasts a Guida ologrammi posizionamento su una superficie genererà un risultato di gran lunga più fluido e meno instabilità che utilizzando solo un singolo raycast.</span><span class="sxs-lookup"><span data-stu-id="ffd97-332">For example, using the average of 10 raycasts to guide hologram placement on a surface will yield a far smoother and less 'jittery' result that using just a single raycast.</span></span>

<span data-ttu-id="ffd97-333">Tuttavia, tenere presente che ogni raycast può avere un costo di calcolo elevato.</span><span class="sxs-lookup"><span data-stu-id="ffd97-333">However, bear in mind that each raycast can have a high computational cost.</span></span> <span data-ttu-id="ffd97-334">Pertanto a seconda dello scenario di utilizzo è necessario compromesso tra il costo di calcolo di raycasts aggiuntive (operazione eseguita per ogni fotogramma) rispetto al costo di calcolo [mesh elaborazione](spatial-mapping.md#mesh-processing) smooth e rimuovere aree libere in superfici spaziale ( eseguito quando vengono aggiornate le reti mesh spaziale).</span><span class="sxs-lookup"><span data-stu-id="ffd97-334">Thus depending on your usage scenario you should trade off the computational cost of additional raycasts (performed every frame) against the computational cost of [mesh processing](spatial-mapping.md#mesh-processing) to smooth and remove holes in spatial surfaces (performed when spatial meshes are updated).</span></span>

## <a name="troubleshooting"></a><span data-ttu-id="ffd97-335">Risoluzione dei problemi</span><span class="sxs-lookup"><span data-stu-id="ffd97-335">Troubleshooting</span></span>
* <span data-ttu-id="ffd97-336">Affinché il mesh superficie sia corretto orientamento, ogni GameObject deve essere attivo prima che venga inviato al SurfaceObeserver affinché il mesh costruito.</span><span class="sxs-lookup"><span data-stu-id="ffd97-336">In order for the surface meshes to be orientated correctly, each GameObject needs to be active before it is sent to the SurfaceObeserver to have its mesh constructed.</span></span> <span data-ttu-id="ffd97-337">In caso contrario, le trame verranno visualizzato nello spazio di ma ruotata angolazioni strano.</span><span class="sxs-lookup"><span data-stu-id="ffd97-337">Otherwise, the meshes will show up in your space but rotated at weird angles.</span></span>
* <span data-ttu-id="ffd97-338">Gli elementi GameObject che esegue lo script che comunica con il SurfaceObserver deve essere impostato per l'origine.</span><span class="sxs-lookup"><span data-stu-id="ffd97-338">The GameObject that runs the script that communicates with the SurfaceObserver needs to be set to the origin.</span></span> <span data-ttu-id="ffd97-339">In caso contrario, tutti i Gameobject creata e inviare il SurfaceObserver a disporre le trame costruiti avrà un offset uguale all'offset dell'oggetto gioco padre.</span><span class="sxs-lookup"><span data-stu-id="ffd97-339">Otherwise, all of GameObjects that you create and send to the SurfaceObserver to have their meshes constructed will have an offset equal to the offset of the Parent Game Object.</span></span> <span data-ttu-id="ffd97-340">Ciò può rendere il mesh visualizzati diversi metri che rende molto difficile eseguire il debug di cosa sta succedendo.</span><span class="sxs-lookup"><span data-stu-id="ffd97-340">This can make your meshes show up several meters away which makes it very hard to debug what is going on.</span></span>

## <a name="see-also"></a><span data-ttu-id="ffd97-341">Vedere anche</span><span class="sxs-lookup"><span data-stu-id="ffd97-341">See also</span></span>
* [<span data-ttu-id="ffd97-342">Sistemi di coordinate</span><span class="sxs-lookup"><span data-stu-id="ffd97-342">Coordinate systems</span></span>](coordinate-systems.md)
* [<span data-ttu-id="ffd97-343">Mapping spaziale DirectX</span><span class="sxs-lookup"><span data-stu-id="ffd97-343">Spatial mapping in DirectX</span></span>](spatial-mapping-in-directx.md)
* [<span data-ttu-id="ffd97-344">Mapping spaziale in Unity</span><span class="sxs-lookup"><span data-stu-id="ffd97-344">Spatial mapping in Unity</span></span>](spatial-mapping-in-unity.md)
* [<span data-ttu-id="ffd97-345">Progettazione di mapping spaziale</span><span class="sxs-lookup"><span data-stu-id="ffd97-345">Spatial mapping design</span></span>](spatial-mapping-design.md)
* [<span data-ttu-id="ffd97-346">Case study: ricerca sui difetti nella realtà</span><span class="sxs-lookup"><span data-stu-id="ffd97-346">Case study - Looking through holes in your reality</span></span>](case-study-looking-through-holes-in-your-reality.md)

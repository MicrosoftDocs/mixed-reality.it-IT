---
title: Fotocamera individuabile
description: Informazioni generali relative alla fotocamera con connessione front-HoloLens.
author: wguyman
ms.author: wguyman
ms.date: 02/24/2019
ms.topic: article
keywords: fotocamera, hololens, fotocamera, colore di primo piano con connessione
ms.openlocfilehash: ffcd6faf15dd8556db393237d468a3cdf60e4bdb
ms.sourcegitcommit: 384b0087899cd835a3a965f75c6f6c607c9edd1b
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 04/12/2019
ms.locfileid: "59603620"
---
# <a name="locatable-camera"></a><span data-ttu-id="d5301-104">Fotocamera individuabile</span><span class="sxs-lookup"><span data-stu-id="d5301-104">Locatable camera</span></span>

<span data-ttu-id="d5301-105">HoloLens include una fotocamera posta sul world nella parte anteriore del dispositivo che consente alle app di vedere ciò che viene visualizzato all'utente.</span><span class="sxs-lookup"><span data-stu-id="d5301-105">HoloLens includes a world-facing camera mounted on the front of the device which enables apps to see what the user sees.</span></span> <span data-ttu-id="d5301-106">Gli sviluppatori hanno accesso e controllo della fotocamera, esattamente come accade per le fotocamere colore su Smartphone, portatili o desktop.</span><span class="sxs-lookup"><span data-stu-id="d5301-106">Developers have access to and control of the camera just as they would for color cameras on smartphones, portables, or desktops.</span></span> <span data-ttu-id="d5301-107">Le stesse finestre universale [acquisizione di media](https://msdn.microsoft.com/library/windows/apps/windows.media.capture.mediacapture.aspx) e foundation supporti windows API utilizzabili sui desktop e mobile funzionano HoloLens.</span><span class="sxs-lookup"><span data-stu-id="d5301-107">The same universal windows [media capture](https://msdn.microsoft.com/library/windows/apps/windows.media.capture.mediacapture.aspx) and windows media foundation APIs that work on mobile and desktop work on HoloLens.</span></span> <span data-ttu-id="d5301-108">Unity [è anche eseguito il wrapping di queste finestre API](locatable-camera-in-unity.md) astrarre semplice utilizzo della fotocamera su HoloLens per le attività, ad esempio tenendo regolari foto e video (con o senza vntana) e individuare la posizione della fotocamera in e prospettiva nel scena.</span><span class="sxs-lookup"><span data-stu-id="d5301-108">Unity [has also wrapped these windows APIs](locatable-camera-in-unity.md) to abstract simple usage of the camera on HoloLens for tasks such as taking regular photos and videos (with or without holograms) and locating the camera's position in and perspective on the scene.</span></span>

## <a name="device-camera-information"></a><span data-ttu-id="d5301-109">Informazioni dispositivo della fotocamera</span><span class="sxs-lookup"><span data-stu-id="d5301-109">Device camera information</span></span>

### <a name="hololens-first-generation"></a><span data-ttu-id="d5301-110">HoloLens (prima generazione)</span><span class="sxs-lookup"><span data-stu-id="d5301-110">HoloLens (first-generation)</span></span>

* <span data-ttu-id="d5301-111">Fotocamera foto/video (PV) lo stato attivo predefinito, con bilanciamento automatico del bianco, l'esposizione automatica e pipe di elaborazione di immagini completi</span><span class="sxs-lookup"><span data-stu-id="d5301-111">Fixed focus photo/video (PV) camera, with auto white balance, auto exposure, and full image processing pipe</span></span>
* <span data-ttu-id="d5301-112">LED di Privacy white rivolta verso il mondo si accende ogni volta che la fotocamera è attiva</span><span class="sxs-lookup"><span data-stu-id="d5301-112">White Privacy LED facing the world will illuminate whenever the camera is active</span></span>
* <span data-ttu-id="d5301-113">La fotocamera supporta le modalità seguenti (tutte le modalità sono proporzioni 16:9) a 5 fps, 24, 20, 15 e 30:</span><span class="sxs-lookup"><span data-stu-id="d5301-113">The camera supports the following modes (all modes are 16:9 aspect ratio) at 30, 24, 20, 15, and 5 fps:</span></span>

  |  <span data-ttu-id="d5301-114">Video</span><span class="sxs-lookup"><span data-stu-id="d5301-114">Video</span></span>  |  <span data-ttu-id="d5301-115">Anteprima</span><span class="sxs-lookup"><span data-stu-id="d5301-115">Preview</span></span>  |  <span data-ttu-id="d5301-116">Ancora</span><span class="sxs-lookup"><span data-stu-id="d5301-116">Still</span></span>  |  <span data-ttu-id="d5301-117">Orizzontale campo visualizzazione (H)</span><span class="sxs-lookup"><span data-stu-id="d5301-117">Horizontal Field of View (H-FOV)</span></span> |  <span data-ttu-id="d5301-118">Utilizzo consigliato</span><span class="sxs-lookup"><span data-stu-id="d5301-118">Suggested usage</span></span> | 
  |----------|----------|----------|----------|----------|
  |  <span data-ttu-id="d5301-119">1280x720</span><span class="sxs-lookup"><span data-stu-id="d5301-119">1280x720</span></span> |  <span data-ttu-id="d5301-120">1280x720</span><span class="sxs-lookup"><span data-stu-id="d5301-120">1280x720</span></span> |  <span data-ttu-id="d5301-121">1280x720</span><span class="sxs-lookup"><span data-stu-id="d5301-121">1280x720</span></span> |  <span data-ttu-id="d5301-122">45deg</span><span class="sxs-lookup"><span data-stu-id="d5301-122">45deg</span></span>  |  <span data-ttu-id="d5301-123">(modalità predefinita con la stabilizzazione video)</span><span class="sxs-lookup"><span data-stu-id="d5301-123">(default mode with video stabilization)</span></span> | 
  |  <span data-ttu-id="d5301-124">N/D</span><span class="sxs-lookup"><span data-stu-id="d5301-124">N/A</span></span> |  <span data-ttu-id="d5301-125">N/D</span><span class="sxs-lookup"><span data-stu-id="d5301-125">N/A</span></span> |  <span data-ttu-id="d5301-126">2048x1152</span><span class="sxs-lookup"><span data-stu-id="d5301-126">2048x1152</span></span> |  <span data-ttu-id="d5301-127">67deg</span><span class="sxs-lookup"><span data-stu-id="d5301-127">67deg</span></span> |  <span data-ttu-id="d5301-128">Immagini più elevata risoluzione</span><span class="sxs-lookup"><span data-stu-id="d5301-128">Highest resolution still image</span></span> | 
  |  <span data-ttu-id="d5301-129">1408x792</span><span class="sxs-lookup"><span data-stu-id="d5301-129">1408x792</span></span> |  <span data-ttu-id="d5301-130">1408x792</span><span class="sxs-lookup"><span data-stu-id="d5301-130">1408x792</span></span> |  <span data-ttu-id="d5301-131">1408x792</span><span class="sxs-lookup"><span data-stu-id="d5301-131">1408x792</span></span> |  <span data-ttu-id="d5301-132">48deg</span><span class="sxs-lookup"><span data-stu-id="d5301-132">48deg</span></span> |  <span data-ttu-id="d5301-133">Risoluzione overscan (riempimento) prima di stabilizzazione video</span><span class="sxs-lookup"><span data-stu-id="d5301-133">Overscan (padding) resolution before video stabilization</span></span> | 
  |  <span data-ttu-id="d5301-134">1344x756</span><span class="sxs-lookup"><span data-stu-id="d5301-134">1344x756</span></span> |  <span data-ttu-id="d5301-135">1344x756</span><span class="sxs-lookup"><span data-stu-id="d5301-135">1344x756</span></span> |  <span data-ttu-id="d5301-136">1344x756</span><span class="sxs-lookup"><span data-stu-id="d5301-136">1344x756</span></span> |  <span data-ttu-id="d5301-137">67deg</span><span class="sxs-lookup"><span data-stu-id="d5301-137">67deg</span></span> |  <span data-ttu-id="d5301-138">Modalità del campo di visualizzazione video grandi dimensioni con overscan</span><span class="sxs-lookup"><span data-stu-id="d5301-138">Large FOV video mode with overscan</span></span> | 
  |  <span data-ttu-id="d5301-139">896x504</span><span class="sxs-lookup"><span data-stu-id="d5301-139">896x504</span></span> |  <span data-ttu-id="d5301-140">896x504</span><span class="sxs-lookup"><span data-stu-id="d5301-140">896x504</span></span> |  <span data-ttu-id="d5301-141">896x504</span><span class="sxs-lookup"><span data-stu-id="d5301-141">896x504</span></span> |  <span data-ttu-id="d5301-142">48deg</span><span class="sxs-lookup"><span data-stu-id="d5301-142">48deg</span></span> |  <span data-ttu-id="d5301-143">Basso consumo / modalità bassa risoluzione per immagine l'elaborazione delle attività</span><span class="sxs-lookup"><span data-stu-id="d5301-143">Low power / Low resolution mode for image processing tasks</span></span> | 

### <a name="hololens-2"></a><span data-ttu-id="d5301-144">HoloLens 2</span><span class="sxs-lookup"><span data-stu-id="d5301-144">HoloLens 2</span></span>

* <span data-ttu-id="d5301-145">Fotocamera foto/video (PV) e messa a fuoco, con bilanciamento automatico del bianco, l'esposizione automatica e pipe di elaborazione di immagini completi</span><span class="sxs-lookup"><span data-stu-id="d5301-145">Auto-focus photo/video (PV) camera, with auto white balance, auto exposure, and full image processing pipe</span></span>
* <span data-ttu-id="d5301-146">LED di Privacy white rivolta verso il mondo si accende ogni volta che la fotocamera è attiva</span><span class="sxs-lookup"><span data-stu-id="d5301-146">White Privacy LED facing the world will illuminate whenever the camera is active</span></span>
* <span data-ttu-id="d5301-147">La fotocamera supporta le modalità seguenti (tutte le modalità di video sono proporzioni 16:9):</span><span class="sxs-lookup"><span data-stu-id="d5301-147">The camera supports the following modes (all video modes are 16:9 aspect ratio):</span></span>

  >[!NOTE]
  ><span data-ttu-id="d5301-148">Queste modalità sono soggetti a modifiche prima della disponibilità generale di HoloLens 2.</span><span class="sxs-lookup"><span data-stu-id="d5301-148">These modes are subject to change prior to HoloLens 2 general availability.</span></span>

  |  <span data-ttu-id="d5301-149">Video</span><span class="sxs-lookup"><span data-stu-id="d5301-149">Video</span></span>  |  <span data-ttu-id="d5301-150">Anteprima</span><span class="sxs-lookup"><span data-stu-id="d5301-150">Preview</span></span>  |  <span data-ttu-id="d5301-151">Ancora</span><span class="sxs-lookup"><span data-stu-id="d5301-151">Still</span></span>  |  <span data-ttu-id="d5301-152">Frequenze dei fotogrammi</span><span class="sxs-lookup"><span data-stu-id="d5301-152">Frame rates</span></span>  |  <span data-ttu-id="d5301-153">Orizzontale campo visualizzazione (H)</span><span class="sxs-lookup"><span data-stu-id="d5301-153">Horizontal Field of View (H-FOV)</span></span> |  <span data-ttu-id="d5301-154">Utilizzo consigliato</span><span class="sxs-lookup"><span data-stu-id="d5301-154">Suggested usage</span></span> | 
  |----------|----------|----------|----------|----------|----------|
  |  <span data-ttu-id="d5301-155">1920x1080</span><span class="sxs-lookup"><span data-stu-id="d5301-155">1920x1080</span></span> |  <span data-ttu-id="d5301-156">1920x1080</span><span class="sxs-lookup"><span data-stu-id="d5301-156">1920x1080</span></span> |  <span data-ttu-id="d5301-157">N/D</span><span class="sxs-lookup"><span data-stu-id="d5301-157">N/A</span></span> |  <span data-ttu-id="d5301-158">30, 15 fps</span><span class="sxs-lookup"><span data-stu-id="d5301-158">30, 15 fps</span></span>  |  <span data-ttu-id="d5301-159">54deg</span><span class="sxs-lookup"><span data-stu-id="d5301-159">54deg</span></span>  |  <span data-ttu-id="d5301-160">(modalità predefinita con la stabilizzazione video)</span><span class="sxs-lookup"><span data-stu-id="d5301-160">(default mode with video stabilization)</span></span> | 
  |  <span data-ttu-id="d5301-161">N/D</span><span class="sxs-lookup"><span data-stu-id="d5301-161">N/A</span></span> |  <span data-ttu-id="d5301-162">N/D</span><span class="sxs-lookup"><span data-stu-id="d5301-162">N/A</span></span> |  <span data-ttu-id="d5301-163">3904X2196</span><span class="sxs-lookup"><span data-stu-id="d5301-163">3904X2196</span></span> |  <span data-ttu-id="d5301-164">N/D</span><span class="sxs-lookup"><span data-stu-id="d5301-164">N/A</span></span>  |  <span data-ttu-id="d5301-165">64deg</span><span class="sxs-lookup"><span data-stu-id="d5301-165">64deg</span></span> |  <span data-ttu-id="d5301-166">Immagini più elevata risoluzione</span><span class="sxs-lookup"><span data-stu-id="d5301-166">Highest resolution still image</span></span> | 
  |  <span data-ttu-id="d5301-167">2272x1278</span><span class="sxs-lookup"><span data-stu-id="d5301-167">2272x1278</span></span> |  <span data-ttu-id="d5301-168">2272x1278</span><span class="sxs-lookup"><span data-stu-id="d5301-168">2272x1278</span></span> |  <span data-ttu-id="d5301-169">N/D</span><span class="sxs-lookup"><span data-stu-id="d5301-169">N/A</span></span> |  <span data-ttu-id="d5301-170">30, 15 fps</span><span class="sxs-lookup"><span data-stu-id="d5301-170">30, 15 fps</span></span>  |  <span data-ttu-id="d5301-171">64deg</span><span class="sxs-lookup"><span data-stu-id="d5301-171">64deg</span></span> |  <span data-ttu-id="d5301-172">Risoluzione overscan (riempimento) prima di stabilizzazione video</span><span class="sxs-lookup"><span data-stu-id="d5301-172">Overscan (padding) resolution before video stabilization</span></span> | 
  |  <span data-ttu-id="d5301-173">1952x1100</span><span class="sxs-lookup"><span data-stu-id="d5301-173">1952x1100</span></span> |  <span data-ttu-id="d5301-174">1952x1100</span><span class="sxs-lookup"><span data-stu-id="d5301-174">1952x1100</span></span> |  <span data-ttu-id="d5301-175">1952x1100</span><span class="sxs-lookup"><span data-stu-id="d5301-175">1952x1100</span></span>  |  <span data-ttu-id="d5301-176">30, 15 fps</span><span class="sxs-lookup"><span data-stu-id="d5301-176">30, 15 fps</span></span>  |  <span data-ttu-id="d5301-177">64deg</span><span class="sxs-lookup"><span data-stu-id="d5301-177">64deg</span></span> |  <span data-ttu-id="d5301-178">Alta qualità di streaming</span><span class="sxs-lookup"><span data-stu-id="d5301-178">High-quality streaming</span></span> | 
  |  <span data-ttu-id="d5301-179">1280x720</span><span class="sxs-lookup"><span data-stu-id="d5301-179">1280x720</span></span> |  <span data-ttu-id="d5301-180">1280x720</span><span class="sxs-lookup"><span data-stu-id="d5301-180">1280x720</span></span> |  <span data-ttu-id="d5301-181">N/D</span><span class="sxs-lookup"><span data-stu-id="d5301-181">N/A</span></span> |  <span data-ttu-id="d5301-182">30, 15, 5 fps</span><span class="sxs-lookup"><span data-stu-id="d5301-182">30, 15, 5 fps</span></span>  |  <span data-ttu-id="d5301-183">64deg</span><span class="sxs-lookup"><span data-stu-id="d5301-183">64deg</span></span> |  <span data-ttu-id="d5301-184">Modalità di bassa alimentazione/risoluzione per lo streaming e l'attività di elaborazione di immagini</span><span class="sxs-lookup"><span data-stu-id="d5301-184">Low power/resolution mode for streaming and image processing tasks</span></span> | 

## <a name="locating-the-device-camera-in-the-world"></a><span data-ttu-id="d5301-185">Individuare la fotocamera del dispositivo in tutto il mondo</span><span class="sxs-lookup"><span data-stu-id="d5301-185">Locating the Device Camera in the World</span></span>

<span data-ttu-id="d5301-186">Quando HoloLens richiede foto e video, i frame acquisiti includono la posizione della fotocamera in tutto il mondo, come pure la proiezione prospettiva della fotocamera.</span><span class="sxs-lookup"><span data-stu-id="d5301-186">When HoloLens takes photos and videos, the captured frames include the location of the camera in the world, as well as the perspective projection of the camera.</span></span> <span data-ttu-id="d5301-187">Ciò consente alle applicazioni di motivo sulla posizione della fotocamera nel mondo reale per gli scenari di creazione dell'immagine ottimizzati.</span><span class="sxs-lookup"><span data-stu-id="d5301-187">This allows applications to reason about the position of the camera in the real world for augmented imaging scenarios.</span></span> <span data-ttu-id="d5301-188">Gli sviluppatori possono implementare modo creativo i propri scenari usando i propri l'elaborazione di immagini preferita o librerie di visione artificiale personalizzato.</span><span class="sxs-lookup"><span data-stu-id="d5301-188">Developers can creatively roll their own scenarios using their favorite image processing or custom computer vision libraries.</span></span>

<span data-ttu-id="d5301-189">"Fotocamera" in un' posizione nella documentazione di HoloLens può fare riferimento a "gioco fotocamera virtuale" (cono l'app esegue il rendering).</span><span class="sxs-lookup"><span data-stu-id="d5301-189">"Camera" elsewhere in HoloLens documentation may refer to the "virtual game camera" (the frustum the app renders to).</span></span> <span data-ttu-id="d5301-190">Se non indicato diversamente, "fotocamera" in questa pagina si intende la fotocamera di colore RGB reali.</span><span class="sxs-lookup"><span data-stu-id="d5301-190">Unless denoted otherwise, "camera" on this page refers to the real-world RGB color camera.</span></span>

<span data-ttu-id="d5301-191">I dettagli sulla copertina pagina [attributi di Media Foundation](https://msdn.microsoft.com/library/windows/desktop/mt740395(v=vs.85).aspx), tuttavia sono disponibili anche API per eseguire il pull della fotocamera usando le funzioni intrinseche [WinRT APIs](https://msdn.microsoft.com/library/windows/apps/windows.media.devices.core.cameraintrinsics).</span><span class="sxs-lookup"><span data-stu-id="d5301-191">The details on this page cover [Media Foundation Attributes](https://msdn.microsoft.com/library/windows/desktop/mt740395(v=vs.85).aspx), however there are also APIs to pull camera intrinsics using [WinRT APIs](https://msdn.microsoft.com/library/windows/apps/windows.media.devices.core.cameraintrinsics).</span></span>  

### <a name="images-with-coordinate-systems"></a><span data-ttu-id="d5301-192">Immagini con sistemi di Coordinate</span><span class="sxs-lookup"><span data-stu-id="d5301-192">Images with Coordinate Systems</span></span>

<span data-ttu-id="d5301-193">Ogni frame di immagini (se foto o video) include un sistema di coordinate, nonché due trasformazioni importanti.</span><span class="sxs-lookup"><span data-stu-id="d5301-193">Each image frame (whether photo or video) includes a coordinate system, as well as two important transforms.</span></span> <span data-ttu-id="d5301-194">La "visualizzazione" Trasforma mappe dal sistema di coordinate specificato per la fotocamera e le mappe "proiezione" dalla fotocamera ai pixel nell'immagine.</span><span class="sxs-lookup"><span data-stu-id="d5301-194">The "view" transform maps from the provided coordinate system to the camera, and the "projection" maps from the camera to pixels in the image.</span></span> <span data-ttu-id="d5301-195">Insieme, queste trasformazioni definiscono per ogni pixel un raggio nello spazio 3D che rappresenta il percorso seguito dal fotoni che ha prodotto il pixel.</span><span class="sxs-lookup"><span data-stu-id="d5301-195">Together, these transforms define for each pixel a ray in 3D space representing the path taken by the photons that produced the pixel.</span></span> <span data-ttu-id="d5301-196">I raggi possono essere correlati ad altri contenuti nell'app ottenendo la trasformazione dal sistema di coordinate del frame a un altro sistema di coordinate (ad esempio, da un [fotogramma di riferimento fisso](coordinate-systems.md#stationary-frame-of-reference)).</span><span class="sxs-lookup"><span data-stu-id="d5301-196">These rays can be related to other content in the app by obtaining the transform from the frame's coordinate system to some other coordinate system (e.g. from a [stationary frame of reference](coordinate-systems.md#stationary-frame-of-reference)).</span></span> <span data-ttu-id="d5301-197">Per riepilogare, ogni frame di immagini fornisce quanto segue:</span><span class="sxs-lookup"><span data-stu-id="d5301-197">To summarize, each image frame provides the following:</span></span>
* <span data-ttu-id="d5301-198">Dati di pixel (nel formato RGB/NV12/JPEG/e così via)</span><span class="sxs-lookup"><span data-stu-id="d5301-198">Pixel Data (in RGB/NV12/JPEG/etc. format)</span></span>
* <span data-ttu-id="d5301-199">3 parti di metadati (archiviati come [IMFAttributes](https://msdn.microsoft.com/library/windows/desktop/ms704598(v=vs.85).aspx)) che rendono ogni frame "individuabili":</span><span class="sxs-lookup"><span data-stu-id="d5301-199">3 pieces of metadata (stored as [IMFAttributes](https://msdn.microsoft.com/library/windows/desktop/ms704598(v=vs.85).aspx)) that make each frame "locatable":</span></span>

|  <span data-ttu-id="d5301-200">Nome attributo</span><span class="sxs-lookup"><span data-stu-id="d5301-200">Attribute name</span></span>  |  <span data-ttu-id="d5301-201">Tipo</span><span class="sxs-lookup"><span data-stu-id="d5301-201">Type</span></span>  |  <span data-ttu-id="d5301-202">GUID</span><span class="sxs-lookup"><span data-stu-id="d5301-202">GUID</span></span>  |  <span data-ttu-id="d5301-203">Descrizione</span><span class="sxs-lookup"><span data-stu-id="d5301-203">Description</span></span> | 
|----------|----------|----------|----------|
|  <span data-ttu-id="d5301-204">MFSampleExtension_Spatial_CameraCoordinateSystem</span><span class="sxs-lookup"><span data-stu-id="d5301-204">MFSampleExtension_Spatial_CameraCoordinateSystem</span></span>  |  <span data-ttu-id="d5301-205">IUnknown ([SpatialCoordinateSystem](https://msdn.microsoft.com/library/windows/apps/windows.perception.spatial.spatialcoordinatesystem.aspx))</span><span class="sxs-lookup"><span data-stu-id="d5301-205">IUnknown ([SpatialCoordinateSystem](https://msdn.microsoft.com/library/windows/apps/windows.perception.spatial.spatialcoordinatesystem.aspx))</span></span>  |  <span data-ttu-id="d5301-206">{9D13C82F-2199-4E67-91CD-D1A4181F2534}</span><span class="sxs-lookup"><span data-stu-id="d5301-206">{9D13C82F-2199-4E67-91CD-D1A4181F2534}</span></span>  |  <span data-ttu-id="d5301-207">Archivia le [sistema di coordinate](coordinate-systems-in-directx.md) del frame acquisito</span><span class="sxs-lookup"><span data-stu-id="d5301-207">Stores the [coordinate system](coordinate-systems-in-directx.md) of the captured frame</span></span> | 
|  <span data-ttu-id="d5301-208">MFSampleExtension_Spatial_CameraViewTransform</span><span class="sxs-lookup"><span data-stu-id="d5301-208">MFSampleExtension_Spatial_CameraViewTransform</span></span>  |  <span data-ttu-id="d5301-209">Blob ([Matrix4x4](https://msdn.microsoft.com/library/windows/apps/windows.foundation.numerics.matrix4x4.aspx))</span><span class="sxs-lookup"><span data-stu-id="d5301-209">Blob ([Matrix4x4](https://msdn.microsoft.com/library/windows/apps/windows.foundation.numerics.matrix4x4.aspx))</span></span>  |  <span data-ttu-id="d5301-210">{4E251FA4-830F-4770-859A-4B8D99AA809B}</span><span class="sxs-lookup"><span data-stu-id="d5301-210">{4E251FA4-830F-4770-859A-4B8D99AA809B}</span></span>  |  <span data-ttu-id="d5301-211">Archivia trasformazione estrinseche della fotocamera nel sistema di coordinate</span><span class="sxs-lookup"><span data-stu-id="d5301-211">Stores the camera's extrinsic transform in the coordinate system</span></span> | 
|  <span data-ttu-id="d5301-212">MFSampleExtension_Spatial_CameraProjectionTransform</span><span class="sxs-lookup"><span data-stu-id="d5301-212">MFSampleExtension_Spatial_CameraProjectionTransform</span></span>  |  <span data-ttu-id="d5301-213">Blob ([Matrix4x4](https://msdn.microsoft.com/library/windows/apps/windows.foundation.numerics.matrix4x4.aspx))</span><span class="sxs-lookup"><span data-stu-id="d5301-213">Blob ([Matrix4x4](https://msdn.microsoft.com/library/windows/apps/windows.foundation.numerics.matrix4x4.aspx))</span></span>  |  <span data-ttu-id="d5301-214">{47F9FCB5-2A02-4F26-A477-792FDF95886A}</span><span class="sxs-lookup"><span data-stu-id="d5301-214">{47F9FCB5-2A02-4F26-A477-792FDF95886A}</span></span>  |  <span data-ttu-id="d5301-215">Archivia la trasformazione di proiezione della fotocamera</span><span class="sxs-lookup"><span data-stu-id="d5301-215">Stores the camera's projection transform</span></span> | 

<span data-ttu-id="d5301-216">La trasformazione di proiezione rappresenta le proprietà intrinseche (focale, centro di proiezione, inclinare) della sezione mappato a un piano di immagine che si estende da -1 e + 1 nell'asse X e Y.</span><span class="sxs-lookup"><span data-stu-id="d5301-216">The projection transform represents the intrinsic properties (focal length, center of projection, skew) of the lens mapped onto an image plane that extends from -1 to +1 in both the X and Y axis.</span></span>

```
Matrix4x4 format          Terms
   m11 m12 m13 m14      fx    0   0   0
   m21 m22 m23 m24     skew  fy   0   0
   m31 m32 m33 m34      cx   cy   A  -1
   m41 m42 m43 m44       0    0   B   0
```

<span data-ttu-id="d5301-217">Diverse applicazioni avranno diversi sistemi di coordinate.</span><span class="sxs-lookup"><span data-stu-id="d5301-217">Different applications will have different coordinate systems.</span></span> <span data-ttu-id="d5301-218">Di seguito viene fornita una panoramica del flusso per individuare un pixel della fotocamera per una singola applicazione:</span><span class="sxs-lookup"><span data-stu-id="d5301-218">Here's an overview of the flow to locate a camera pixel for a single application:</span></span>

![Trasformazioni applicate a sistemi di coordinate della fotocamera](images/pvcameratransform5-500px.png)

### <a name="camera-to-application-specified-coordinate-system"></a><span data-ttu-id="d5301-220">Fotocamera al sistema di Coordinate specificato dall'applicazione</span><span class="sxs-lookup"><span data-stu-id="d5301-220">Camera to Application-specified Coordinate System</span></span>

<span data-ttu-id="d5301-221">Per passare dalla 'visualizzazione inquadratura' e 'CameraCoordinateSystem' per il sistema di coordinate world/applicazione, è necessario quanto segue:</span><span class="sxs-lookup"><span data-stu-id="d5301-221">To go from the 'CameraView' and 'CameraCoordinateSystem' to your application/world coordinate system, you'll need the following:</span></span>

<span data-ttu-id="d5301-222">[Fotocamera individuabile in Unity](locatable-camera-in-unity.md): CameraToWorldMatrix viene automaticamente fornito dalla classe PhotoCaptureFrame (in modo non occorre preoccuparsi di trasformazioni CameraCoordinateSystem).</span><span class="sxs-lookup"><span data-stu-id="d5301-222">[Locatable camera in Unity](locatable-camera-in-unity.md): CameraToWorldMatrix is automatically provided by PhotoCaptureFrame class(so you don't need to worry about the CameraCoordinateSystem transforms).</span></span>

<span data-ttu-id="d5301-223">[Fotocamera individuabile in DirectX](locatable-camera-in-directx.md): Viene illustrato il modo piuttosto semplice per eseguire query per la trasformazione tra il proprio coordinate system(s) dell'applicazione e sistema di coordinate della camera.</span><span class="sxs-lookup"><span data-stu-id="d5301-223">[Locatable camera in DirectX](locatable-camera-in-directx.md): Shows the fairly straightforward way to query for the transform between the camera's coordinate system and your own application coordinate system(s).</span></span>

### <a name="application-specified-coordinate-system-to-pixel-coordinates"></a><span data-ttu-id="d5301-224">Specificato dall'applicazione di sistema di Coordinate in pixel</span><span class="sxs-lookup"><span data-stu-id="d5301-224">Application-specified Coordinate System to Pixel Coordinates</span></span>

<span data-ttu-id="d5301-225">Si supponga di che voler trovare o disegnare su un'immagine di fotocamera in una posizione specifica 3d:</span><span class="sxs-lookup"><span data-stu-id="d5301-225">Let's say you wanted to find or draw at a specific 3d location on a camera image:</span></span>

<span data-ttu-id="d5301-226">Le trasformazioni di proiezione e di visualizzazione, mentre entrambe le 4x4 matrici, devono essere utilizzati in modo leggermente diverso.</span><span class="sxs-lookup"><span data-stu-id="d5301-226">The view and projection transforms, while both 4x4 matrices, need to be utilized slightly differently.</span></span> <span data-ttu-id="d5301-227">Vale a dire dopo aver eseguito la proiezione, uno sarebbe 'normalizzare dal w', questo passaggio aggiuntivo nella proiezione simula più posizioni 3d diverse possono finire come la stessa posizione 2d in una schermata (ad esempio qualsiasi elemento lungo un raggio determinati verrà visualizzati nello stesso pixel).</span><span class="sxs-lookup"><span data-stu-id="d5301-227">Namely after performing the Projection, one would 'normalize by w', this extra step in the projection simulates how multiple different 3d locations can end up as the same 2d location on a screen (i.e. anything along a certain ray will show up on the same pixel).</span></span> <span data-ttu-id="d5301-228">Punti chiave così (nel codice dello shader):</span><span class="sxs-lookup"><span data-stu-id="d5301-228">So key points (in shader code):</span></span>

```
// Usual 3d math:
 float4x4 WorldToCamera = inverse( CameraToWorld );
 float4 CameraSpacePos = mul( WorldToCamera, float4( WorldSpacePos.xyz, 1 ) ); // use 1 as the W component
 // Projection math:
 float4 ImagePosUnnormalized = mul( CameraProjection, float4( CameraSpacePos.xyz, 1 ) ); // use 1 as the W component
 float2 ImagePosProjected = ImagePosUnnormalized.xy / ImagePosUnnormalized.w; // normalize by W, gives -1 to 1 space
 float2 ImagePosZeroToOne = ( ImagePosProjected * 0.5 ) + float2( 0.5, 0.5 ); // good for GPU textures
 int2 PixelPos = int2( ImagePosZeroToOne.x * ImageWidth, ( 1 - ImagePosZeroToOne.y ) * ImageHeight ); // good for CPU textures
```

### <a name="pixel-to-application-specified-coordinate-system"></a><span data-ttu-id="d5301-229">Pixel al sistema di Coordinate specificato dall'applicazione</span><span class="sxs-lookup"><span data-stu-id="d5301-229">Pixel to Application-specified Coordinate System</span></span>

<span data-ttu-id="d5301-230">Passando da pixel a coordinate internazionali è un po' più complicato:</span><span class="sxs-lookup"><span data-stu-id="d5301-230">Going from pixel to world coordinates is a little trickier:</span></span>

```
float2 ImagePosZeroToOne = float2( PixelPos.x / ImageWidth, 1.0 - (PixelPos.y / ImageHeight ) );
 float2 ImagePosProjected = ( ( ImagePosZeroToOne * 2.0 ) - float2(1,1) ); // -1 to 1 space
 float3 CameraSpacePos = UnProjectVector( Projection, float3( ImagePosProjected, 1) );
 float3 WorldSpaceRayPoint1 = mul( CameraToWorld, float4(0,0,0,1) ); // camera location in world space
 float3 WorldSpaceRayPoint2 = mul( CameraToWorld, CameraSpacePos ); // ray point in world space
```

<span data-ttu-id="d5301-231">Si definiscono UnProject come:</span><span class="sxs-lookup"><span data-stu-id="d5301-231">Where we define UnProject as:</span></span>

```
public static Vector3 UnProjectVector(Matrix4x4 proj, Vector3 to)
 {
   Vector3 from = new Vector3(0, 0, 0);
   var axsX = proj.GetRow(0);
   var axsY = proj.GetRow(1);
   var axsZ = proj.GetRow(2);
   from.z = to.z / axsZ.z;
   from.y = (to.y - (from.z * axsY.z)) / axsY.y;
   from.x = (to.x - (from.z * axsX.z)) / axsX.x;
   return from;
 }
```

<span data-ttu-id="d5301-232">Per trovare la posizione del mondo reale di un punto, saranno necessari: world due raggi e trovare rilevandone l'intersezione o dimensioni note dei punti.</span><span class="sxs-lookup"><span data-stu-id="d5301-232">To find the actual world location of a point, you'll need either: two world rays and find their intersection, or a known size of the points.</span></span>

### <a name="distortion-error"></a><span data-ttu-id="d5301-233">Errore di una distorsione</span><span class="sxs-lookup"><span data-stu-id="d5301-233">Distortion Error</span></span>

<span data-ttu-id="d5301-234">Su HoloLens, video e ancora flussi immagine sono non distorte nella pipeline di elaborazione di immagini del sistema prima che i frame vengono resi disponibili per l'applicazione (il flusso di anteprima contiene i frame distorti originali).</span><span class="sxs-lookup"><span data-stu-id="d5301-234">On HoloLens, the video and still image streams are undistorted in the system's image processing pipeline before the frames are made available to the application (the preview stream contains the original distorted frames).</span></span> <span data-ttu-id="d5301-235">Poiché solo la matrice di proiezione viene resa disponibile, applicazioni devono presupporre immagine frame rappresentano una fotocamera foro iniezione perfetto, tuttavia il undistortion funzionare nell'elaborazione di immagini può lasciare un errore di un massimo di 10 pixel ancora quando si utilizza la matrice di proiezione in i metadati di frame.</span><span class="sxs-lookup"><span data-stu-id="d5301-235">Because only the projection matrix is made available, applications must assume image frames represent a perfect pinhole camera, however the undistortion function in the image processor may still leave an error of up to 10 pixels when using the projection matrix in the frame metadata.</span></span> <span data-ttu-id="d5301-236">In molti casi d'uso, questo errore verrà non è rilevante, ma se si sta eseguendo l'allineamento vntana al mondo reale poster/marcatori, ad esempio, e si nota una < 10px offset (circa 11mm per vntana posizionato 2 metri) una distorsione questo errore potrebbe essere la causa.</span><span class="sxs-lookup"><span data-stu-id="d5301-236">In many use cases, this error will not matter, but if you are aligning holograms to real world posters/markers, for example, and you notice a <10px offset (roughly 11mm for holograms positioned 2 meters away) this distortion error could be the cause.</span></span>

## <a name="locatable-camera-usage-scenarios"></a><span data-ttu-id="d5301-237">Scenari di utilizzo della fotocamera individuabili</span><span class="sxs-lookup"><span data-stu-id="d5301-237">Locatable Camera Usage Scenarios</span></span>

### <a name="show-a-photo-or-video-in-the-world-where-it-was-captured"></a><span data-ttu-id="d5301-238">Mostra una foto o video in tutto il mondo in cui è stato acquisito</span><span class="sxs-lookup"><span data-stu-id="d5301-238">Show a photo or video in the world where it was captured</span></span>

<span data-ttu-id="d5301-239">I frame fotocamera del dispositivo sono dotate di una trasformazione "Fotocamera per World", che può essere utilizzata per visualizzare esattamente dove il dispositivo è stato quando è stato creato l'immagine.</span><span class="sxs-lookup"><span data-stu-id="d5301-239">The Device Camera frames come with a "Camera To World" transform, that can be used to show exactly where the device was when the image was taken.</span></span> <span data-ttu-id="d5301-240">Ad esempio è possibile posizionare una piccola icona holographic in questa posizione (CameraToWorld.MultiplyPoint(Vector3.zero)) e persino Disegna una freccia di poco nella direzione che la fotocamera è stata rivolta (CameraToWorld.MultiplyVector(Vector3.forward)).</span><span class="sxs-lookup"><span data-stu-id="d5301-240">For example you could position a small holographic icon at this location (CameraToWorld.MultiplyPoint(Vector3.zero)) and even draw a little arrow in the direction that the camera was facing (CameraToWorld.MultiplyVector(Vector3.forward)).</span></span>

### <a name="painting-the-world-using-a-camera-shader"></a><span data-ttu-id="d5301-241">Disegno del mondo usando uno shader con fotocamera</span><span class="sxs-lookup"><span data-stu-id="d5301-241">Painting the world using a camera shader</span></span>

<span data-ttu-id="d5301-242">In questa sezione si creerà un materiale 'shader con' tale i colori in tutto il mondo base in cui mostrato nella visualizzazione della fotocamera del dispositivo.</span><span class="sxs-lookup"><span data-stu-id="d5301-242">In this section we'll create a material 'shader' that colors the world based on where it showed up in a device camera's view.</span></span> <span data-ttu-id="d5301-243">In modo efficace ciò che faremo è che ogni vertice riconoscerà il percorso in relazione alla fotocamera e quindi ogni pixel utilizzeranno la matrice di proiezione' ' alla figura out quale immagine texel è associato.</span><span class="sxs-lookup"><span data-stu-id="d5301-243">Effectively what we'll do is that every vertex will figure out its location relative to the camera, and then every pixel will utilize the 'projection matrix' to figure out which image texel it is associated with.</span></span> <span data-ttu-id="d5301-244">Infine e, facoltativamente, si sarà dissolvenza gli angoli dell'immagine in modo da renderlo più come una memoria simile a sogno:</span><span class="sxs-lookup"><span data-stu-id="d5301-244">Lastly, and optionally, we'll fade out the corners of the image to make it appear more as a dream-like memory:</span></span>

```
// In the vertex shader:
 float4 worldSpace = mul( ObjectToWorld, float4( vertexPos.xyz, 1));
 float4 cameraSpace = mul( CameraWorldToLocal, float4(worldSpace.xyz, 1));

 // In the pixel shader:
 float4 unprojectedTex = mul( CameraProjection, float4( cameraSpace .xyz, 1));
 float2 projectedTex = (unprojectedTex.xy / unprojectedTex.w);
 float2 unitTexcoord = ((projectedTex * 0.5) + float4(0.5, 0.5, 0, 0));
 float4 cameraTextureColor = tex2D(_CameraTex, unitTexcoord);
 // Fade out edges for better look:
 float pctInView = saturate((1.0 - length(projectedTex.xy)) * 3.0);
 float4 finalColor = float4( cameraTextureColor.rgb, pctInView );
```

### <a name="tag--pattern--poster--object-tracking"></a><span data-ttu-id="d5301-245">Modello / tag / Poster / rilevamento degli oggetti</span><span class="sxs-lookup"><span data-stu-id="d5301-245">Tag / Pattern / Poster / Object Tracking</span></span>

<span data-ttu-id="d5301-246">Molte applicazioni di realtà mista utilizzano un'immagine riconoscibile o un modello visual per creare un punto tracciabile nello spazio.</span><span class="sxs-lookup"><span data-stu-id="d5301-246">Many mixed reality applications use a recognizable image or visual pattern to create a trackable point in space.</span></span> <span data-ttu-id="d5301-247">Viene quindi utilizzato per eseguire il rendering di oggetti rispetto a quella scegliere o creare una posizione nota.</span><span class="sxs-lookup"><span data-stu-id="d5301-247">This is then used to render objects relative to that point or create a known location.</span></span> <span data-ttu-id="d5301-248">Alcuni usi di HoloLens includono ricerca di un oggetto reale contrassegnato con fiducials (ad esempio, un monitoraggio TV con un codice a matrice), posizionare vntana su fiducials e associazione visivamente con i dispositivi non HoloLens, ad esempio Tablet che sia stato configurato per comunicare con HoloLens tramite Wi-Fi.</span><span class="sxs-lookup"><span data-stu-id="d5301-248">Some uses for HoloLens include finding a real world object tagged with fiducials (e.g. a TV monitor with a QR code), placing holograms over fiducials, and visually pairing with non-HoloLens devices like tablets that have been setup to communicate with HoloLens via Wi-Fi.</span></span>

<span data-ttu-id="d5301-249">Per riconoscere un modello visual e quindi inserire tale oggetto nello spazio complessivo delle applicazioni, è necessario alcuni aspetti:</span><span class="sxs-lookup"><span data-stu-id="d5301-249">To recognize a visual pattern, and then place that object in the applications world space, you'll need a few things:</span></span>
1. <span data-ttu-id="d5301-250">Un toolkit di riconoscimento modello di tipo immagine, ad esempio codice a matrice, tag AR, finder viso, rilevazioni cerchio, OCR e così via.</span><span class="sxs-lookup"><span data-stu-id="d5301-250">An image pattern recognition toolkit, such as QR code, AR tags, face finder, circle trackers, OCR etc.</span></span>
2. <span data-ttu-id="d5301-251">Raccogliere i fotogrammi dell'immagine in fase di esecuzione e passarle al livello di riconoscimento</span><span class="sxs-lookup"><span data-stu-id="d5301-251">Collect image frames at runtime, and pass them to the recognition layer</span></span>
3. <span data-ttu-id="d5301-252">Unproject nei percorsi di immagine nel mondo posizioni o rays world probabile.</span><span class="sxs-lookup"><span data-stu-id="d5301-252">Unproject their image locations back into world positions, or likely world rays.</span></span> <span data-ttu-id="d5301-253">Vedere la pagina relativa alla</span><span class="sxs-lookup"><span data-stu-id="d5301-253">See</span></span>
4. <span data-ttu-id="d5301-254">Posizionare i modelli virtuali in queste posizioni world</span><span class="sxs-lookup"><span data-stu-id="d5301-254">Position your virtual models over these world locations</span></span>

<span data-ttu-id="d5301-255">Alcuni collegamenti di elaborazione immagini importanti:</span><span class="sxs-lookup"><span data-stu-id="d5301-255">Some important image processing links:</span></span>
* [<span data-ttu-id="d5301-256">OpenCV</span><span class="sxs-lookup"><span data-stu-id="d5301-256">OpenCV</span></span>](http://opencv.org/)
* [<span data-ttu-id="d5301-257">Tag di codici a matrice</span><span class="sxs-lookup"><span data-stu-id="d5301-257">QR Tags</span></span>](https://en.wikipedia.org/wiki/QR_code)
* [<span data-ttu-id="d5301-258">FaceSDK</span><span class="sxs-lookup"><span data-stu-id="d5301-258">FaceSDK</span></span>](http://research.microsoft.com/projects/facesdk/)
* [<span data-ttu-id="d5301-259">Microsoft Translator</span><span class="sxs-lookup"><span data-stu-id="d5301-259">Microsoft Translator</span></span>](https://www.microsoft.com/translator/business)

<span data-ttu-id="d5301-260">Mantenere un'applicazione interattiva-frequenza dei fotogrammi è critico, soprattutto quando si usano algoritmi di riconoscimento di immagini con esecuzione prolungata.</span><span class="sxs-lookup"><span data-stu-id="d5301-260">Keeping an interactive application frame-rate is critical, especially when dealing with long-running image recognition algorithms.</span></span> <span data-ttu-id="d5301-261">Per questo motivo utilizziamo comunemente il modello seguente:</span><span class="sxs-lookup"><span data-stu-id="d5301-261">For this reason we commonly use the following pattern:</span></span>
1. <span data-ttu-id="d5301-262">Thread principale: gestisce l'oggetto della fotocamera</span><span class="sxs-lookup"><span data-stu-id="d5301-262">Main Thread: manages the camera object</span></span>
2. <span data-ttu-id="d5301-263">Thread principale: richieste nuovo frame (asincrona)</span><span class="sxs-lookup"><span data-stu-id="d5301-263">Main Thread: requests new frames (async)</span></span>
3. <span data-ttu-id="d5301-264">Thread principale: nuovo frame di passare ai thread di rilevamento</span><span class="sxs-lookup"><span data-stu-id="d5301-264">Main Thread: pass new frames to tracking thread</span></span>
4. <span data-ttu-id="d5301-265">Rilevamento Thread: immagine i processi per raccogliere punti chiave</span><span class="sxs-lookup"><span data-stu-id="d5301-265">Tracking Thread: processes image to collect key points</span></span>
5. <span data-ttu-id="d5301-266">Thread principale: modello virtuale si sposta in modo che corrisponda trovata i punti chiave</span><span class="sxs-lookup"><span data-stu-id="d5301-266">Main Thread: moves virtual model to match found key points</span></span>
6. <span data-ttu-id="d5301-267">Thread principale: ripetere il passaggio 2</span><span class="sxs-lookup"><span data-stu-id="d5301-267">Main Thread: repeat from step 2</span></span>

<span data-ttu-id="d5301-268">Alcuni sistemi di marcatore immagine solo forniscono un percorso singolo pixel (altri forniscono la trasformazione completa in questo caso questa sezione non sarà necessario), che equivale a un raggio di posizioni possibili.</span><span class="sxs-lookup"><span data-stu-id="d5301-268">Some image marker systems only provide a single pixel location (others provide the full transform in which case this section will not be needed), which equates to a ray of possible locations.</span></span> <span data-ttu-id="d5301-269">Per ottenere un'unica posizione 3d è quindi possibile sfruttare rays più e trovare il risultato finale dal loro punto di intersezione approssimativo.</span><span class="sxs-lookup"><span data-stu-id="d5301-269">To get to a single 3d location we can then leverage multiple rays and find the final result by their approximate intersection.</span></span> <span data-ttu-id="d5301-270">A tale scopo è necessario:</span><span class="sxs-lookup"><span data-stu-id="d5301-270">To do this you'll need to:</span></span>
1. <span data-ttu-id="d5301-271">Ottenere un ciclo passando la raccolta di più immagini di fotocamera</span><span class="sxs-lookup"><span data-stu-id="d5301-271">Get a loop going collecting multiple camera images</span></span>
2. <span data-ttu-id="d5301-272">Trovare il [punti di funzionalità associati](#pixel-to-application-specified-coordinate-system)e i raggi world</span><span class="sxs-lookup"><span data-stu-id="d5301-272">Find the [associated feature points](#pixel-to-application-specified-coordinate-system), and their world rays</span></span>
3. <span data-ttu-id="d5301-273">Quando si dispone di un dizionario di funzionalità, ognuno con più rays world, è possibile utilizzare il codice seguente per risolvere l'intersezione di tali raggi:</span><span class="sxs-lookup"><span data-stu-id="d5301-273">When you have a dictionary of features, each with multiple world rays, you can use the following code to solve for the intersection of those rays:</span></span>

```
public static Vector3 ClosestPointBetweenRays(
   Vector3 point1, Vector3 normalizedDirection1,
   Vector3 point2, Vector3 normalizedDirection2) {
   float directionProjection = Vector3.Dot(normalizedDirection1, normalizedDirection2);
   if (directionProjection == 1) {
     return point1; // parallel lines
   }
   float projection1 = Vector3.Dot(point2 - point1, normalizedDirection1);
   float projection2 = Vector3.Dot(point2 - point1, normalizedDirection2);
   float distanceAlongLine1 = (projection1 - directionProjection * projection2) / (1 - directionProjection * directionProjection);
   float distanceAlongLine2 = (projection2 - directionProjection * projection1) / (directionProjection * directionProjection - 1);
   Vector3 pointOnLine1 = point1 + distanceAlongLine1 * normalizedDirection1;
   Vector3 pointOnLine2 = point2 + distanceAlongLine2 * normalizedDirection2;
   return Vector3.Lerp(pointOnLine2, pointOnLine1, 0.5f);
 }
```

<span data-ttu-id="d5301-274">Ha due o più posizioni di tag rilevate, è possibile posizionare una scena modelled per adattare lo scenario corrente degli utenti.</span><span class="sxs-lookup"><span data-stu-id="d5301-274">Given two or more tracked tag locations, you can position a modelled scene to fit the users current scenario.</span></span> <span data-ttu-id="d5301-275">Se non è possibile presupporre la gravità, è necessario tre posizioni di tag.</span><span class="sxs-lookup"><span data-stu-id="d5301-275">If you can't assume gravity, then you'll need three tag locations.</span></span> <span data-ttu-id="d5301-276">In molti casi che si usa una combinazione di colori semplice in cui sfere bianche rappresentano in tempo reale rilevati percorsi di tag e sfere blu rappresentano posizioni tag modellati, ciò consente all'utente di valutare visivamente la qualità di allineamento.</span><span class="sxs-lookup"><span data-stu-id="d5301-276">In many cases we use a simple color scheme where white spheres represent real-time tracked tag locations, and blue spheres represent modelled tag locations, this allows the user to visually gauge the alignment quality.</span></span> <span data-ttu-id="d5301-277">Si presuppone che la configurazione seguente in tutte le applicazioni:</span><span class="sxs-lookup"><span data-stu-id="d5301-277">We assume the following setup in all our applications:</span></span>
* <span data-ttu-id="d5301-278">Due o più posizioni modellate tag</span><span class="sxs-lookup"><span data-stu-id="d5301-278">Two or more modelled tag locations</span></span>
* <span data-ttu-id="d5301-279">Una "area di calibrazione" che, nella scena, è il padre dei tag</span><span class="sxs-lookup"><span data-stu-id="d5301-279">One 'calibration space' which in the scene is the parent of the tags</span></span>
* <span data-ttu-id="d5301-280">Identificatore delle funzionalità della fotocamera</span><span class="sxs-lookup"><span data-stu-id="d5301-280">Camera feature identifier</span></span>
* <span data-ttu-id="d5301-281">Comportamento che consente di spostare lo spazio di calibrazione per allineare i tag modelled con i tag in tempo reale (siamo attenzione spostare lo spazio di padre, non i marcatori modelled se stessi, perché altri connect è posizioni rispetto a essi).</span><span class="sxs-lookup"><span data-stu-id="d5301-281">Behavior which moves the calibration space to align the modelled tags with the real-time tags (we are careful to move the parent space, not the modelled markers themselves, because other connect is positions relative to them).</span></span>

```
// In the two tags case:
 Vector3 idealDelta = (realTags[1].EstimatedWorldPos - realTags[0].EstimatedWorldPos);
 Vector3 curDelta = (modelledTags[1].transform.position - modelledTags[0].transform.position);
 if (IsAssumeGravity) {
   idealDelta.y = 0;
   curDelta.y = 0;
 }
 Quaternion deltaRot = Quaternion.FromToRotation(curDelta, idealDelta);
 trans.rotation = Quaternion.LookRotation(deltaRot * trans.forward, trans.up);
 trans.position += realTags[0].EstimatedWorldPos - modelledTags[0].transform.position;
```

### <a name="render-holograms-from-the-cameras-position"></a><span data-ttu-id="d5301-282">Eseguire il rendering vntana dalla posizione della fotocamera</span><span class="sxs-lookup"><span data-stu-id="d5301-282">Render holograms from the Camera's position</span></span>

<span data-ttu-id="d5301-283">Nota: Se si sta tentando di creare il proprio [mista acquisizione realtà (MRC)](mixed-reality-capture.md), che combina vntana con il flusso della fotocamera, è possibile utilizzare il [effetti MRC](mixed-reality-capture-for-developers.md) oppure abilitare la proprietà showHolograms in [ Fotocamera individuabile in Unity](locatable-camera-in-unity.md).</span><span class="sxs-lookup"><span data-stu-id="d5301-283">Note: If you are trying to create your own [Mixed reality capture (MRC)](mixed-reality-capture.md), which blends holograms with the Camera stream, you can use the [MRC effects](mixed-reality-capture-for-developers.md) or enable the showHolograms property in [Locatable camera in Unity](locatable-camera-in-unity.md).</span></span>

<span data-ttu-id="d5301-284">Se vuoi eseguire un rendering direttamente nel flusso di fotocamera RGB speciale, è possibile eseguire il rendering vntana nello spazio dalla posizione della Camera sincronizzato con un feed di video per fornire un'anteprima dinamica/registrazione ologrammi personalizzato.</span><span class="sxs-lookup"><span data-stu-id="d5301-284">If you'd like to do a special render directly on the RGB Camera stream, it's possible to render holograms in space from the Camera's position in sync with a video feed in order to provide a custom hologram recording/live preview.</span></span>

<span data-ttu-id="d5301-285">In Skype, facciamo questa opzione per mostrare il client remoto di ciò che viene visualizzato all'utente di HoloLens e consentire loro di interagire con la stessa vntana.</span><span class="sxs-lookup"><span data-stu-id="d5301-285">In Skype, we do this to show the remote client what the HoloLens user is seeing and allow them to interact with the same holograms.</span></span> <span data-ttu-id="d5301-286">Prima dell'invio in ogni intervallo di video tramite il servizio di Skype, si ottiene dati fotocamera corrispondenti di ogni fotogramma.</span><span class="sxs-lookup"><span data-stu-id="d5301-286">Before sending over each video frame through the Skype service, we grab each frame's corresponding camera data.</span></span> <span data-ttu-id="d5301-287">Abbiamo quindi pacchetto metadati estrinseche e intrinseco della fotocamera, il frame video e quindi inviarlo tramite il servizio di Skype.</span><span class="sxs-lookup"><span data-stu-id="d5301-287">We then package the camera's extrinsic and intrinsic metadata with the video frame and then send it over the Skype service.</span></span>

<span data-ttu-id="d5301-288">Sul lato ricevente, con Unity, è stato già sincronizzati tutti vntana nello spazio dell'utente HoloLens utilizzando lo stesso sistema di coordinate.</span><span class="sxs-lookup"><span data-stu-id="d5301-288">On the receiving side, using Unity, we've already synced all of the holograms in the HoloLens user's space using the same coordinate system.</span></span> <span data-ttu-id="d5301-289">Ciò consente di usare i metadati estrinseche della fotocamera per posizionare la fotocamera di Unity in alla posizione esatta del mondo (rispetto al resto del vntana) che l'utente di HoloLens è stato permanente quando quel frame video è stato acquisito e usare le informazioni di intrinseco della fotocamera per Verificare che la visualizzazione è lo stesso.</span><span class="sxs-lookup"><span data-stu-id="d5301-289">This allows us to use the camera's extrinsic metadata to place the Unity camera in the exact place in the world (relative to the rest of the holograms) that the HoloLens user was standing when that video frame was captured, and use the camera intrinsic information to ensure the view is the same.</span></span>

<span data-ttu-id="d5301-290">Dopo aver ottenuto la fotocamera impostato in modo corretto, si combina quali vntana vede la fotocamera nel frame che sono stati ricevuti dal Skype, creazione di una vista di realtà mista di ciò che l'utente di HoloLens rileva utilizzo Graphics.Blit.</span><span class="sxs-lookup"><span data-stu-id="d5301-290">Once we have the camera set up properly, we combine what holograms the camera sees onto the frame we received from Skype, creating a mixed reality view of what the HoloLens user sees using Graphics.Blit.</span></span>

```cs
private void OnFrameReceived(Texture frameTexture, Vector3 cameraPosition, Quaternion cameraRotation, Matrix4x4 cameraProjectionMatrix)
{
    //set material that will be blitted onto the RenderTexture
    this.compositeMaterial.SetTexture(CompositeRenderer.CameraTextureMaterialProperty, frameTexture);
    //set the camera to be that of the HoloLens's device camera
    this.Camera.transform.position = cameraPosition;
    this.Camera.transform.rotation = cameraRotation;
    this.Camera.projectionMatrix = cameraProjectionMatrix;
    //trigger the Graphics's Blit now that the frame and camera are set up
    this.TextureReady = false;
}
private void OnRenderImage(RenderTexture source, RenderTexture destination)
{
    if (!this.TextureReady)
    {
        Graphics.Blit(source, destination, this.compositeMaterial);
        this.TextureReady = true;
    }
}
```

### <a name="track-or-identify-tagged-stationary-or-moving-real-world-objectsfaces-using-leds-or-other-recognizer-libraries"></a><span data-ttu-id="d5301-291">Track o identificare fermo contrassegnata o in movimento del mondo reale oggetti/visi usando i LED o altre librerie di sistema di riconoscimento</span><span class="sxs-lookup"><span data-stu-id="d5301-291">Track or Identify Tagged Stationary or Moving real-world objects/faces using LEDs or other recognizer libraries</span></span>

<span data-ttu-id="d5301-292">Esempi:</span><span class="sxs-lookup"><span data-stu-id="d5301-292">Examples:</span></span>
* <span data-ttu-id="d5301-293">Controllare i robot industriali con LED (o gli oggetti di codici a matrice per lo spostamento di più lenta)</span><span class="sxs-lookup"><span data-stu-id="d5301-293">Industrial robots with LEDs (or QR codes for slower moving objects)</span></span>
* <span data-ttu-id="d5301-294">Individuare e riconoscere gli oggetti nella chat room</span><span class="sxs-lookup"><span data-stu-id="d5301-294">Identify and recognize objects in the room</span></span>
* <span data-ttu-id="d5301-295">Identificare e riconoscere le persone nella chat room (ad esempio luogo holographic biglietti da visita su facce)</span><span class="sxs-lookup"><span data-stu-id="d5301-295">Identify and recognize people in the room (e.g. place holographic contact cards over faces)</span></span>

## <a name="see-also"></a><span data-ttu-id="d5301-296">Vedere anche</span><span class="sxs-lookup"><span data-stu-id="d5301-296">See also</span></span>
* [<span data-ttu-id="d5301-297">Fotocamera individuabile in DirectX</span><span class="sxs-lookup"><span data-stu-id="d5301-297">Locatable camera in DirectX</span></span>](locatable-camera-in-directx.md)
* [<span data-ttu-id="d5301-298">Fotocamera individuabile in Unity</span><span class="sxs-lookup"><span data-stu-id="d5301-298">Locatable camera in Unity</span></span>](locatable-camera-in-unity.md)
* [<span data-ttu-id="d5301-299">Acquisizione di realtà mista</span><span class="sxs-lookup"><span data-stu-id="d5301-299">Mixed reality capture</span></span>](mixed-reality-capture.md)
* [<span data-ttu-id="d5301-300">Mista acquisizione realtà per gli sviluppatori</span><span class="sxs-lookup"><span data-stu-id="d5301-300">Mixed reality capture for developers</span></span>](mixed-reality-capture-for-developers.md)
* [<span data-ttu-id="d5301-301">Introduzione di acquisizione di Media</span><span class="sxs-lookup"><span data-stu-id="d5301-301">Media capture introduction</span></span>](https://msdn.microsoft.com/library/windows/apps/mt243896.aspx)

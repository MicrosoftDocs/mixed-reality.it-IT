---
title: Progettazione di mapping spaziale
description: Un utilizzo efficace del mapping spaziale all'interno di HoloLens richiede un'attenta considerazione di molti fattori.
author: cre8ivepark
ms.author: dongpark
ms.date: 03/21/2018
ms.topic: article
keywords: Realtà mista di Windows, progettazione, mapping spaziale, HoloLens, ricostruzione della superficie, mesh
ms.openlocfilehash: 02e64727f9a23bea28e018d7c4e5a8b89c152447
ms.sourcegitcommit: 60f73ca23023c17c1da833c83d2a02f4dcc4d17b
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/17/2019
ms.locfileid: "69566012"
---
# <a name="spatial-mapping-design"></a><span data-ttu-id="a4797-104">Progettazione di mapping spaziale</span><span class="sxs-lookup"><span data-stu-id="a4797-104">Spatial mapping design</span></span>

<span data-ttu-id="a4797-105">Un utilizzo efficace del mapping spaziale all'interno di HoloLens richiede un'attenta considerazione di molti fattori.</span><span class="sxs-lookup"><span data-stu-id="a4797-105">Effective use of spatial mapping within HoloLens requires careful consideration of many factors.</span></span>

## <a name="device-support"></a><span data-ttu-id="a4797-106">Supporto di dispositivi</span><span class="sxs-lookup"><span data-stu-id="a4797-106">Device support</span></span>

<table>
    <colgroup>
    <col width="33%" />
    <col width="33%" />
    <col width="33%" />
    </colgroup>
    <tr>
        <td><span data-ttu-id="a4797-107"><strong>Funzionalità</strong></span><span class="sxs-lookup"><span data-stu-id="a4797-107"><strong>Feature</strong></span></span></td>
        <td><span data-ttu-id="a4797-108"><a href="hololens-hardware-details.md"><strong>HoloLens</strong></a></span><span class="sxs-lookup"><span data-stu-id="a4797-108"><a href="hololens-hardware-details.md"><strong>HoloLens</strong></a></span></span></td>
        <td><span data-ttu-id="a4797-109"><a href="immersive-headset-hardware-details.md"><strong>Visori VR immersive</strong></a></span><span class="sxs-lookup"><span data-stu-id="a4797-109"><a href="immersive-headset-hardware-details.md"><strong>Immersive headsets</strong></a></span></span></td>
    </tr>
     <tr>
        <td><span data-ttu-id="a4797-110">Progettazione di mapping spaziale</span><span class="sxs-lookup"><span data-stu-id="a4797-110">Spatial mapping design</span></span></td>
        <td><span data-ttu-id="a4797-111">✔️</span><span class="sxs-lookup"><span data-stu-id="a4797-111">✔️</span></span></td>
        <td><span data-ttu-id="a4797-112">❌</span><span class="sxs-lookup"><span data-stu-id="a4797-112">❌</span></span></td>
    </tr>
</table>

## <a name="why-is-spatial-mapping-important"></a><span data-ttu-id="a4797-113">Perché il mapping spaziale è importante?</span><span class="sxs-lookup"><span data-stu-id="a4797-113">Why is spatial mapping important?</span></span>

<span data-ttu-id="a4797-114">Il mapping spaziale rende possibile posizionare gli oggetti su superfici reali.</span><span class="sxs-lookup"><span data-stu-id="a4797-114">Spatial mapping makes it possible to place objects on real surfaces.</span></span> <span data-ttu-id="a4797-115">In questo modo è possibile agganciare gli oggetti nel mondo dell'utente e sfruttare i vantaggi offerti dai suggerimenti per la profondità del mondo reale. Occlusione gli ologrammi in base ad altri ologrammi e oggetti reali consentono di convincere l'utente che questi ologrammi si trovano effettivamente nello spazio.</span><span class="sxs-lookup"><span data-stu-id="a4797-115">This helps anchor objects in the user's world and takes advantage of real world depth cues. Occluding your holograms based on other holograms and real world objects helps convince the user that these holograms are actually in their space.</span></span> <span data-ttu-id="a4797-116">Gli ologrammi che galleggiano nello spazio o con l'utente non risulteranno reali.</span><span class="sxs-lookup"><span data-stu-id="a4797-116">Holograms floating in space or moving with the user will not feel as real.</span></span> <span data-ttu-id="a4797-117">Quando possibile, inserire gli elementi per comodità.</span><span class="sxs-lookup"><span data-stu-id="a4797-117">When possible, place items for comfort.</span></span>

<span data-ttu-id="a4797-118">Visualizza le superfici quando si posizionano o spostano gli ologrammi (usare una griglia proiettata semplice).</span><span class="sxs-lookup"><span data-stu-id="a4797-118">Visualize surfaces when placing or moving holograms (use a simple projected grid).</span></span> <span data-ttu-id="a4797-119">Ciò consentirà all'utente di individuare il punto in cui è possibile posizionare i propri ologrammi e Mostra all'utente se la posizione in cui si sta provando a collocare l'ologramma non è ancora stata mappata.</span><span class="sxs-lookup"><span data-stu-id="a4797-119">This will help the user know where they can best place their holograms, and shows the user if the spot they are trying to place the hologram hasn't been mapped yet.</span></span> <span data-ttu-id="a4797-120">È possibile "Billboard Items" verso l'utente se terminano troppo di un angolo.</span><span class="sxs-lookup"><span data-stu-id="a4797-120">You can "billboard items" toward the user if they end up at too much of an angle.</span></span>

## <a name="what-influences-spatial-mapping-quality"></a><span data-ttu-id="a4797-121">Che influenza la qualità del mapping spaziale?</span><span class="sxs-lookup"><span data-stu-id="a4797-121">What influences spatial mapping quality?</span></span>

<span data-ttu-id="a4797-122">Diversi fattori, [descritti in dettaglio](environment-considerations-for-hololens.md), possono influenzare la frequenza e la gravità di questi errori.</span><span class="sxs-lookup"><span data-stu-id="a4797-122">Several factors, detailed [here](environment-considerations-for-hololens.md), can affect the frequency and severity of these errors.</span></span>  <span data-ttu-id="a4797-123">Tuttavia, è consigliabile progettare l'applicazione in modo che l'utente sia in grado di raggiungere gli obiettivi anche in presenza di errori nei dati di mapping spaziali.</span><span class="sxs-lookup"><span data-stu-id="a4797-123">However, you should design your application so that the user is able to achieve their goals even in the presence of errors in the spatial mapping data.</span></span>

## <a name="the-environment-scanning-experience"></a><span data-ttu-id="a4797-124">Esperienza di analisi dell'ambiente</span><span class="sxs-lookup"><span data-stu-id="a4797-124">The environment scanning experience</span></span>

<span data-ttu-id="a4797-125">Ogni applicazione che usa il mapping spaziale deve considerare la possibilità di fornire un'esperienza di analisi. processo attraverso il quale l'applicazione guida l'utente per l'analisi delle superfici necessarie per il corretto funzionamento dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="a4797-125">Each application that uses spatial mapping should consider providing a 'scanning experience'; the process through which the application guides the user to scan surfaces that are necessary for the application to function correctly.</span></span>

<span data-ttu-id="a4797-126">![Esempio di analisi](images/sr-mixedworld-140429-8pm-00068-1000px.png)</span><span class="sxs-lookup"><span data-stu-id="a4797-126">![Example of scanning](images/sr-mixedworld-140429-8pm-00068-1000px.png)</span></span><br>
<span data-ttu-id="a4797-127">*Esempio di analisi*</span><span class="sxs-lookup"><span data-stu-id="a4797-127">*Example of scanning*</span></span>

<span data-ttu-id="a4797-128">La natura di questa esperienza di analisi può variare significativamente a seconda delle esigenze di ogni applicazione, ma due principi principali dovrebbero guidare la progettazione.</span><span class="sxs-lookup"><span data-stu-id="a4797-128">The nature of this scanning experience can vary greatly depending upon each application's needs, but two main principles should guide its design.</span></span>

<span data-ttu-id="a4797-129">In primo luogo, **una comunicazione chiara con l'utente rappresenta il problema principale**.</span><span class="sxs-lookup"><span data-stu-id="a4797-129">Firstly, **clear communication with the user is the primary concern**.</span></span> <span data-ttu-id="a4797-130">L'utente deve sempre tenere presente se i requisiti dell'applicazione vengono soddisfatti.</span><span class="sxs-lookup"><span data-stu-id="a4797-130">The user should always be aware of whether the application's requirements are being met.</span></span> <span data-ttu-id="a4797-131">Quando non vengono soddisfatte, dovrebbe essere immediatamente chiaro all'utente perché questo è così e dovrebbe essere portato rapidamente a intraprendere l'azione appropriata.</span><span class="sxs-lookup"><span data-stu-id="a4797-131">When they are not being met, it should be immediately clear to the user why this is so and they should be quickly led to take the appropriate action.</span></span>

<span data-ttu-id="a4797-132">In secondo luogo, **le applicazioni devono provare a trovare un equilibrio tra efficienza e affidabilità**.</span><span class="sxs-lookup"><span data-stu-id="a4797-132">Secondly, **applications should attempt to strike a balance between efficiency and reliability**.</span></span> <span data-ttu-id="a4797-133">Quando è possibile eseguire questa operazione in modo **affidabile**, le applicazioni devono analizzare automaticamente i dati del mapping spaziale per salvare l'ora utente.</span><span class="sxs-lookup"><span data-stu-id="a4797-133">When it is possible to do so **reliably**, applications should automatically analyze spatial mapping data to save the user time.</span></span> <span data-ttu-id="a4797-134">Quando non è possibile eseguire questa operazione in modo affidabile, le applicazioni devono invece consentire all'utente di fornire rapidamente all'applicazione le informazioni aggiuntive necessarie.</span><span class="sxs-lookup"><span data-stu-id="a4797-134">When it is not possible to do so reliably, applications should instead enable the user to quickly provide the application with the additional information it requires.</span></span>

<span data-ttu-id="a4797-135">Per semplificare la progettazione dell'esperienza di analisi corretta, considerare quali delle seguenti possibilità sono applicabili all'applicazione:</span><span class="sxs-lookup"><span data-stu-id="a4797-135">To help design the right scanning experience, consider which of the following possibilities are applicable to your application:</span></span>

* <span data-ttu-id="a4797-136">**Nessuna esperienza di analisi**</span><span class="sxs-lookup"><span data-stu-id="a4797-136">**No scanning experience**</span></span>
   * <span data-ttu-id="a4797-137">Un'applicazione può funzionare perfettamente senza alcuna esperienza di analisi guidata; verranno fornite informazioni sulle superfici osservate nel corso del movimento naturale dell'utente.</span><span class="sxs-lookup"><span data-stu-id="a4797-137">An application may function perfectly without any guided scanning experience; it will learn about surfaces that are observed in the course of natural user movement.</span></span>
   * <span data-ttu-id="a4797-138">Ad esempio, un'applicazione che consente all'utente di disegnare sulle superfici con la vernice spray olografica richiede solo le informazioni sulle superfici attualmente visibili all'utente.</span><span class="sxs-lookup"><span data-stu-id="a4797-138">For example an application that lets the user draw on surfaces with holographic spray paint requires knowledge only of the surfaces currently visible to the user.</span></span>
   * <span data-ttu-id="a4797-139">È possibile che l'ambiente sia già stato analizzato completamente se ne è uno in cui l'utente ha già impiegato molto tempo a usare HoloLens.</span><span class="sxs-lookup"><span data-stu-id="a4797-139">The environment may be completely scanned already if it is one in which the user has already spent a lot of time using the HoloLens.</span></span>
   * <span data-ttu-id="a4797-140">Tenere presente, tuttavia, che la fotocamera usata dal mapping spaziale può visualizzare solo 3.1 m davanti all'utente, quindi il mapping spaziale non saprà altre superfici distanti, a meno che l'utente non abbia osservato da una distanza più vicina in passato.</span><span class="sxs-lookup"><span data-stu-id="a4797-140">Bear in mind however that the camera used by spatial mapping can only see 3.1m in front of the user, so spatial mapping will not know about any more distant surfaces unless the user has observed them from a closer distance in the past.</span></span>
   * <span data-ttu-id="a4797-141">Quindi, l'utente riconosce quali superfici sono state analizzate, l'applicazione deve fornire un feedback visivo a questo effetto, ad esempio il cast di ombre virtuali su superfici analizzate può aiutare l'utente a collocare gli ologrammi su tali superfici.</span><span class="sxs-lookup"><span data-stu-id="a4797-141">So the user understands which surfaces have been scanned, the application should provide visual feedback to this effect, for example casting virtual shadows onto scanned surfaces may help the user place holograms on those surfaces.</span></span>
   * <span data-ttu-id="a4797-142">Per questo caso, i volumi di delimitazione dell'osservatore della superficie spaziale devono aggiornare ogni frame a un sistema di [coordinate spaziali](coordinate-systems.md)con blocco del corpo, in modo che seguano l'utente.</span><span class="sxs-lookup"><span data-stu-id="a4797-142">For this case, the spatial surface observer's bounding volumes should be updated each frame to a body-locked [spatial coordinate system](coordinate-systems.md), so that they follow the user.</span></span>

* <span data-ttu-id="a4797-143">**Trovare un percorso adatto**</span><span class="sxs-lookup"><span data-stu-id="a4797-143">**Find a suitable location**</span></span>
   * <span data-ttu-id="a4797-144">Un'applicazione può essere progettata per essere utilizzata in una posizione con requisiti specifici.</span><span class="sxs-lookup"><span data-stu-id="a4797-144">An application may be designed for use in a location with specific requirements.</span></span>
   * <span data-ttu-id="a4797-145">Ad esempio, l'applicazione può richiedere un'area vuota per l'utente in modo da poter provare a utilizzare in modo sicuro il kung-fu olografico.</span><span class="sxs-lookup"><span data-stu-id="a4797-145">For example, the application may require an empty area around the user so they can safely practice holographic kung-fu.</span></span>
   * <span data-ttu-id="a4797-146">Le applicazioni devono comunicare i requisiti specifici per l'utente in primo piano e rinforzarli con un chiaro feedback visivo.</span><span class="sxs-lookup"><span data-stu-id="a4797-146">Applications should communicate any specific requirements to the user up-front, and reinforce them with clear visual feedback.</span></span>
   * <span data-ttu-id="a4797-147">In questo esempio, l'applicazione deve visualizzare l'ambito dell'area vuota richiesta e evidenziare visivamente la presenza di oggetti indesiderati all'interno di questa zona.</span><span class="sxs-lookup"><span data-stu-id="a4797-147">In this example, the application should visualize the extent of the required empty area and visually highlight the presence of any undesired objects within this zone.</span></span>
   * <span data-ttu-id="a4797-148">Per questo caso, i volumi di delimitazione dell'osservatore della superficie spaziale devono usare un [sistema di coordinate spaziali](coordinate-systems.md) con blocco globale nella posizione scelta.</span><span class="sxs-lookup"><span data-stu-id="a4797-148">For this case, the spatial surface observer's bounding volumes should use a world-locked [spatial coordinate system](coordinate-systems.md) in the chosen location.</span></span>

* <span data-ttu-id="a4797-149">**Trovare una configurazione adatta delle superfici**</span><span class="sxs-lookup"><span data-stu-id="a4797-149">**Find a suitable configuration of surfaces**</span></span>
   * <span data-ttu-id="a4797-150">È possibile che un'applicazione richieda una configurazione specifica delle superfici, ad esempio due pareti grandi, piatte e contrapposte, per creare una sala olografica di mirror.</span><span class="sxs-lookup"><span data-stu-id="a4797-150">An application may require a specific configuration of surfaces, for example two large, flat, opposing walls to create a holographic hall of mirrors.</span></span>
   * <span data-ttu-id="a4797-151">In questi casi, l'applicazione dovrà analizzare le superfici fornite dal mapping spaziale per rilevare le superfici appropriate e indirizzare l'utente verso loro.</span><span class="sxs-lookup"><span data-stu-id="a4797-151">In such cases the application will need to analyze the surfaces provided by spatial mapping to detect suitable surfaces, and direct the user toward them.</span></span>
   * <span data-ttu-id="a4797-152">L'utente deve disporre di un'opzione di fallback se l'analisi della superficie dell'applicazione non è completamente affidabile.</span><span class="sxs-lookup"><span data-stu-id="a4797-152">The user should have a fallback option if the application's surface analysis is not completely reliable.</span></span> <span data-ttu-id="a4797-153">Se, ad esempio, l'applicazione identifica erroneamente un portale come un muro Flat, l'utente deve disporre di un modo semplice per correggere l'errore.</span><span class="sxs-lookup"><span data-stu-id="a4797-153">For example, if the application incorrectly identifies a doorway as a flat wall, the user needs a simple way to correct this error.</span></span>

* <span data-ttu-id="a4797-154">**Analizza parte dell'ambiente**</span><span class="sxs-lookup"><span data-stu-id="a4797-154">**Scan part of the environment**</span></span>
   * <span data-ttu-id="a4797-155">Un'applicazione può voler acquisire solo parte dell'ambiente, come indicato dall'utente.</span><span class="sxs-lookup"><span data-stu-id="a4797-155">An application may wish to only capture part of the environment, as directed by the user.</span></span>
   * <span data-ttu-id="a4797-156">Ad esempio, l'applicazione analizza parte di una stanza, in modo che l'utente possa pubblicare un annuncio olografico per la mobilia che desidera vendere.</span><span class="sxs-lookup"><span data-stu-id="a4797-156">For example, the application scans part of a room so the user may post a holographic classified ad for furniture they wish to sell.</span></span>
   * <span data-ttu-id="a4797-157">In questo caso, l'applicazione deve acquisire i dati di mapping spaziali all'interno delle aree osservate dall'utente durante la relativa analisi.</span><span class="sxs-lookup"><span data-stu-id="a4797-157">In this case, the application should capture spatial mapping data within the regions observed by the user during their scan.</span></span>

* <span data-ttu-id="a4797-158">**Analizza l'intera stanza**</span><span class="sxs-lookup"><span data-stu-id="a4797-158">**Scan the whole room**</span></span>
   * <span data-ttu-id="a4797-159">Un'applicazione può richiedere un'analisi di tutte le superfici nella stanza corrente, incluse quelle dietro l'utente.</span><span class="sxs-lookup"><span data-stu-id="a4797-159">An application may require a scan of all of the surfaces in the current room, including those behind the user.</span></span>
   * <span data-ttu-id="a4797-160">Ad esempio, un gioco può mettere l'utente nel ruolo di Gulliver, in assiege da centinaia di piccoli Lillipuziani che si avvicinano da tutte le direzioni.</span><span class="sxs-lookup"><span data-stu-id="a4797-160">For example, a game may put the user in the role of Gulliver, under siege from hundreds of tiny Lilliputians approaching from all directions.</span></span>
   * <span data-ttu-id="a4797-161">In questi casi, l'applicazione dovrà determinare il numero di superfici presenti nella stanza corrente è già stata analizzata e indicare allo sguardo dell'utente di colmare gap significative.</span><span class="sxs-lookup"><span data-stu-id="a4797-161">In such cases, the application will need to determine how many of the surfaces in the current room have already been scanned, and direct the user's gaze to fill in significant gaps.</span></span>
   * <span data-ttu-id="a4797-162">La chiave per questo processo è fornire feedback visivo che rende chiaro all'utente quali superfici non sono state ancora analizzate.</span><span class="sxs-lookup"><span data-stu-id="a4797-162">The key to this process is providing visual feedback that makes it clear to the user which surfaces have not yet been scanned.</span></span> <span data-ttu-id="a4797-163">L'applicazione può ad esempio usare la [nebbia basata sulla distanza](https://msdn.microsoft.com/library/windows/desktop/bb173401%28v=vs.85%29.aspx) per evidenziare visivamente le aree non coperte dalle superfici di mapping spaziale.</span><span class="sxs-lookup"><span data-stu-id="a4797-163">The application could for example use [distance-based fog](https://msdn.microsoft.com/library/windows/desktop/bb173401%28v=vs.85%29.aspx) to visually highlight regions that are not covered by spatial mapping surfaces.</span></span>

* <span data-ttu-id="a4797-164">**Eseguire uno snapshot iniziale dell'ambiente**</span><span class="sxs-lookup"><span data-stu-id="a4797-164">**Take an initial snapshot of the environment**</span></span>
   * <span data-ttu-id="a4797-165">Un'applicazione potrebbe voler ignorare tutte le modifiche apportate all'ambiente dopo aver eseguito uno snapshot iniziale.</span><span class="sxs-lookup"><span data-stu-id="a4797-165">An application may wish to ignore all changes in the environment after taking an initial 'snapshot'.</span></span>
   * <span data-ttu-id="a4797-166">Questa operazione può essere utile per evitare l'intralcio di dati creati dall'utente strettamente collegati allo stato iniziale dell'ambiente.</span><span class="sxs-lookup"><span data-stu-id="a4797-166">This may be appropriate to avoid disruption of user-created data that is tightly coupled to the initial state of the environment.</span></span>
   * <span data-ttu-id="a4797-167">In questo caso, l'applicazione deve creare una copia dei dati di mapping spaziale nello stato iniziale al termine dell'analisi.</span><span class="sxs-lookup"><span data-stu-id="a4797-167">In this case, the application should make a copy of the spatial mapping data in its initial state once the scan is complete.</span></span>
   * <span data-ttu-id="a4797-168">Le applicazioni devono continuare a ricevere gli aggiornamenti dei dati di mapping spaziale se gli ologrammi rimangono ancora correttamente bloccati dall'ambiente.</span><span class="sxs-lookup"><span data-stu-id="a4797-168">Applications should continue receiving updates to spatial mapping data if holograms are still to be correctly occluded by the environment.</span></span>
   * <span data-ttu-id="a4797-169">Gli aggiornamenti continui dei dati di mapping spaziali consentono inoltre di visualizzare le modifiche apportate, chiarendo all'utente le differenze tra gli stati precedenti e quelli presenti nell'ambiente.</span><span class="sxs-lookup"><span data-stu-id="a4797-169">Continued updates to spatial mapping data also allow visualizing any changes that have occurred, clarifying to the user the differences between prior and present states of the environment.</span></span>

* <span data-ttu-id="a4797-170">**Eseguire snapshot dell'ambiente avviati dall'utente**</span><span class="sxs-lookup"><span data-stu-id="a4797-170">**Take user-initiated snapshots of the environment**</span></span>
   * <span data-ttu-id="a4797-171">Un'applicazione può solo voler rispondere alle modifiche ambientali quando richiesto dall'utente.</span><span class="sxs-lookup"><span data-stu-id="a4797-171">An application may only wish to respond to environmental changes when instructed by the user.</span></span>
   * <span data-ttu-id="a4797-172">Ad esempio, l'utente può creare più "statue" 3D di un amico acquisendo le loro pose in momenti diversi.</span><span class="sxs-lookup"><span data-stu-id="a4797-172">For example, the user could create multiple 3D 'statues' of a friend by capturing their poses at different moments.</span></span>

* <span data-ttu-id="a4797-173">**Consenti all'utente di modificare l'ambiente**</span><span class="sxs-lookup"><span data-stu-id="a4797-173">**Allow the user to change the environment**</span></span>
   * <span data-ttu-id="a4797-174">Un'applicazione può essere progettata in modo da rispondere in tempo reale a tutte le modifiche apportate nell'ambiente dell'utente.</span><span class="sxs-lookup"><span data-stu-id="a4797-174">An application may be designed to respond in real-time to any changes made in the user's environment.</span></span>
   * <span data-ttu-id="a4797-175">Ad esempio, l'utente che disegna una tenda potrebbe attivare la "modifica della scena" per una riproduzione olografica che avviene sull'altro lato.</span><span class="sxs-lookup"><span data-stu-id="a4797-175">For example, the user drawing a curtain could trigger 'scene change' for a holographic play taking place on the other side.</span></span>

* <span data-ttu-id="a4797-176">**Guida dell'utente per evitare errori nei dati di mapping spaziale**</span><span class="sxs-lookup"><span data-stu-id="a4797-176">**Guide the user to avoid errors in the spatial mapping data**</span></span>
   * <span data-ttu-id="a4797-177">Un'applicazione potrebbe voler fornire indicazioni all'utente durante l'analisi dell'ambiente.</span><span class="sxs-lookup"><span data-stu-id="a4797-177">An application may wish to provide guidance to the user while they are scanning their environment.</span></span>
   * <span data-ttu-id="a4797-178">Ciò consente all'utente di evitare determinati tipi di [errori nei dati di mapping spaziali](spatial-mapping-design.md#what-influences-spatial-mapping-quality), ad esempio rimanendo fuori da finestre o mirror luminosi.</span><span class="sxs-lookup"><span data-stu-id="a4797-178">This can help the user to avoid certain kinds of [errors in the spatial mapping data](spatial-mapping-design.md#what-influences-spatial-mapping-quality), for example by staying away from sunlit windows or mirrors.</span></span>

<span data-ttu-id="a4797-179">Un ulteriore dettaglio da tenere presente è che il ' intervallo ' dei dati di mapping spaziali non è illimitato.</span><span class="sxs-lookup"><span data-stu-id="a4797-179">One additional detail to be aware of is that the 'range' of spatial mapping data is not unlimited.</span></span> <span data-ttu-id="a4797-180">Sebbene il mapping spaziale crei un database permanente di spazi di grandi dimensioni, rende solo i dati disponibili per le applicazioni in una "bolla" di dimensioni limitate per l'utente.</span><span class="sxs-lookup"><span data-stu-id="a4797-180">Whilst spatial mapping does build a permanent database of large spaces, it only makes that data available to applications in a 'bubble' of limited size around the user.</span></span> <span data-ttu-id="a4797-181">Quindi, se si inizia dall'inizio di un lungo corridoio e ci si sposta abbastanza lontano dall'inizio, infine le superfici spaziali all'inizio scompariranno.</span><span class="sxs-lookup"><span data-stu-id="a4797-181">Thus if you start at the beginning of a long corridor and walk far enough away from the start, then eventually the spatial surfaces back at the beginning will disappear.</span></span> <span data-ttu-id="a4797-182">Naturalmente è possibile mitigare questo problema memorizzando nella cache tali superfici nell'applicazione dopo che sono scomparse dai dati di mapping spaziali disponibili.</span><span class="sxs-lookup"><span data-stu-id="a4797-182">You can of course mitigate this by caching those surfaces in your application after they have disappeared from the available spatial mapping data.</span></span>

## <a name="mesh-processing"></a><span data-ttu-id="a4797-183">Elaborazione mesh</span><span class="sxs-lookup"><span data-stu-id="a4797-183">Mesh processing</span></span>

<span data-ttu-id="a4797-184">Potrebbe essere utile rilevare tipi comuni di errori nelle superfici e filtrare, rimuovere o modificare i dati del mapping spaziale in base alle esigenze.</span><span class="sxs-lookup"><span data-stu-id="a4797-184">It may help to detect common types of errors in surfaces and to filter, remove or modify the spatial mapping data as appropriate.</span></span>

<span data-ttu-id="a4797-185">Tenere presente che i dati di mapping spaziali sono destinati a essere il più fedele possibile a superfici reali, quindi qualsiasi elaborazione applicata rischia di spostare ulteriormente le superfici dalla "verità".</span><span class="sxs-lookup"><span data-stu-id="a4797-185">Bear in mind that spatial mapping data is intended to be as faithful as possible to real-world surfaces, so any processing you apply risks shifting your surfaces further from the 'truth'.</span></span>

<span data-ttu-id="a4797-186">Di seguito sono riportati alcuni esempi di diversi tipi di elaborazione di mesh che possono risultare utili:</span><span class="sxs-lookup"><span data-stu-id="a4797-186">Here are some examples of different types of mesh processing that you may find useful:</span></span>

* <span data-ttu-id="a4797-187">**Riempimento foro**</span><span class="sxs-lookup"><span data-stu-id="a4797-187">**Hole filling**</span></span>
   * <span data-ttu-id="a4797-188">Se non è possibile eseguire l'analisi di un oggetto di piccole dimensioni con un materiale scuro, questo lascerà un foro nell'area circostante.</span><span class="sxs-lookup"><span data-stu-id="a4797-188">If a small object made of a dark material fails to scan, it will leave a hole in the surrounding surface.</span></span>
   * <span data-ttu-id="a4797-189">I buchi influiscono sull'occlusione: gli ologrammi possono essere visualizzati in un foro in una superficie reale opaca.</span><span class="sxs-lookup"><span data-stu-id="a4797-189">Holes affect occlusion: holograms can be seen 'through' a hole in a supposedly opaque real-world surface.</span></span>
   * <span data-ttu-id="a4797-190">I buchi influiscono su raycasts: se si usa raycasts per aiutare gli utenti a interagire con le superfici, potrebbe essere auspicabile che questi raggi attraversino buchi.</span><span class="sxs-lookup"><span data-stu-id="a4797-190">Holes affect raycasts: if you are using raycasts to help users interact with surfaces, it may be undesirable for these rays to pass through holes.</span></span> <span data-ttu-id="a4797-191">Una mitigazione consiste nell'usare un bundle di più raycasts che coprono un'area opportunamente dimensionata.</span><span class="sxs-lookup"><span data-stu-id="a4797-191">One mitigation is to use a bundle of multiple raycasts covering an appropriately sized region.</span></span> <span data-ttu-id="a4797-192">Ciò consentirà di filtrare i risultati "outlier", in modo che anche se un Raycast passa attraverso un piccolo foro, il risultato dell'aggregazione sarà ancora valido.</span><span class="sxs-lookup"><span data-stu-id="a4797-192">This will allow you to filter 'outlier' results, so that even if one raycast passes through a small hole, the aggregate result will still be valid.</span></span> <span data-ttu-id="a4797-193">Tuttavia, tenere presente che questo approccio comporta un costo computazionale.</span><span class="sxs-lookup"><span data-stu-id="a4797-193">However, be aware that this approach comes at a computational cost.</span></span>
   * <span data-ttu-id="a4797-194">I buchi influiscono sui conflitti di fisica: un oggetto controllato dalla simulazione fisica può essere trascinato in una buca al pavimento e perso.</span><span class="sxs-lookup"><span data-stu-id="a4797-194">Holes affect physics collisions: an object controlled by physics simulation may drop through a hole in the floor and become lost.</span></span>
   * <span data-ttu-id="a4797-195">È possibile algoritmicamente colmare tali buchi nella mesh della superficie.</span><span class="sxs-lookup"><span data-stu-id="a4797-195">It is possible to algorithmically fill such holes in the surface mesh.</span></span> <span data-ttu-id="a4797-196">Tuttavia, sarà necessario ottimizzare l'algoritmo in modo che i "buchi reali", ad esempio le finestre e le porte, non vengano compilati.</span><span class="sxs-lookup"><span data-stu-id="a4797-196">However, you will need to tune your algorithm so that 'real holes' such as windows and doorways do not get filled in.</span></span> <span data-ttu-id="a4797-197">Può essere difficile distinguere in modo affidabile ' buchi reali ' da' buchi immaginari ', quindi è necessario provare a usare euristiche diverse, ad esempio ' dimensioni ' è forma limite '.</span><span class="sxs-lookup"><span data-stu-id="a4797-197">It can be difficult to reliably differentiate 'real holes' from 'imaginary holes', so you will need to experiment with different heuristics such as 'size' and 'boundary shape'.</span></span>

* <span data-ttu-id="a4797-198">**Rimozione delle allucinazioni**</span><span class="sxs-lookup"><span data-stu-id="a4797-198">**Hallucination removal**</span></span>
   * <span data-ttu-id="a4797-199">I riflessi, le luci luminose e gli oggetti mobili possono lasciare "allucinazioni" prolungate, fluttuanti a metà aria.</span><span class="sxs-lookup"><span data-stu-id="a4797-199">Reflections, bright lights and moving objects can leave small lingering 'hallucinations' floating in mid-air.</span></span>
   * <span data-ttu-id="a4797-200">Le allucinazioni influiscono sull'occlusione: le allucinazioni possono essere visibili come forme scure che si avvicinano a e occlusione altri ologrammi.</span><span class="sxs-lookup"><span data-stu-id="a4797-200">Hallucinations affect occlusion: hallucinations may become visible as dark shapes moving in front of and occluding other holograms.</span></span>
   * <span data-ttu-id="a4797-201">Le allucinazioni influiscono su raycasts: se si usa raycasts per aiutare gli utenti a interagire con le superfici, questi raggi potrebbero raggiungere una allucinazione invece della superficie sottostante.</span><span class="sxs-lookup"><span data-stu-id="a4797-201">Hallucinations affect raycasts: if you are using raycasts to help users interact with surfaces, these rays could hit a hallucination instead of the surface behind it.</span></span> <span data-ttu-id="a4797-202">Come per i buchi, una mitigazione consiste nell'usare molti raycasts invece di un singolo Raycast, ma anche in questo caso il costo di calcolo sarà elevato.</span><span class="sxs-lookup"><span data-stu-id="a4797-202">As with holes, one mitigation is to use many raycasts instead of a single raycast, but again this will come at a computational cost.</span></span>
   * <span data-ttu-id="a4797-203">Le allucinazioni influiscono sui conflitti di fisica: un oggetto controllato dalla simulazione fisica può rimanere bloccato contro un'allucinazione e non essere in grado di spostarsi in un'area di spazio apparentemente chiara.</span><span class="sxs-lookup"><span data-stu-id="a4797-203">Hallucinations affect physics collisions: an object controlled by physics simulation may become stuck against a hallucination and be unable to move through a seemingly clear area of space.</span></span>
   * <span data-ttu-id="a4797-204">È possibile filtrare tali allucinazioni dalla mesh della superficie.</span><span class="sxs-lookup"><span data-stu-id="a4797-204">It is possible to filter such hallucinations from the surface mesh.</span></span> <span data-ttu-id="a4797-205">Tuttavia, come per i buchi, sarà necessario ottimizzare l'algoritmo in modo da evitare la rimozione di oggetti di piccole dimensioni, ad esempio luci e maniglie degli sportelli.</span><span class="sxs-lookup"><span data-stu-id="a4797-205">However, as with holes, you will need to tune your algorithm so that real small objects such as lamp-stands and door handles do not get removed.</span></span>

* <span data-ttu-id="a4797-206">**Smussatura**</span><span class="sxs-lookup"><span data-stu-id="a4797-206">**Smoothing**</span></span>
   * <span data-ttu-id="a4797-207">Il mapping spaziale può restituire superfici che sembrano essere ruvide o ' noisy ' rispetto alle controparti reali.</span><span class="sxs-lookup"><span data-stu-id="a4797-207">Spatial mapping may return surfaces that appear to be rough or 'noisy' in comparison to their real-world counterparts.</span></span>
   * <span data-ttu-id="a4797-208">La fluidità influiscono sui conflitti di fisica: se il piano è ruvido, una palla da golf simulata fisicamente potrebbe non essere posizionata senza intoppi in una linea retta.</span><span class="sxs-lookup"><span data-stu-id="a4797-208">Smoothness affects physics collisions: if the floor is rough, a physically simulated golf ball may not roll smoothly across it in a straight line.</span></span>
   * <span data-ttu-id="a4797-209">La fluidità influisce sul rendering: se una superficie viene visualizzata direttamente, le normali superfici ruvide possono influire sul proprio aspetto e interferire con l'aspetto "Pulisci".</span><span class="sxs-lookup"><span data-stu-id="a4797-209">Smoothness affects rendering: if a surface is visualized directly, rough surface normals can affect its appearance and disrupt a 'clean' look.</span></span> <span data-ttu-id="a4797-210">È possibile mitigare questo problema usando l'illuminazione e le trame appropriate nello shader usato per il rendering della superficie.</span><span class="sxs-lookup"><span data-stu-id="a4797-210">It is possible to mitigate this by using appropriate lighting and textures in the shader that is used to render the surface.</span></span>
   * <span data-ttu-id="a4797-211">È possibile smussare l'rugosità in una mesh di superficie.</span><span class="sxs-lookup"><span data-stu-id="a4797-211">It is possible to smooth out roughness in a surface mesh.</span></span> <span data-ttu-id="a4797-212">Questa operazione può tuttavia comportare la disattivazione della superficie dalla superficie reale corrispondente.</span><span class="sxs-lookup"><span data-stu-id="a4797-212">However, this may push the surface further away from the corresponding real-world surface.</span></span> <span data-ttu-id="a4797-213">La gestione di una corrispondenza di chiusura è importante per produrre un'occlusione olografica accurata e consentire agli utenti di ottenere interazioni precise e prevedibili con le superfici olografiche.</span><span class="sxs-lookup"><span data-stu-id="a4797-213">Maintaining a close correspondence is important to produce accurate hologram occlusion, and to enable users to achieve precise and predictable interactions with holographic surfaces.</span></span>
   * <span data-ttu-id="a4797-214">Se è necessaria solo una modifica cosmetica, può essere sufficiente per smussare i normali vertici senza modificare le posizioni del vertice.</span><span class="sxs-lookup"><span data-stu-id="a4797-214">If only a cosmetic change is required, it may be sufficient to smooth vertex normals without changing vertex positions.</span></span>

* <span data-ttu-id="a4797-215">**Ricerca del piano**</span><span class="sxs-lookup"><span data-stu-id="a4797-215">**Plane finding**</span></span>
   * <span data-ttu-id="a4797-216">Esistono diverse forme di analisi che un'applicazione può voler eseguire sulle superfici fornite dal mapping spaziale.</span><span class="sxs-lookup"><span data-stu-id="a4797-216">There are many forms of analysis that an application may wish to perform on the surfaces provided by spatial mapping.</span></span>
   * <span data-ttu-id="a4797-217">Un semplice esempio è' ricerca del piano '; identificazione delle aree delimitate e principalmente planari delle superfici.</span><span class="sxs-lookup"><span data-stu-id="a4797-217">One simple example is 'plane finding'; identifying bounded, mostly-planar regions of surfaces.</span></span>
   * <span data-ttu-id="a4797-218">Le aree planari possono essere usate come superfici di lavoro olografiche, aree in cui il contenuto olografico può essere inserito automaticamente dall'applicazione.</span><span class="sxs-lookup"><span data-stu-id="a4797-218">Planar regions can be used as holographic work-surfaces, regions where holographic content can be automatically placed by the application.</span></span>
   * <span data-ttu-id="a4797-219">Le aree planari possono vincolare l'interfaccia utente per guidare gli utenti a interagire con le superfici più adatte alle proprie esigenze.</span><span class="sxs-lookup"><span data-stu-id="a4797-219">Planar regions can constrain the user interface, to guide users to interact with the surfaces that best suit their needs.</span></span>
   * <span data-ttu-id="a4797-220">Le aree planari possono essere usate come nel mondo reale, per le controparti olografiche in oggetti funzionali quali schermi LCD, tabelle o lavagne.</span><span class="sxs-lookup"><span data-stu-id="a4797-220">Planar regions can be used as in the real world, for holographic counterparts to functional objects such as LCD screens, tables or whiteboards.</span></span>
   * <span data-ttu-id="a4797-221">Le aree piane possono definire aree di riproduzione, che costituiscono la base dei livelli di videogame.</span><span class="sxs-lookup"><span data-stu-id="a4797-221">Planar regions can define play areas, forming the basis of videogame levels.</span></span>
   * <span data-ttu-id="a4797-222">Le aree planari possono aiutare gli agenti virtuali a esplorare il mondo reale, identificando le aree del piano su cui è probabile che le persone reali possano procedere.</span><span class="sxs-lookup"><span data-stu-id="a4797-222">Planar regions can aid virtual agents to navigate the real world, by identifying the areas of floor that real people are likely to walk on.</span></span>

## <a name="prototyping-and-debugging"></a><span data-ttu-id="a4797-223">Prototipi e debug</span><span class="sxs-lookup"><span data-stu-id="a4797-223">Prototyping and debugging</span></span>

### <a name="useful-tools"></a><span data-ttu-id="a4797-224">Strumenti utili</span><span class="sxs-lookup"><span data-stu-id="a4797-224">Useful tools</span></span>
* <span data-ttu-id="a4797-225">L' [emulatore di HoloLens](using-the-hololens-emulator.md) può essere usato per sviluppare applicazioni usando il mapping spaziale senza accedere a un HoloLens fisico.</span><span class="sxs-lookup"><span data-stu-id="a4797-225">The [HoloLens emulator](using-the-hololens-emulator.md) can be used to develop applications using spatial mapping without access to a physical HoloLens.</span></span> <span data-ttu-id="a4797-226">Consente di simulare una sessione in tempo reale in un HoloLens in un ambiente realistico, con tutti i dati normalmente utilizzati dall'applicazione, tra cui HoloLens Motion, i sistemi di coordinate spaziali e le mesh di mapping spaziale.</span><span class="sxs-lookup"><span data-stu-id="a4797-226">It allows you to simulate a live session on a HoloLens in a realistic environment, with all of the data your application would normally consume, including HoloLens motion, spatial coordinate systems and spatial mapping meshes.</span></span> <span data-ttu-id="a4797-227">Questo può essere usato per fornire un input affidabile e ripetibile, che può essere utile per il debug dei problemi e la valutazione delle modifiche apportate al codice.</span><span class="sxs-lookup"><span data-stu-id="a4797-227">This can be used to provide reliable, repeatable input, which can be useful for debugging problems and evaluating changes to your code.</span></span>
* <span data-ttu-id="a4797-228">Per riprodurre uno scenario, acquisire i dati di mapping spaziali sulla rete da un HoloLens attivo, quindi salvarli su disco e riutilizzarli nelle sessioni di debug successive.</span><span class="sxs-lookup"><span data-stu-id="a4797-228">To reproduce a scenarios, capture spatial mapping data over the network from a live HoloLens, then save it to disk and reuse it in subsequent debugging sessions.</span></span>
* <span data-ttu-id="a4797-229">La [visualizzazione 3D del portale per dispositivi Windows](using-the-windows-device-portal.md#3d-view) consente di visualizzare tutte le superfici spaziali attualmente disponibili tramite il sistema di mapping spaziale.</span><span class="sxs-lookup"><span data-stu-id="a4797-229">The [Windows device portal 3D view](using-the-windows-device-portal.md#3d-view) provides a way to see all of the spatial surfaces currently available via the spatial mapping system.</span></span> <span data-ttu-id="a4797-230">In questo modo viene fornita una base di confronto per le superfici spaziali all'interno dell'applicazione. ad esempio, è possibile stabilire facilmente se eventuali superfici spaziali risultano mancanti o visualizzate nella posizione sbagliata.</span><span class="sxs-lookup"><span data-stu-id="a4797-230">This provides a basis of comparison for the spatial surfaces inside your application; for example you can easily tell if any spatial surfaces are missing or are being displayed in the wrong place.</span></span>

### <a name="general-prototyping-guidance"></a><span data-ttu-id="a4797-231">Indicazioni generali sulla prototipazione</span><span class="sxs-lookup"><span data-stu-id="a4797-231">General prototyping guidance</span></span>
* <span data-ttu-id="a4797-232">Poiché gli [errori](spatial-mapping-design.md#what-influences-spatial-mapping-quality) nei dati di mapping spaziali possono influire fortemente sull'esperienza dell'utente, è consigliabile testare l'applicazione in un'ampia gamma di ambienti.</span><span class="sxs-lookup"><span data-stu-id="a4797-232">Because [errors](spatial-mapping-design.md#what-influences-spatial-mapping-quality) in the spatial mapping data may strongly affect your user's experience, we recommend that you test your application in a wide variety of environments.</span></span>
* <span data-ttu-id="a4797-233">Non rimanere intrappolato nell'abitudine di testare sempre nella stessa posizione, ad esempio nella propria scrivania.</span><span class="sxs-lookup"><span data-stu-id="a4797-233">Don't get trapped in the habit of always testing in the same location, for example at your desk.</span></span> <span data-ttu-id="a4797-234">Assicurarsi di eseguire il test su varie superfici di posizioni, forme, dimensioni e materiali differenti.</span><span class="sxs-lookup"><span data-stu-id="a4797-234">Make sure to test on various surfaces of different positions, shapes, sizes and materials.</span></span>
* <span data-ttu-id="a4797-235">Analogamente, mentre i dati sintetici o registrati possono essere utili per il debug, non dipendono troppo dagli stessi test case.</span><span class="sxs-lookup"><span data-stu-id="a4797-235">Similarly, while synthetic or recorded data can be useful for debugging, don't become too reliant upon the same few test cases.</span></span> <span data-ttu-id="a4797-236">Questo può ritardare la ricerca di problemi importanti che potrebbero essere rilevati in precedenza da più test.</span><span class="sxs-lookup"><span data-stu-id="a4797-236">This may delay finding important issues that more varied testing would have caught earlier.</span></span>
* <span data-ttu-id="a4797-237">È consigliabile eseguire i test con utenti reali (e preferibilmente senza coach), perché non possono usare il HoloLens o l'applicazione nello stesso modo in cui si esegue.</span><span class="sxs-lookup"><span data-stu-id="a4797-237">It is a good idea to perform testing with real (and ideally un-coached) users, because they may not use the HoloLens or your application in exactly the same way that you do.</span></span> <span data-ttu-id="a4797-238">In realtà, potrebbe sorprendere il comportamento, le conoscenze e le ipotesi delle persone divergenti.</span><span class="sxs-lookup"><span data-stu-id="a4797-238">In fact, it may surprise you how divergent people's behavior, knowledge and assumptions can be!</span></span>

## <a name="see-also"></a><span data-ttu-id="a4797-239">Vedere anche</span><span class="sxs-lookup"><span data-stu-id="a4797-239">See also</span></span>
* [<span data-ttu-id="a4797-240">Visualizzazione della scansione dello spazio</span><span class="sxs-lookup"><span data-stu-id="a4797-240">Room scan visualization</span></span>](room-scan-visualization.md)
* [<span data-ttu-id="a4797-241">Progettazione dell'audio spaziale</span><span class="sxs-lookup"><span data-stu-id="a4797-241">Spatial sound design</span></span>](spatial-sound-design.md)
* [<span data-ttu-id="a4797-242">Persistenza in Unity</span><span class="sxs-lookup"><span data-stu-id="a4797-242">Persistence in Unity</span></span>](persistence-in-unity.md)

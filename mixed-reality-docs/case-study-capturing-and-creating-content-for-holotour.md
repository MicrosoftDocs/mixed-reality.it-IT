---
title: Case Study-HoloTour
description: HoloTour per Microsoft HoloLens fornisce tour personali immersivi 3D di posizioni iconiche in tutto il mondo. In questo case study verrà illustrato il processo di acquisizione e creazione del contenuto utilizzato per HoloTour.
author: DannyAskew
ms.author: daaske
ms.date: 03/21/2018
ms.topic: article
keywords: HoloTour, HoloLens, realtà mista di Windows
ms.openlocfilehash: 035bec9b0d46a31978bc91f23bfb3a5ee47d6247
ms.sourcegitcommit: 6bc6757b9b273a63f260f1716c944603dfa51151
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 11/01/2019
ms.locfileid: "73436930"
---
# <a name="case-study---holotour"></a><span data-ttu-id="e3a99-105">Case Study-HoloTour</span><span class="sxs-lookup"><span data-stu-id="e3a99-105">Case study - HoloTour</span></span>

<span data-ttu-id="e3a99-106">HoloTour per Microsoft HoloLens fornisce tour personali immersivi 3D di posizioni iconiche in tutto il mondo.</span><span class="sxs-lookup"><span data-stu-id="e3a99-106">HoloTour for Microsoft HoloLens provides immersive 3D personal tours of iconic locations around the world.</span></span> <span data-ttu-id="e3a99-107">I progettisti, gli artisti, i produttori, i progettisti e gli sviluppatori che lavorano su questo progetto hanno scoperto che la creazione di un rendering 3D in modo convincente di una posizione nota accetta una combinazione univoca di creazioni guidate creative e tecnologiche.</span><span class="sxs-lookup"><span data-stu-id="e3a99-107">As the designers, artists, producers, audio designers, and developers working on this project found out, creating a convincingly real 3D rendering of a well-known location takes a unique blend of creative and technological wizardry.</span></span> <span data-ttu-id="e3a99-108">In questo case study verrà illustrato il processo di acquisizione e creazione del contenuto utilizzato per HoloTour.</span><span class="sxs-lookup"><span data-stu-id="e3a99-108">This case study will walk through the process of capturing and creating the content used for HoloTour.</span></span>

## <a name="the-tech"></a><span data-ttu-id="e3a99-109">Il Tech</span><span class="sxs-lookup"><span data-stu-id="e3a99-109">The tech</span></span>

<span data-ttu-id="e3a99-110">Con HoloTour, abbiamo voluto consentire agli utenti di visitare alcune delle destinazioni più straordinarie del mondo, come le [rovine di Machu Picchu](https://en.wikipedia.org/wiki/Machu_Picchu) in Perù o il giorno moderno [Piazza Navona](https://en.wikipedia.org/wiki/Piazza_Navona) in Italia, direttamente dalle proprie chat room.</span><span class="sxs-lookup"><span data-stu-id="e3a99-110">With HoloTour, we wanted to make it possible for people to visit some of the world’s most amazing destinations—like the [ruins of Machu Picchu](https://en.wikipedia.org/wiki/Machu_Picchu) in Peru or the modern day [Piazza Navona](https://en.wikipedia.org/wiki/Piazza_Navona) in Italy—right from their own living rooms.</span></span> <span data-ttu-id="e3a99-111">Il nostro team ha fatto in modo che l'obiettivo di HoloTour sia quello di essere veramente in realtà.</span><span class="sxs-lookup"><span data-stu-id="e3a99-111">Our team made it the goal of HoloTour to “make you feel like you’re really there.”</span></span> <span data-ttu-id="e3a99-112">L'esperienza necessaria per non solo immagini o video.</span><span class="sxs-lookup"><span data-stu-id="e3a99-112">The experience needed to be more than just pictures or videos.</span></span> <span data-ttu-id="e3a99-113">Sfruttando la tecnologia di visualizzazione, rilevamento e audio univoca di HoloLens, abbiamo creduto che avessimo potuto trasmetterti virtualmente in un'altra posizione.</span><span class="sxs-lookup"><span data-stu-id="e3a99-113">By leveraging the unique display, tracking, and audio technology of HoloLens we believed we could virtually transport you to another place.</span></span> <span data-ttu-id="e3a99-114">Sarebbe necessario acquisire i punti di vista, i suoni e la geometria tridimensionale di ogni località visitata e quindi ricrearla all'interno dell'app.</span><span class="sxs-lookup"><span data-stu-id="e3a99-114">We would need to capture the sights, sounds, and three-dimensional geometry of every location we visited and then recreate that within our app.</span></span>

<span data-ttu-id="e3a99-115">A tale scopo, era necessario un rig della fotocamera 360 ° con acquisizione audio direzionale.</span><span class="sxs-lookup"><span data-stu-id="e3a99-115">In order to do this, we needed a 360° camera rig with directional audio capture.</span></span> <span data-ttu-id="e3a99-116">È stato necessario acquisire una risoluzione estremamente elevata, in modo che il metraggio risulti nitido quando viene riprodotto in una HoloLens e le fotocamere devono essere posizionate vicino per ridurre al minimo gli artefatti.</span><span class="sxs-lookup"><span data-stu-id="e3a99-116">It needed to capture at extremely high resolution, so that the footage would look crisp when played back on a HoloLens and the cameras would need to be positioned close together in order to minimize stitching artifacts.</span></span> <span data-ttu-id="e3a99-117">È stata voluta una copertura sferica completa, non solo lungo l'orizzonte, ma anche sopra e sotto.</span><span class="sxs-lookup"><span data-stu-id="e3a99-117">We wanted full spherical coverage, not just along the horizon, but above and below you as well.</span></span> <span data-ttu-id="e3a99-118">Il rig doveva anche essere portabile in modo da poterlo usare in tutto il mondo.</span><span class="sxs-lookup"><span data-stu-id="e3a99-118">The rig also needed to be portable so that we could take it all over the world.</span></span> <span data-ttu-id="e3a99-119">Sono state valutate le opzioni disponibili e sono state realizzate che non sono state sufficientemente valide per realizzare la nostra visione, a causa della risoluzione, dei costi o delle dimensioni.</span><span class="sxs-lookup"><span data-stu-id="e3a99-119">We evaluated available off-the-shelf options and realized they simply weren’t good enough to realize our vision – either because of resolution, cost, or size.</span></span> <span data-ttu-id="e3a99-120">Se non è stato possibile trovare un rig della fotocamera che soddisfi le proprie esigenze, è necessario crearne uno.</span><span class="sxs-lookup"><span data-stu-id="e3a99-120">If we couldn’t find a camera rig that satisfied our needs, we would have to build one ourselves.</span></span>

### <a name="building-the-rig"></a><span data-ttu-id="e3a99-121">Creazione del rig</span><span class="sxs-lookup"><span data-stu-id="e3a99-121">Building the rig</span></span>

<span data-ttu-id="e3a99-122">La prima versione, fatta da cartoni, Velcro, Duct Tape e 14 fotocamere GoPro, era una sorta di MacGyver.</span><span class="sxs-lookup"><span data-stu-id="e3a99-122">The first version—made from cardboard, Velcro, duct tape, and 14 GoPro cameras—was something MacGyver would have been proud of.</span></span> <span data-ttu-id="e3a99-123">Dopo aver esaminato tutti gli elementi, dalle soluzioni di basso livello ai rig prodotti personalizzati, le fotocamere GoPro erano alla fine l'opzione migliore per Microsoft perché erano piccole, convenienti e avevano un archivio di memoria di facile utilizzo.</span><span class="sxs-lookup"><span data-stu-id="e3a99-123">After reviewing everything from low-end solutions to custom manufactured rigs, GoPro cameras were ultimately the best option for us because they were small, affordable, and had easy-to-use memory storage.</span></span> <span data-ttu-id="e3a99-124">Il fattore di forma piccolo è stato particolarmente importante perché ci ha consentito di collocare le fotocamere in modo abbastanza vicino, minore è la distanza tra le fotocamere, minore sarà la distanza degli artefatti.</span><span class="sxs-lookup"><span data-stu-id="e3a99-124">The small form factor was especially important because it allowed us to place cameras fairly close together—the smaller the distance between cameras, the smaller the stitching artifacts will be.</span></span> <span data-ttu-id="e3a99-125">La nostra disposizione esclusiva per la fotocamera ci ha consentito di ottenere la copertura completa della sfera, *oltre* a una sovrapposizione sufficiente per allineare in modo intelligente le fotocamere e smussare alcuni artefatti durante il processo di Unione.</span><span class="sxs-lookup"><span data-stu-id="e3a99-125">Our unique camera arrangement allowed us to get full sphere coverage *plus* enough overlap to intelligently align cameras and smooth out some artifacts during the stitching process.</span></span>

<span data-ttu-id="e3a99-126">Sfruttare le funzionalità [audio spaziali](spatial-sound.md) in HoloLens è essenziale per la creazione di un'esperienza immersiva convincente.</span><span class="sxs-lookup"><span data-stu-id="e3a99-126">Taking advantage of the [spatial sound](spatial-sound.md) capabilities on HoloLens is critical to creating a convincingly real immersive experience.</span></span> <span data-ttu-id="e3a99-127">È stato usato un array a quattro microfoni situato sotto le fotocamere sul treppiede, che consente di acquisire un suono dalla posizione della nostra fotocamera in quattro direzioni, dandoci informazioni sufficienti per creare suoni spaziali nelle nostre scene.</span><span class="sxs-lookup"><span data-stu-id="e3a99-127">We used a four-microphone array situated beneath the cameras on the tripod, which would capture sound from the location of our camera in four directions, giving us enough information to create spatial sounds in our scenes.</span></span>

![Il nostro rig della fotocamera 360 ° configurato per la cinematografia all'esterno del Pantheon.](images/camera-pantheon-200px.png)

<span data-ttu-id="e3a99-129">Il nostro rig della fotocamera 360 ° configurato per la cinematografia all'esterno del Pantheon.</span><span class="sxs-lookup"><span data-stu-id="e3a99-129">Our 360° camera rig set up for filming outside the Pantheon.</span></span> 


<span data-ttu-id="e3a99-130">Abbiamo testato il nostro rig casalingo portandolo alla cresta dei serpenti in prossimità di Seattle, acquisendo lo scenario nella parte superiore dell'escursione.</span><span class="sxs-lookup"><span data-stu-id="e3a99-130">We tested out our homemade rig by taking it up to Rattlesnake Ridge near Seattle, capturing the scenery at the top of the hike.</span></span> <span data-ttu-id="e3a99-131">Il risultato, sebbene significativamente meno lucido rispetto a quello visualizzato in HoloTour oggi, ci ha confidato che la progettazione di un rig era abbastanza efficace da garantire che ci si trovi davvero.</span><span class="sxs-lookup"><span data-stu-id="e3a99-131">The result, though significantly less polished than the locations you see in HoloTour today, gave us confidence that our rig design was good enough to make you feel like you’re really there.</span></span>

<span data-ttu-id="e3a99-132">Il nostro rig è stato aggiornato da Velcro e cartonato a una fotocamera a stampa 3D e hanno acquistato batterie esterne per le fotocamere GoPro per semplificare la gestione della batteria.</span><span class="sxs-lookup"><span data-stu-id="e3a99-132">We upgraded our rig from Velcro and cardboard to a 3D-printed camera housing and bought external battery packs for the GoPro cameras to simplify battery management.</span></span> <span data-ttu-id="e3a99-133">È stato quindi testato un test più esteso, che è stato girato fino a San Francisco per creare una presentazione in miniatura della costa della città e del Golden Gate Bridge iconico.</span><span class="sxs-lookup"><span data-stu-id="e3a99-133">We then did a more extensive test, traveling down to San Francisco to create a miniature tour of the city’s coast and the iconic Golden Gate bridge.</span></span> <span data-ttu-id="e3a99-134">Questo rig della fotocamera è quello che abbiamo usato per la maggior parte delle nostre acquisizioni dei percorsi visitati in HoloTour.</span><span class="sxs-lookup"><span data-stu-id="e3a99-134">This camera rig is what we used for most of our captures of the locations you visit in HoloTour.</span></span>

![Il 360 ° rig della fotocamera che si sta filmando in Machu Picchu.](images/camera-machu-pichu-500px.png)

<span data-ttu-id="e3a99-136">Il 360 ° rig della fotocamera che si sta filmando in Machu Picchu.</span><span class="sxs-lookup"><span data-stu-id="e3a99-136">The 360° camera rig filming in Machu Picchu.</span></span> 

## <a name="behind-the-scenes"></a><span data-ttu-id="e3a99-137">Dietro le quinte</span><span class="sxs-lookup"><span data-stu-id="e3a99-137">Behind the scenes</span></span>

<span data-ttu-id="e3a99-138">Prima di filmarlo, era necessario scoprire quali sono le località da includere nella nostra presentazione virtuale.</span><span class="sxs-lookup"><span data-stu-id="e3a99-138">Before filming, we needed to figure out which locations we wanted to include on our virtual tour.</span></span> <span data-ttu-id="e3a99-139">Roma è stata la prima sede per la spedizione e volevamo ottenerla, quindi abbiamo deciso di eseguire un viaggio di scouting in anticipo.</span><span class="sxs-lookup"><span data-stu-id="e3a99-139">Rome was the first location we intended to ship and we wanted to get it right, so we decided to do a scouting trip in advance.</span></span> <span data-ttu-id="e3a99-140">Abbiamo inviato un team di sei persone, inclusi gli artisti, i progettisti e i produttori, per una visita al posto dei siti considerati.</span><span class="sxs-lookup"><span data-stu-id="e3a99-140">We sent a team of six people—including artists, designers, and producers—for an in-person visit to the sites we were considering.</span></span> <span data-ttu-id="e3a99-141">Il viaggio ha richiesto circa 9 giorni, 2,5 per le corse, il resto per il film.</span><span class="sxs-lookup"><span data-stu-id="e3a99-141">The trip took about 9 days – 2.5 for travel, the rest for filming.</span></span> <span data-ttu-id="e3a99-142">Per Machu Picchu abbiamo scelto di non eseguire una corsa Scout, una ricerca preliminare e la prenotazione di alcuni giorni di buffer per il film.</span><span class="sxs-lookup"><span data-stu-id="e3a99-142">(For Machu Picchu we opted not to do a scout trip, researching in advance and booking a few days of buffer for filming.)</span></span>

<span data-ttu-id="e3a99-143">Mentre a Roma, il team ha fotografato le foto di ogni area e ha notato i fatti interessanti, oltre a considerazioni pratiche, ad esempio il modo in cui è difficile passare a ogni punto e quanto è difficile eseguire il film a causa di folle o restrizioni.</span><span class="sxs-lookup"><span data-stu-id="e3a99-143">While in Rome, the team took photos of each area and noted interesting facts as well as practical considerations, such as how hard it is to travel to each spot and how difficult it would be to film because of crowds or restrictions.</span></span> <span data-ttu-id="e3a99-144">Questo può sembrare una vacanza, ma è molto lavoro.</span><span class="sxs-lookup"><span data-stu-id="e3a99-144">This may sound like a vacation, but it’s a lot of work.</span></span> <span data-ttu-id="e3a99-145">I giorni sono iniziati prima della mattina e non vengono interrotti fino alla sera.</span><span class="sxs-lookup"><span data-stu-id="e3a99-145">Days started early in the morning and would go non-stop until evening.</span></span> <span data-ttu-id="e3a99-146">Ogni notte, il metraggio è stato caricato per tornare al team a Seattle.</span><span class="sxs-lookup"><span data-stu-id="e3a99-146">Each night, footage was uploaded for the team back in Seattle to review.</span></span> 

![Il nostro team di acquisizione a Roma.](images/holotour-filming-crew-rome-500px.jpg) 

<span data-ttu-id="e3a99-148">Il nostro team di acquisizione a Roma.</span><span class="sxs-lookup"><span data-stu-id="e3a99-148">Our capture crew in Rome.</span></span> 


<span data-ttu-id="e3a99-149">Al termine del viaggio Scout, è stato creato un piano finale per il filming effettivo.</span><span class="sxs-lookup"><span data-stu-id="e3a99-149">After the scout trip was completed, a final plan was made for actual filming.</span></span> <span data-ttu-id="e3a99-150">Questa operazione richiedeva un elenco dettagliato di dove ci si stava filmando, il giorno e l'ora.</span><span class="sxs-lookup"><span data-stu-id="e3a99-150">This required a detailed list of where we were going to film, on what day, and at what time.</span></span> <span data-ttu-id="e3a99-151">Ogni giorno all'estero è costoso, quindi questi viaggi necessitano di efficienza.</span><span class="sxs-lookup"><span data-stu-id="e3a99-151">Every day overseas is expensive, so these trips needed to be efficient.</span></span> <span data-ttu-id="e3a99-152">Abbiamo prenotato guide e gestori a Roma per aiutarci a usare completamente tutti i giorni da prima dell'alba al tramonto.</span><span class="sxs-lookup"><span data-stu-id="e3a99-152">We booked guides and handlers in Rome to help us and fully used every day from before sunrise to after sunset.</span></span> <span data-ttu-id="e3a99-153">È necessario ottenere il miglior metraggio possibile per fare in modo che ci si trovi davvero.</span><span class="sxs-lookup"><span data-stu-id="e3a99-153">We need to get the best footage possible in order to make you feel like you’re really there.</span></span>

### <a name="capturing-the-video"></a><span data-ttu-id="e3a99-154">Acquisizione del video</span><span class="sxs-lookup"><span data-stu-id="e3a99-154">Capturing the video</span></span>

<span data-ttu-id="e3a99-155">Eseguire alcune operazioni semplici durante l'acquisizione può semplificare notevolmente la post-elaborazione.</span><span class="sxs-lookup"><span data-stu-id="e3a99-155">Doing a few simple things during capture can make post-processing much easier.</span></span> <span data-ttu-id="e3a99-156">Ad esempio, ogni volta che si uniscono immagini da più fotocamere, si verificano elementi visivi perché ogni fotocamera ha una visualizzazione leggermente diversa.</span><span class="sxs-lookup"><span data-stu-id="e3a99-156">For example, whenever you stitch together images from multiple cameras, you end up with visual artifacts because each camera has a slightly different view.</span></span> <span data-ttu-id="e3a99-157">Gli oggetti più vicini sono la fotocamera, maggiore è la differenza tra le visualizzazioni e più grande sarà l'Unione degli artefatti.</span><span class="sxs-lookup"><span data-stu-id="e3a99-157">The closer objects are to the camera, the larger the difference between the views, and the larger the stitching artifacts will be.</span></span> <span data-ttu-id="e3a99-158">Ecco un modo semplice per visualizzare il problema: tenere il dito davanti alla faccia e osservarlo con un solo occhio.</span><span class="sxs-lookup"><span data-stu-id="e3a99-158">Here's an easy way to visualize the problem: hold your thumb up in front of your face and look at it with only one eye.</span></span> <span data-ttu-id="e3a99-159">Ora cambia gli occhi.</span><span class="sxs-lookup"><span data-stu-id="e3a99-159">Now switch eyes.</span></span> <span data-ttu-id="e3a99-160">Si noterà che il pollice sembra essere spostato rispetto allo sfondo.</span><span class="sxs-lookup"><span data-stu-id="e3a99-160">You’ll see that your thumb appears to move relative to the background.</span></span> <span data-ttu-id="e3a99-161">Se si tiene il cursore oltre il viso e si ripete l'esperimento, il cursore appare meno.</span><span class="sxs-lookup"><span data-stu-id="e3a99-161">If you hold your thumb further away from your face and repeat the experiment, your thumb will appear to move less.</span></span> <span data-ttu-id="e3a99-162">Questo movimento apparente è simile al problema che abbiamo affrontato: gli occhi, come le nostre fotocamere, non vedono esattamente la stessa immagine perché sono separati da una distanza minima.</span><span class="sxs-lookup"><span data-stu-id="e3a99-162">That apparent movement is similar to the stitching problem we faced: Your eyes, like our cameras, don’t see the exact same image because they are separated by a little distance.</span></span>

<span data-ttu-id="e3a99-163">Poiché è molto più semplice evitare gli artefatti peggiori durante il film che è necessario correggere durante la post-elaborazione, si è tentato di evitare la necessità di unire gli oggetti di chiusura alla fotocamera, nella speranza di eliminare la necessità di unire gli oggetti di chiusura.</span><span class="sxs-lookup"><span data-stu-id="e3a99-163">Because it’s much easier to prevent the worst artifacts while filming than it is to correct them in post-processing, we tried to keep people and things far away from the camera in the hopes we could eliminate the need to stitch close-up objects.</span></span> <span data-ttu-id="e3a99-164">La gestione di una grande deselezione della nostra fotocamera era probabilmente una delle principali problemi riscontrati durante la fase di Shooting.</span><span class="sxs-lookup"><span data-stu-id="e3a99-164">Maintaining a large clearing around our camera was probably one of the biggest challenges we had during shooting and we had to get creative to make it work.</span></span> <span data-ttu-id="e3a99-165">Lavorare con le guide locali è stato un enorme aiuto nella gestione delle folle, ma è stato anche scoperto che l'uso di segni, a volte piccoli coni o sacchetti di fagioli, per contrassegnare lo spazio di film era ragionevolmente efficace, soprattutto perché era necessario solo ottenere una breve quantità di metraggio in ogni posizione.</span><span class="sxs-lookup"><span data-stu-id="e3a99-165">Working with local guides was a huge help in managing crowds, but we also found that using signs—and sometimes small cones or bean bags—to mark our filming space was reasonably effective, especially since we only needed to get a short amount of footage at each location.</span></span> <span data-ttu-id="e3a99-166">Spesso il modo migliore per ottenere una buona acquisizione è stato quello di raggiungere il primo mattino, prima che la maggior parte delle persone si trovino.</span><span class="sxs-lookup"><span data-stu-id="e3a99-166">Often the best way to get a good capture was to just to arrive very early in the morning, before most people showed up.</span></span>

<span data-ttu-id="e3a99-167">Altre tecniche di acquisizione utili provengono direttamente dalle procedure tradizionali di film.</span><span class="sxs-lookup"><span data-stu-id="e3a99-167">Some other useful capture techniques come straight from traditional film practices.</span></span> <span data-ttu-id="e3a99-168">Ad esempio, è stata usata una scheda di correzione dei colori su tutte le fotocamere e sono state acquisite foto di riferimento di trame e oggetti che potrebbero essere necessari in seguito.</span><span class="sxs-lookup"><span data-stu-id="e3a99-168">For example, we used a color correction card on all of our cameras and captured reference photos of textures and objects we might need later.</span></span> 

![Un taglio approssimativo di Machu Picchu che mostra la scheda di correzione dei colori.](images/rough-cut-machu-picchu-500px.png)

<span data-ttu-id="e3a99-170">Una riduzione approssimativa del metraggio Pantheon prima dell'Unione.</span><span class="sxs-lookup"><span data-stu-id="e3a99-170">A rough cut of Pantheon footage before stitching.</span></span>

### <a name="processing-the-video"></a><span data-ttu-id="e3a99-171">Elaborazione del video</span><span class="sxs-lookup"><span data-stu-id="e3a99-171">Processing the video</span></span>

<span data-ttu-id="e3a99-172">L'acquisizione del contenuto di 360 ° è solo il primo passaggio, ma è necessaria una grande elaborazione per convertire il metraggio della fotocamera non elaborato che è stato acquisito nelle risorse finali visualizzate in HoloTour.</span><span class="sxs-lookup"><span data-stu-id="e3a99-172">Capturing 360° content is only the first step—a lot of processing is needed to convert the raw camera footage we captured into the final assets you see in HoloTour.</span></span> <span data-ttu-id="e3a99-173">Una volta tornato a casa, era necessario portare il video da 14 diversi feed della fotocamera e convertirlo in un unico video continuo con elementi minimi.</span><span class="sxs-lookup"><span data-stu-id="e3a99-173">Once we were back home we needed to take the video from 14 different camera feeds and turn it into a single continuous video with minimal artifacts.</span></span> <span data-ttu-id="e3a99-174">Il nostro team di arte ha usato diversi strumenti per combinare e lucidare il metraggio acquisito ed è stata sviluppata una pipeline per ottimizzare l'elaborazione quanto più possibile.</span><span class="sxs-lookup"><span data-stu-id="e3a99-174">Our art team used a number of tools to combine and polish the captured footage and we developed a pipeline to optimize the processing as much as possible.</span></span> <span data-ttu-id="e3a99-175">Il metraggio doveva essere assemblato, colorato con correzione e poi composito per rimuovere gli elementi e gli artefatti di dispersione o per aggiungere ulteriori sacche di vita e movimento, il tutto con l'obiettivo di migliorare la sensazione di essere effettivamente disponibili.</span><span class="sxs-lookup"><span data-stu-id="e3a99-175">The footage had to be stitched together, color corrected, and then composited to remove distracting elements and artifacts or to add supplemental pockets of life and motion, all with the goal to enhance that feeling of actually being there.</span></span>

![Una riduzione approssimativa del metraggio Pantheon prima dell'Unione.](images/rough-cut-pantheon-500px.png)

<span data-ttu-id="e3a99-177">Una riduzione approssimativa del metraggio Pantheon prima dell'Unione.</span><span class="sxs-lookup"><span data-stu-id="e3a99-177">A rough cut of Pantheon footage before stitching.</span></span> 


<span data-ttu-id="e3a99-178">Per unire i video, è stato usato uno strumento denominato [PTGui](https://www.ptgui.com/) che è stato integrato nella pipeline di elaborazione.</span><span class="sxs-lookup"><span data-stu-id="e3a99-178">To stitch the videos together, we used a tool called [PTGui](https://www.ptgui.com/) and integrated it into our processing pipeline.</span></span> <span data-ttu-id="e3a99-179">Nell'ambito della post-elaborazione abbiamo estratto ancora i frame dai nostri video ed è stato trovato un modello di Unione che sembrava adatto per uno di questi frame.</span><span class="sxs-lookup"><span data-stu-id="e3a99-179">As part of post-processing we extracted still frames from our videos and found a stitching pattern that looked good for one of those frames.</span></span> <span data-ttu-id="e3a99-180">Il modello è stato quindi applicato a un plug-in personalizzato scritto che consentiva ai nostri artisti video di ottimizzare e modificare direttamente il modello di Unione durante la composizione in After Effects.</span><span class="sxs-lookup"><span data-stu-id="e3a99-180">We then applied that pattern to a custom plugin we wrote that allowed our video artists to fine tune and tweak the stitching pattern directly while compositing in After Effects.</span></span> 

![Screenshot di PTGui che mostra il metraggio Pantheon ricamato.](images/stitching-tool-pantheon-500px.png)

<span data-ttu-id="e3a99-182">Screenshot di PTGui che mostra il metraggio Pantheon ricamato.</span><span class="sxs-lookup"><span data-stu-id="e3a99-182">Screenshot of PTGui showing the stitched Pantheon footage.</span></span> 


### <a name="video-playback"></a><span data-ttu-id="e3a99-183">Riproduzione video</span><span class="sxs-lookup"><span data-stu-id="e3a99-183">Video playback</span></span>

<span data-ttu-id="e3a99-184">Una volta completata l'elaborazione del metraggio, abbiamo un video senza problemi, ma è eccezionalmente grande, intorno alla risoluzione di 8K.</span><span class="sxs-lookup"><span data-stu-id="e3a99-184">After processing of the footage is completed, we have a seamless video but it’s extraordinarily large—around 8K resolution.</span></span> <span data-ttu-id="e3a99-185">La decodifica del video è costosa e ci sono pochissimi computer che possono gestire un video da 8 a 8, quindi il prossimo problema è stato trovare un modo per riprodurre questo video in HoloLens.</span><span class="sxs-lookup"><span data-stu-id="e3a99-185">Decoding video is expensive and there are very few computers that can handle an 8K video so the next challenge was finding a way to play this video back on HoloLens.</span></span> <span data-ttu-id="e3a99-186">Sono state sviluppate diverse strategie per evitare il costo della decodifica, pur continuando a sembrare che l'utente stesse visualizzando l'intero video.</span><span class="sxs-lookup"><span data-stu-id="e3a99-186">We developed a number of strategies to avoid the cost of decoding while still making the user feel like they were viewing the entire video.</span></span>

<span data-ttu-id="e3a99-187">L'ottimizzazione più semplice consiste nell'evitare di decodificare parti del video che non cambiano molto.</span><span class="sxs-lookup"><span data-stu-id="e3a99-187">The easiest optimization is to avoid decoding parts of the video that don’t change much.</span></span> <span data-ttu-id="e3a99-188">È stato scritto uno strumento che consente di identificare le aree in ogni scena che hanno un minimo o nessun movimento.</span><span class="sxs-lookup"><span data-stu-id="e3a99-188">We wrote a tool to identify areas in each scene that have little or no motion.</span></span> <span data-ttu-id="e3a99-189">Per queste aree viene mostrata un'immagine statica anziché decodificare un video per ogni frame.</span><span class="sxs-lookup"><span data-stu-id="e3a99-189">For those regions we show a static image rather than decoding a video each frame.</span></span> <span data-ttu-id="e3a99-190">Per rendere possibile questa operazione, abbiamo diviso il video di grandi dimensioni in blocchi molto più piccoli.</span><span class="sxs-lookup"><span data-stu-id="e3a99-190">To make this possible, we divided up the massive video into much smaller chunks.</span></span>

<span data-ttu-id="e3a99-191">Si è inoltre verificato che ogni pixel decodificato è stato usato in modo più efficace.</span><span class="sxs-lookup"><span data-stu-id="e3a99-191">We also made sure that every pixel we decoded was used most effectively.</span></span> <span data-ttu-id="e3a99-192">Abbiamo sperimentato le tecniche di compressione per ridurre le dimensioni del video; le aree video vengono suddivise in base ai poligoni della geometria su cui verrebbe proiettata; sono state modificate le UV e sono stati riconfezionati i video in base alla quantità di dettagli inclusi nei diversi poligoni.</span><span class="sxs-lookup"><span data-stu-id="e3a99-192">We experimented with compression techniques to lower the size of the video; we split the video regions according to the polygons of the geometry it would be projected onto; we adjusted UVs and repacked the videos based on how much detail different polygons included.</span></span> <span data-ttu-id="e3a99-193">Il risultato di questo lavoro è che ciò che è stato avviato come un singolo video a 8 KB si è trasformato in molti blocchi che sembrano quasi incomprensibili fino a quando non vengono riproiettati correttamente nella scena.</span><span class="sxs-lookup"><span data-stu-id="e3a99-193">The result of this work is that what started as a single 8k video turned into many chunks that look almost unintelligible until they are properly re-projected into the scene.</span></span> <span data-ttu-id="e3a99-194">Per uno sviluppatore di giochi che riconosce il mapping delle trame e la compressione UV, probabilmente avrà un aspetto familiare.</span><span class="sxs-lookup"><span data-stu-id="e3a99-194">For a game developer who understands texture mapping and UV packing, this will probably look familiar.</span></span> 

![Vista completa del Pantheon prima delle ottimizzazioni.](images/pantheon-before-optimization-500px.png) 

<span data-ttu-id="e3a99-196">Vista completa del Pantheon prima delle ottimizzazioni.</span><span class="sxs-lookup"><span data-stu-id="e3a99-196">A full view of the Pantheon before optimizations.</span></span> 


![Metà destra del Pantheon, elaborata per la riproduzione video.](images/pantheon-process-video-playback-500px.png) 

<span data-ttu-id="e3a99-198">Metà destra del Pantheon, elaborata per la riproduzione video.</span><span class="sxs-lookup"><span data-stu-id="e3a99-198">The right half of the Pantheon, processed for video playback.</span></span> 


![Esempio di una singola area video dopo l'ottimizzazione e la compressione.](images/single-video-region-after-optimization-500px.png) 

<span data-ttu-id="e3a99-200">Esempio di una singola area video dopo l'ottimizzazione e la compressione.</span><span class="sxs-lookup"><span data-stu-id="e3a99-200">Example of a single video region after optimization and packing.</span></span> 


<span data-ttu-id="e3a99-201">Un altro espediente usato è stato quello di evitare la decodifica del video non visualizzato attivamente.</span><span class="sxs-lookup"><span data-stu-id="e3a99-201">Another trick we used was to avoid decoding video you aren’t actively viewing.</span></span> <span data-ttu-id="e3a99-202">In HoloTour è possibile visualizzare solo parte della scena completa in un determinato momento.</span><span class="sxs-lookup"><span data-stu-id="e3a99-202">While in HoloTour, you can only see part of the full scene at any given moment.</span></span> <span data-ttu-id="e3a99-203">I video vengono decodificati solo all'interno o all'esterno del campo di visualizzazione (FOV).</span><span class="sxs-lookup"><span data-stu-id="e3a99-203">We only decode videos within or shortly outside of your field of view (FOV).</span></span> <span data-ttu-id="e3a99-204">Quando si ruota la testa, si inizia a riprodurre le aree del video che ora si trovano nel FOV e si smette di giocare con quelli che non sono più al suo interno.</span><span class="sxs-lookup"><span data-stu-id="e3a99-204">As you rotate your head, we start playing the regions of the video that are now in your FOV and stop playing ones that are no longer within it.</span></span> <span data-ttu-id="e3a99-205">La maggior parte degli utenti non noterà neanche questo problema, ma se si gira rapidamente, si noterà che il video richiede un secondo avvio, nel frattempo verrà visualizzata un'immagine statica che, successivamente, tornerà a video una volta pronta.</span><span class="sxs-lookup"><span data-stu-id="e3a99-205">Most people won’t even notice this is happening, but if you turn around rapidly, you’ll see the video takes a second to start— in the meantime you’ll see a static image which then fades back to video once it’s ready.</span></span>

<span data-ttu-id="e3a99-206">Per far funzionare questa strategia è stato sviluppato un sistema di riproduzione video completo.</span><span class="sxs-lookup"><span data-stu-id="e3a99-206">To make this strategy work we developed an extensive video playback system.</span></span> <span data-ttu-id="e3a99-207">È stato ottimizzato il codice per la riproduzione di basso livello per rendere estremamente efficiente il cambio video.</span><span class="sxs-lookup"><span data-stu-id="e3a99-207">We optimized the low level playback code in order to make video switching extremely efficient.</span></span> <span data-ttu-id="e3a99-208">Inoltre, abbiamo dovuto codificare i nostri video in modo speciale per consentire il passaggio rapido a qualsiasi video in qualsiasi momento.</span><span class="sxs-lookup"><span data-stu-id="e3a99-208">Additionally, we had to encode our videos in a special way to make it possible to rapidly switch to any video at any time.</span></span> <span data-ttu-id="e3a99-209">Questa pipeline di riproduzione ha impiegato una quantità significativa di tempo di sviluppo, quindi è stata implementata in fasi.</span><span class="sxs-lookup"><span data-stu-id="e3a99-209">This playback pipeline took a significant amount of development time so we implemented it in stages.</span></span> <span data-ttu-id="e3a99-210">Si è iniziato con un sistema più semplice che era meno efficiente, ma i progettisti e gli artisti consentivano di lavorare sull'esperienza e lo hanno migliorato lentamente in un sistema di riproduzione più affidabile che ci consentiva di fornire alla barra di qualità finale.</span><span class="sxs-lookup"><span data-stu-id="e3a99-210">We started with a simpler system that was less efficient, but allowed designers and artists to work on the experience, and slowly improved it to a more robust playback system that allowed us to ship at the final quality bar.</span></span> <span data-ttu-id="e3a99-211">Questo sistema finale aveva strumenti personalizzati creati in Unity per configurare il video nella scena e monitorare il motore di riproduzione.</span><span class="sxs-lookup"><span data-stu-id="e3a99-211">This final system had custom tools we created within Unity to set up the video within the scene and monitor the playback engine.</span></span>

### <a name="recreating-near-space-objects-in-3d"></a><span data-ttu-id="e3a99-212">Ricreazione di oggetti near-space in 3D</span><span class="sxs-lookup"><span data-stu-id="e3a99-212">Recreating near-space objects in 3D</span></span>

<span data-ttu-id="e3a99-213">I video rappresentano la maggior parte degli elementi visualizzati in HoloTour, ma sono disponibili numerosi oggetti 3D che si trovano vicino all'utente, ad esempio il disegno in Piazza Navona, la fontana al di fuori del Pantheon o il palloncino ad aria calda per le scene aeree.</span><span class="sxs-lookup"><span data-stu-id="e3a99-213">Videos make up the majority of what you see in HoloTour, but there are a number of 3D objects that appear close to you, such as the painting in Piazza Navona, the fountain outside the Pantheon, or the hot air balloon you stand in for aerial scenes.</span></span> <span data-ttu-id="e3a99-214">Questi oggetti 3D sono importanti perché la percezione della profondità umana è molto corretta, ma non molto lontano.</span><span class="sxs-lookup"><span data-stu-id="e3a99-214">These 3D objects are important because human depth perception is very good up close, but not very good far away.</span></span> <span data-ttu-id="e3a99-215">Possiamo uscire dalla distanza dei video, ma per consentire agli utenti di aggirare il proprio spazio e come sono in realtà, gli oggetti vicini necessitano di profondità.</span><span class="sxs-lookup"><span data-stu-id="e3a99-215">We can get away with video in the distance, but to allow users to walk around their space and feel like they’re really there, nearby objects need depth.</span></span> <span data-ttu-id="e3a99-216">Questa tecnica è simile a quella che può essere visualizzata in un Museo di cronologia naturale, che illustra un diorama che presenta un landscape fisico, piante e campioni di animali in primo piano, ma si riferisce a un disegno opaco mascherato in background.</span><span class="sxs-lookup"><span data-stu-id="e3a99-216">This technique is similar to the sort of thing you might see in a natural history museum—picture a diorama that has physical landscaping, plants, and animal specimens in the foreground, but recedes into a cleverly masked matte painting in the background.</span></span>

<span data-ttu-id="e3a99-217">Alcuni oggetti sono semplicemente asset 3D creati e aggiunti alla scena per migliorare l'esperienza.</span><span class="sxs-lookup"><span data-stu-id="e3a99-217">Some objects are simply 3D assets we created and added to the scene to enhance the experience.</span></span> <span data-ttu-id="e3a99-218">Il disegno e la mongolfiera rientrano in questa categoria perché non erano presenti durante il film.</span><span class="sxs-lookup"><span data-stu-id="e3a99-218">The painting and the hot air balloon fall into this category because they weren’t present when we filmed.</span></span> <span data-ttu-id="e3a99-219">Analogamente alle risorse dei giochi, sono state create da un artista 3D del team e con trama appropriata.</span><span class="sxs-lookup"><span data-stu-id="e3a99-219">Similar to game assets, they were created by a 3D artist on our team and textured appropriately.</span></span> <span data-ttu-id="e3a99-220">Questi elementi vengono posizionati nelle nostre scene vicino a dove si trova e il motore di gioco può eseguirne il rendering nelle due visualizzazioni HoloLens in modo che vengano visualizzate come oggetto 3D.</span><span class="sxs-lookup"><span data-stu-id="e3a99-220">We place these in our scenes near where you stand, and the game engine can render them to the two HoloLens displays so that they appear as a 3D object.</span></span>

<span data-ttu-id="e3a99-221">Altre risorse, come la fontana al di fuori del Pantheon, sono oggetti reali presenti nei percorsi in cui stiamo girando video, ma per portare gli oggetti fuori dal video e in 3D, dobbiamo eseguire una serie di operazioni.</span><span class="sxs-lookup"><span data-stu-id="e3a99-221">Other assets, like the fountain outside the Pantheon, are real objects that exist in the locations where we're shooting video, but to bring these objects out of the video and into 3D, we have to do a number of things.</span></span>

<span data-ttu-id="e3a99-222">Per prima cosa, sono necessarie informazioni aggiuntive su ogni oggetto.</span><span class="sxs-lookup"><span data-stu-id="e3a99-222">First, we need additional information about each object.</span></span> <span data-ttu-id="e3a99-223">In questo caso, il nostro team ha acquisito una grande quantità di filmati di riferimento di questi oggetti in modo da disporre di immagini dettagliate sufficienti per ricreare le trame in modo accurato.</span><span class="sxs-lookup"><span data-stu-id="e3a99-223">While on location for filming, our team captured a lot of reference footage of these objects so that we would have enough detailed images to accurately recreate the textures.</span></span> <span data-ttu-id="e3a99-224">Il team ha anche eseguito un'analisi [fotogrammetria](https://en.wikipedia.org/wiki/Photogrammetry) , che costruisce un modello 3D da decine di immagini 2D, offrendo un modello di base dell'oggetto su scala perfetta.</span><span class="sxs-lookup"><span data-stu-id="e3a99-224">The team also performed a [photogrammetry](https://en.wikipedia.org/wiki/Photogrammetry) scan, which constructs a 3D model from dozens of 2D images, giving us a rough model of the object at perfect scale.</span></span>

<span data-ttu-id="e3a99-225">Durante l'elaborazione del nostro metraggio, gli oggetti che verranno sostituiti con una rappresentazione 3D verranno rimossi dal video.</span><span class="sxs-lookup"><span data-stu-id="e3a99-225">As we process our footage, objects that will later be replaced with a 3D representation are removed from the video.</span></span> <span data-ttu-id="e3a99-226">L'asset 3D è basato sul modello fotogrammetria, ma è stato pulito e semplificato dagli artisti.</span><span class="sxs-lookup"><span data-stu-id="e3a99-226">The 3D asset is based on the photogrammetry model but cleaned up and simplified by our artists.</span></span> <span data-ttu-id="e3a99-227">Per alcuni oggetti, è possibile usare parti del video, ad esempio la trama dell'acqua sulla Fontana, ma la maggior parte della fontana è ora un oggetto 3D, che consente agli utenti di percepire la profondità e aggirarlo in uno spazio limitato nell'esperienza.</span><span class="sxs-lookup"><span data-stu-id="e3a99-227">For some objects, we can use parts of the video—such as the water texture on the fountain—but most of the fountain is now a 3D object, which allows users to perceive depth and walk around it in a limited space in the experience.</span></span> <span data-ttu-id="e3a99-228">La presenza di oggetti near-space come questo consente di aumentare in modo sostanziale il senso di realismo e consente di instradare gli utenti nella posizione virtuale.</span><span class="sxs-lookup"><span data-stu-id="e3a99-228">Having near-space objects like this greatly adds to the sense of realism and helps to ground the users in the virtual location.</span></span> 

![Metraggio Pantheon con la Fontana rimossa.](images/object-removal-pantheon-500px.png)

<span data-ttu-id="e3a99-231">Metraggio Pantheon con la Fontana rimossa.</span><span class="sxs-lookup"><span data-stu-id="e3a99-231">Pantheon footage with the fountain removed.</span></span> <span data-ttu-id="e3a99-232">Verrà sostituito con un asset 3D.</span><span class="sxs-lookup"><span data-stu-id="e3a99-232">It will be replaced with a 3D asset.</span></span>


## <a name="final-thoughts"></a><span data-ttu-id="e3a99-233">Considerazioni finali</span><span class="sxs-lookup"><span data-stu-id="e3a99-233">Final thoughts</span></span>

<span data-ttu-id="e3a99-234">Ovviamente, c'era ancora di più per creare questo contenuto rispetto a quello che abbiamo discusso qui.</span><span class="sxs-lookup"><span data-stu-id="e3a99-234">Obviously, there was more to creating this content than what we've discussed here.</span></span> <span data-ttu-id="e3a99-235">Ci sono alcune scene: ci piace denominarle "prospettive impossibili", tra cui la corsa a mongolfiera e la lotta gladiatore nel Colosseo, che ha adottato un approccio più creativo.</span><span class="sxs-lookup"><span data-stu-id="e3a99-235">There are a few scenes—we like to call them "impossible perspectives"—including the hot air balloon ride and the gladiator fight in the Colosseum, which took a more creative approach.</span></span> <span data-ttu-id="e3a99-236">Questi verranno affrontati in un case study futuro.</span><span class="sxs-lookup"><span data-stu-id="e3a99-236">We'll address these in a future case study.</span></span>

<span data-ttu-id="e3a99-237">Ci auguriamo che la condivisione di soluzioni ad alcune delle principali problemi riscontrati durante la produzione sia utile per altri sviluppatori e che tu sia ispirato a usare alcune di queste tecniche per creare esperienze immersive per HoloLens.</span><span class="sxs-lookup"><span data-stu-id="e3a99-237">We hope that sharing solutions to some of the bigger challenges we had during production is helpful to other developers and that you're inspired to use some of these techniques to create your own immersive experiences for HoloLens.</span></span> <span data-ttu-id="e3a99-238">In tal caso, assicurati di condividerlo con noi nel [Forum sullo sviluppo di app per HoloLens](https://forums.hololens.com/).</span><span class="sxs-lookup"><span data-stu-id="e3a99-238">(And if you do, please make sure to share it with us on the [HoloLens App Development forum](https://forums.hololens.com/)!)</span></span>

## <a name="about-the-authors"></a><span data-ttu-id="e3a99-239">Informazioni sugli autori</span><span class="sxs-lookup"><span data-stu-id="e3a99-239">About the authors</span></span>

<table style="border:0">
<tr>
<td style="border:0" width="60px"> <img alt="David Haley" width="60" height="60" src="images/haley.png" /></td>
<td style="border:0" width="408"> <span data-ttu-id="e3a99-240"><b>David Haley</b> è uno sviluppatore senior che ha appreso altre informazioni sui rig della fotocamera e la riproduzione video di quanto pensi possa essere usato in HoloTour.</span><span class="sxs-lookup"><span data-stu-id="e3a99-240"><b>David Haley</b> is a Senior Developer who learned more about camera rigs and video playback than he thought possible from working on HoloTour.</span></span></td>
<td style="border:0" width="60px"> <img alt="Danny Askew" width="60" height="60" src="images/askew.png" /></td>
<td style="border:0" width="408"> <span data-ttu-id="e3a99-241"><b>Danny storta</b> è un artista video che ha avuto la certezza che il suo percorso attraverso Roma fosse il più perfetto possibile.</span><span class="sxs-lookup"><span data-stu-id="e3a99-241"><b>Danny Askew</b> is a Video Artist who made sure your journey through Rome was as flawless as possible.</span></span></td>
</tr>
<tr>
<td style="border:0" width="60px"> <img alt="Jason Syltebo" width="60" height="60" src="images/syltebo.png" /></td>
<td style="border:0" width="408"> <span data-ttu-id="e3a99-242"><b>Jason Syltebo</b> è una finestra di progettazione audio che ha avuto la certezza di poter provare il paesaggio appropriato di ogni destinazione visitata, anche quando si torna indietro nel tempo.</span><span class="sxs-lookup"><span data-stu-id="e3a99-242"><b>Jason Syltebo</b> is an Audio Designer who made sure you could experience the soundscape of every destination you visit, even when you go back in time.</span></span></td>
<td style="border:0" width="60px"> <img alt="Travis Steiner" width="60" height="60" src="images/steiner.png" /></td>
<td style="border:0" width="408"> <span data-ttu-id="e3a99-243"><b>Travis Steiner</b> è un Director di progettazione che ha eseguito ricerche e percorsi Scout, ha creato piani di viaggio e ha diretto il film sul sito.</span><span class="sxs-lookup"><span data-stu-id="e3a99-243"><b>Travis Steiner</b> is a Design Director who researched and scouted locations, created trip plans, and directed filming on site.</span></span></td>
</tr>
</table>



## <a name="see-also"></a><span data-ttu-id="e3a99-244">Vedi anche</span><span class="sxs-lookup"><span data-stu-id="e3a99-244">See also</span></span>
* [<span data-ttu-id="e3a99-245">Video: Microsoft HoloLens: HoloTour</span><span class="sxs-lookup"><span data-stu-id="e3a99-245">Video: Microsoft HoloLens: HoloTour</span></span>](https://www.youtube.com/watch?v=pLd9WPlaMpY)
